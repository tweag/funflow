<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Data.Vinyl.Class.Method</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">vinyl-0.13.3: Extensible Records</span><ul class="links" id="page-menu"><li><a href="src/Data.Vinyl.Class.Method.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Data.Vinyl.Class.Method</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Mapping methods over records</a></li><li><a href="#g:2">Support for <code>RecMapMethod</code></a></li><li><a href="#g:3">Eq Functions</a></li><li><a href="#g:4">Ord Functions</a></li><li><a href="#g:5">Monoid Functions</a></li><li><a href="#g:6">Num Functions</a></li><li><a href="#g:7">Bounded Functions</a></li><li><a href="#g:8">Example</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module uses <code><a href="Data-Vinyl-TypeLevel.html#t:RecAll" title="Data.Vinyl.TypeLevel">RecAll</a></code> to extend common typeclass methods to records.
    Generally, it is preferable to use the original typeclass methods to these
    variants. For example, in most places where <code><a href="Data-Vinyl-Class-Method.html#v:recCompare" title="Data.Vinyl.Class.Method">recCompare</a></code> could be used,
    you could use <code><a href="../base-4.14.3.0/Data-Ord.html#v:compare" title="Data.Ord">compare</a></code> instead. They are useful in scenarios
    that involve working on unknown subsets of a record's fields
    because <code><a href="Data-Vinyl-TypeLevel.html#t:RecAll" title="Data.Vinyl.TypeLevel">RecAll</a></code> constraints can easily be weakened. An example of this
    is given at the bottom of this page.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">class</span> <a href="#t:RecMapMethod">RecMapMethod</a> c f ts <span class="keyword">where</span><ul class="subs"><li><a href="#v:rmapMethod">rmapMethod</a> :: (<span class="keyword">forall</span> a. c (<a href="Data-Vinyl-Class-Method.html#t:PayloadType" title="Data.Vinyl.Class.Method">PayloadType</a> f a) =&gt; f a -&gt; g a) -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f ts -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> g ts</li></ul></li><li class="src short"><a href="#v:rmapMethodF">rmapMethodF</a> :: <span class="keyword">forall</span> c f ts. (<a href="../base-4.14.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, FieldPayload f ~ 'FieldId, <a href="Data-Vinyl-Class-Method.html#t:RecMapMethod" title="Data.Vinyl.Class.Method">RecMapMethod</a> c f ts) =&gt; (<span class="keyword">forall</span> a. c a =&gt; a -&gt; a) -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f ts -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f ts</li><li class="src short"><a href="#v:mapFields">mapFields</a> :: <span class="keyword">forall</span> c ts. <a href="Data-Vinyl-Class-Method.html#t:RecMapMethod" title="Data.Vinyl.Class.Method">RecMapMethod</a> c <a href="Data-Vinyl-Functor.html#t:ElField" title="Data.Vinyl.Functor">ElField</a> ts =&gt; (<span class="keyword">forall</span> a. c a =&gt; a -&gt; a) -&gt; <a href="Data-Vinyl-Derived.html#t:FieldRec" title="Data.Vinyl.Derived">FieldRec</a> ts -&gt; <a href="Data-Vinyl-Derived.html#t:FieldRec" title="Data.Vinyl.Derived">FieldRec</a> ts</li><li class="src short"><span class="keyword">class</span> <a href="#t:RecMapMethod1">RecMapMethod1</a> c f ts <span class="keyword">where</span><ul class="subs"><li><a href="#v:rmapMethod1">rmapMethod1</a> :: (<span class="keyword">forall</span> a. c (f a) =&gt; f a -&gt; g a) -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f ts -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> g ts</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:RecPointed">RecPointed</a> c f ts <span class="keyword">where</span><ul class="subs"><li><a href="#v:rpointMethod">rpointMethod</a> :: (<span class="keyword">forall</span> a. c (f a) =&gt; f a) -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f ts</li></ul></li><li class="src short"><a href="#v:rtraverseInMethod">rtraverseInMethod</a> :: <span class="keyword">forall</span> c h f g rs. (<a href="Data-Vinyl-Core.html#t:RMap" title="Data.Vinyl.Core">RMap</a> rs, <a href="Data-Vinyl-Core.html#t:RPureConstrained" title="Data.Vinyl.Core">RPureConstrained</a> c rs, <a href="Data-Vinyl-Core.html#t:RApply" title="Data.Vinyl.Core">RApply</a> rs) =&gt; (<span class="keyword">forall</span> a. c a =&gt; f a -&gt; g (<a href="Data-Vinyl-TypeLevel.html#t:ApplyToField" title="Data.Vinyl.TypeLevel">ApplyToField</a> h a)) -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> g (<a href="Data-Vinyl-TypeLevel.html#t:MapTyCon" title="Data.Vinyl.TypeLevel">MapTyCon</a> h rs)</li><li class="src short"><a href="#v:rsequenceInFields">rsequenceInFields</a> :: <span class="keyword">forall</span> f rs. (<a href="../base-4.14.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="Data-Vinyl-Derived.html#t:AllFields" title="Data.Vinyl.Derived">AllFields</a> rs, <a href="Data-Vinyl-Core.html#t:RMap" title="Data.Vinyl.Core">RMap</a> rs) =&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> (f <a href="Data-Vinyl-Functor.html#t::." title="Data.Vinyl.Functor">:.</a> <a href="Data-Vinyl-Functor.html#t:ElField" title="Data.Vinyl.Functor">ElField</a>) rs -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> <a href="Data-Vinyl-Functor.html#t:ElField" title="Data.Vinyl.Functor">ElField</a> (<a href="Data-Vinyl-TypeLevel.html#t:MapTyCon" title="Data.Vinyl.TypeLevel">MapTyCon</a> f rs)</li><li class="src short"><span class="keyword">data</span> <a href="#t:FieldTyper">FieldTyper</a></li><li class="src short"><span class="keyword">type family</span> <a href="#t:ApplyFieldTyper">ApplyFieldTyper</a> (f :: <a href="Data-Vinyl-Class-Method.html#t:FieldTyper" title="Data.Vinyl.Class.Method">FieldTyper</a>) (a :: k) :: * <span class="keyword">where ...</span></li><li class="src short"><span class="keyword">type family</span> <a href="#t:PayloadType">PayloadType</a> f (a :: u) :: * <span class="keyword">where ...</span></li><li class="src short"><a href="#v:recEq">recEq</a> :: <a href="Data-Vinyl-TypeLevel.html#t:RecAll" title="Data.Vinyl.TypeLevel">RecAll</a> f rs <a href="../base-4.14.3.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> =&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs -&gt; <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:recCompare">recCompare</a> :: <a href="Data-Vinyl-TypeLevel.html#t:RecAll" title="Data.Vinyl.TypeLevel">RecAll</a> f rs <a href="../base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> =&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs -&gt; <a href="../base-4.14.3.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a></li><li class="src short"><a href="#v:recMempty">recMempty</a> :: <a href="Data-Vinyl-TypeLevel.html#t:RecAll" title="Data.Vinyl.TypeLevel">RecAll</a> f rs <a href="../base-4.14.3.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> =&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> proxy rs -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs</li><li class="src short"><a href="#v:recMappend">recMappend</a> :: <a href="Data-Vinyl-TypeLevel.html#t:RecAll" title="Data.Vinyl.TypeLevel">RecAll</a> f rs <a href="../base-4.14.3.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> =&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs</li><li class="src short"><a href="#v:recMconcat">recMconcat</a> :: <a href="Data-Vinyl-TypeLevel.html#t:RecAll" title="Data.Vinyl.TypeLevel">RecAll</a> f rs <a href="../base-4.14.3.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> =&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> proxy rs -&gt; [<a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs] -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs</li><li class="src short"><a href="#v:recAdd">recAdd</a> :: <a href="Data-Vinyl-TypeLevel.html#t:RecAll" title="Data.Vinyl.TypeLevel">RecAll</a> f rs <a href="../base-4.14.3.0/Prelude.html#t:Num" title="Prelude">Num</a> =&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs</li><li class="src short"><a href="#v:recSubtract">recSubtract</a> :: <a href="Data-Vinyl-TypeLevel.html#t:RecAll" title="Data.Vinyl.TypeLevel">RecAll</a> f rs <a href="../base-4.14.3.0/Prelude.html#t:Num" title="Prelude">Num</a> =&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs</li><li class="src short"><a href="#v:recMultiply">recMultiply</a> :: <a href="Data-Vinyl-TypeLevel.html#t:RecAll" title="Data.Vinyl.TypeLevel">RecAll</a> f rs <a href="../base-4.14.3.0/Prelude.html#t:Num" title="Prelude">Num</a> =&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs</li><li class="src short"><a href="#v:recAbs">recAbs</a> :: <a href="Data-Vinyl-TypeLevel.html#t:RecAll" title="Data.Vinyl.TypeLevel">RecAll</a> f rs <a href="../base-4.14.3.0/Prelude.html#t:Num" title="Prelude">Num</a> =&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs</li><li class="src short"><a href="#v:recSignum">recSignum</a> :: <a href="Data-Vinyl-TypeLevel.html#t:RecAll" title="Data.Vinyl.TypeLevel">RecAll</a> f rs <a href="../base-4.14.3.0/Prelude.html#t:Num" title="Prelude">Num</a> =&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs</li><li class="src short"><a href="#v:recNegate">recNegate</a> :: <a href="Data-Vinyl-TypeLevel.html#t:RecAll" title="Data.Vinyl.TypeLevel">RecAll</a> f rs <a href="../base-4.14.3.0/Prelude.html#t:Num" title="Prelude">Num</a> =&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs</li><li class="src short"><a href="#v:recMinBound">recMinBound</a> :: <a href="Data-Vinyl-TypeLevel.html#t:RecAll" title="Data.Vinyl.TypeLevel">RecAll</a> f rs <a href="../base-4.14.3.0/Prelude.html#t:Bounded" title="Prelude">Bounded</a> =&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> proxy rs -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs</li><li class="src short"><a href="#v:recMaxBound">recMaxBound</a> :: <a href="Data-Vinyl-TypeLevel.html#t:RecAll" title="Data.Vinyl.TypeLevel">RecAll</a> f rs <a href="../base-4.14.3.0/Prelude.html#t:Bounded" title="Prelude">Bounded</a> =&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> proxy rs -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Mapping methods over records</h1></a><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:RecMapMethod" class="def">RecMapMethod</a> c f ts <span class="keyword">where</span> <a href="src/Data.Vinyl.Class.Method.html#RecMapMethod" class="link">Source</a> <a href="#t:RecMapMethod" class="selflink">#</a></p><div class="doc"><p>Apply a typeclass method to each field of a <code><a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a></code> where the class
 constrains the index of the field, but not its interpretation
 functor.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:rmapMethod" class="def">rmapMethod</a> :: (<span class="keyword">forall</span> a. c (<a href="Data-Vinyl-Class-Method.html#t:PayloadType" title="Data.Vinyl.Class.Method">PayloadType</a> f a) =&gt; f a -&gt; g a) -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f ts -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> g ts <a href="src/Data.Vinyl.Class.Method.html#rmapMethod" class="link">Source</a> <a href="#v:rmapMethod" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:RecMapMethod">Instances</h4><details id="i:RecMapMethod" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:RecMapMethod:RecMapMethod:1"></span> <a href="Data-Vinyl-Class-Method.html#t:RecMapMethod" title="Data.Vinyl.Class.Method">RecMapMethod</a> c (f :: u -&gt; <a href="../base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) ('[] :: [u])</span> <a href="src/Data.Vinyl.Class.Method.html#line-189" class="link">Source</a> <a href="#t:RecMapMethod" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:RecMapMethod:RecMapMethod:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-Vinyl-Class-Method.html">Data.Vinyl.Class.Method</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:rmapMethod">rmapMethod</a> :: (<span class="keyword">forall</span> (a :: u0). c (<a href="Data-Vinyl-Class-Method.html#t:PayloadType" title="Data.Vinyl.Class.Method">PayloadType</a> f a) =&gt; f a -&gt; g a) -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f '[] -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> g '[] <a href="src/Data.Vinyl.Class.Method.html#rmapMethod" class="link">Source</a> <a href="#v:rmapMethod" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:RecMapMethod:RecMapMethod:2"></span> (c (<a href="Data-Vinyl-Class-Method.html#t:PayloadType" title="Data.Vinyl.Class.Method">PayloadType</a> f t), <a href="Data-Vinyl-Class-Method.html#t:RecMapMethod" title="Data.Vinyl.Class.Method">RecMapMethod</a> c f ts) =&gt; <a href="Data-Vinyl-Class-Method.html#t:RecMapMethod" title="Data.Vinyl.Class.Method">RecMapMethod</a> c (f :: a -&gt; <a href="../base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (t ': ts :: [a])</span> <a href="src/Data.Vinyl.Class.Method.html#line-197" class="link">Source</a> <a href="#t:RecMapMethod" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:RecMapMethod:RecMapMethod:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-Vinyl-Class-Method.html">Data.Vinyl.Class.Method</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:rmapMethod">rmapMethod</a> :: (<span class="keyword">forall</span> (a0 :: u). c (<a href="Data-Vinyl-Class-Method.html#t:PayloadType" title="Data.Vinyl.Class.Method">PayloadType</a> f a0) =&gt; f a0 -&gt; g a0) -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f (t ': ts) -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> g (t ': ts) <a href="src/Data.Vinyl.Class.Method.html#rmapMethod" class="link">Source</a> <a href="#v:rmapMethod" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:rmapMethodF" class="def">rmapMethodF</a> :: <span class="keyword">forall</span> c f ts. (<a href="../base-4.14.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, FieldPayload f ~ 'FieldId, <a href="Data-Vinyl-Class-Method.html#t:RecMapMethod" title="Data.Vinyl.Class.Method">RecMapMethod</a> c f ts) =&gt; (<span class="keyword">forall</span> a. c a =&gt; a -&gt; a) -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f ts -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f ts <a href="src/Data.Vinyl.Class.Method.html#rmapMethodF" class="link">Source</a> <a href="#v:rmapMethodF" class="selflink">#</a></p><div class="doc"><p>Apply a typeclass method to each field of a <code>Rec f ts</code> using the
 <code><a href="../base-4.14.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a></code> instance for <code>f</code> to lift the function into the
 functor. This is a commonly-used specialization of <code><a href="Data-Vinyl-Class-Method.html#v:rmapMethod" title="Data.Vinyl.Class.Method">rmapMethod</a></code>
 composed with <code><a href="../base-4.14.3.0/Data-Functor.html#v:fmap" title="Data.Functor">fmap</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:mapFields" class="def">mapFields</a> :: <span class="keyword">forall</span> c ts. <a href="Data-Vinyl-Class-Method.html#t:RecMapMethod" title="Data.Vinyl.Class.Method">RecMapMethod</a> c <a href="Data-Vinyl-Functor.html#t:ElField" title="Data.Vinyl.Functor">ElField</a> ts =&gt; (<span class="keyword">forall</span> a. c a =&gt; a -&gt; a) -&gt; <a href="Data-Vinyl-Derived.html#t:FieldRec" title="Data.Vinyl.Derived">FieldRec</a> ts -&gt; <a href="Data-Vinyl-Derived.html#t:FieldRec" title="Data.Vinyl.Derived">FieldRec</a> ts <a href="src/Data.Vinyl.Class.Method.html#mapFields" class="link">Source</a> <a href="#v:mapFields" class="selflink">#</a></p><div class="doc"><p>Apply a typeclass method to each field of a <code><a href="Data-Vinyl-Derived.html#t:FieldRec" title="Data.Vinyl.Derived">FieldRec</a></code>. This is a
 specialization of <code><a href="Data-Vinyl-Class-Method.html#v:rmapMethod" title="Data.Vinyl.Class.Method">rmapMethod</a></code>.</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:RecMapMethod1" class="def">RecMapMethod1</a> c f ts <span class="keyword">where</span> <a href="src/Data.Vinyl.Class.Method.html#RecMapMethod1" class="link">Source</a> <a href="#t:RecMapMethod1" class="selflink">#</a></p><div class="doc"><p>Apply a typeclass method to each field of a <code><a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a></code> where the class
 constrains the field when considered as a value interpreted by the
 record's interpretation functor.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:rmapMethod1" class="def">rmapMethod1</a> :: (<span class="keyword">forall</span> a. c (f a) =&gt; f a -&gt; g a) -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f ts -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> g ts <a href="src/Data.Vinyl.Class.Method.html#rmapMethod1" class="link">Source</a> <a href="#v:rmapMethod1" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:RecMapMethod1">Instances</h4><details id="i:RecMapMethod1" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:RecMapMethod1:RecMapMethod1:1"></span> <a href="Data-Vinyl-Class-Method.html#t:RecMapMethod1" title="Data.Vinyl.Class.Method">RecMapMethod1</a> c (f :: u -&gt; <a href="../base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) ('[] :: [u])</span> <a href="src/Data.Vinyl.Class.Method.html#line-193" class="link">Source</a> <a href="#t:RecMapMethod1" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:RecMapMethod1:RecMapMethod1:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-Vinyl-Class-Method.html">Data.Vinyl.Class.Method</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:rmapMethod1">rmapMethod1</a> :: (<span class="keyword">forall</span> (a :: u0). c (f a) =&gt; f a -&gt; g a) -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f '[] -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> g '[] <a href="src/Data.Vinyl.Class.Method.html#rmapMethod1" class="link">Source</a> <a href="#v:rmapMethod1" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:RecMapMethod1:RecMapMethod1:2"></span> (c (f t), <a href="Data-Vinyl-Class-Method.html#t:RecMapMethod1" title="Data.Vinyl.Class.Method">RecMapMethod1</a> c f ts) =&gt; <a href="Data-Vinyl-Class-Method.html#t:RecMapMethod1" title="Data.Vinyl.Class.Method">RecMapMethod1</a> c (f :: a -&gt; <a href="../base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (t ': ts :: [a])</span> <a href="src/Data.Vinyl.Class.Method.html#line-202" class="link">Source</a> <a href="#t:RecMapMethod1" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:RecMapMethod1:RecMapMethod1:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-Vinyl-Class-Method.html">Data.Vinyl.Class.Method</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:rmapMethod1">rmapMethod1</a> :: (<span class="keyword">forall</span> (a0 :: u). c (f a0) =&gt; f a0 -&gt; g a0) -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f (t ': ts) -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> g (t ': ts) <a href="src/Data.Vinyl.Class.Method.html#rmapMethod1" class="link">Source</a> <a href="#v:rmapMethod1" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:RecPointed" class="def">RecPointed</a> c f ts <span class="keyword">where</span> <a href="src/Data.Vinyl.Class.Method.html#RecPointed" class="link">Source</a> <a href="#t:RecPointed" class="selflink">#</a></p><div class="doc"><p>Generate a record from fields derived from type class
 instances.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:rpointMethod" class="def">rpointMethod</a> :: (<span class="keyword">forall</span> a. c (f a) =&gt; f a) -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f ts <a href="src/Data.Vinyl.Class.Method.html#rpointMethod" class="link">Source</a> <a href="#v:rpointMethod" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:RecPointed">Instances</h4><details id="i:RecPointed" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:RecPointed:RecPointed:1"></span> <a href="Data-Vinyl-Class-Method.html#t:RecPointed" title="Data.Vinyl.Class.Method">RecPointed</a> c (f :: u -&gt; <a href="../base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) ('[] :: [u])</span> <a href="src/Data.Vinyl.Class.Method.html#line-166" class="link">Source</a> <a href="#t:RecPointed" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:RecPointed:RecPointed:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-Vinyl-Class-Method.html">Data.Vinyl.Class.Method</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:rpointMethod">rpointMethod</a> :: (<span class="keyword">forall</span> (a :: u0). c (f a) =&gt; f a) -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f '[] <a href="src/Data.Vinyl.Class.Method.html#rpointMethod" class="link">Source</a> <a href="#v:rpointMethod" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:RecPointed:RecPointed:2"></span> (c (f t), <a href="Data-Vinyl-Class-Method.html#t:RecPointed" title="Data.Vinyl.Class.Method">RecPointed</a> c f ts) =&gt; <a href="Data-Vinyl-Class-Method.html#t:RecPointed" title="Data.Vinyl.Class.Method">RecPointed</a> c (f :: a -&gt; <a href="../base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (t ': ts :: [a])</span> <a href="src/Data.Vinyl.Class.Method.html#line-170" class="link">Source</a> <a href="#t:RecPointed" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:RecPointed:RecPointed:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-Vinyl-Class-Method.html">Data.Vinyl.Class.Method</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:rpointMethod">rpointMethod</a> :: (<span class="keyword">forall</span> (a0 :: u). c (f a0) =&gt; f a0) -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f (t ': ts) <a href="src/Data.Vinyl.Class.Method.html#rpointMethod" class="link">Source</a> <a href="#v:rpointMethod" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:rtraverseInMethod" class="def">rtraverseInMethod</a> :: <span class="keyword">forall</span> c h f g rs. (<a href="Data-Vinyl-Core.html#t:RMap" title="Data.Vinyl.Core">RMap</a> rs, <a href="Data-Vinyl-Core.html#t:RPureConstrained" title="Data.Vinyl.Core">RPureConstrained</a> c rs, <a href="Data-Vinyl-Core.html#t:RApply" title="Data.Vinyl.Core">RApply</a> rs) =&gt; (<span class="keyword">forall</span> a. c a =&gt; f a -&gt; g (<a href="Data-Vinyl-TypeLevel.html#t:ApplyToField" title="Data.Vinyl.TypeLevel">ApplyToField</a> h a)) -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> g (<a href="Data-Vinyl-TypeLevel.html#t:MapTyCon" title="Data.Vinyl.TypeLevel">MapTyCon</a> h rs) <a href="src/Data.Vinyl.Class.Method.html#rtraverseInMethod" class="link">Source</a> <a href="#v:rtraverseInMethod" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Data-Vinyl-Core.html#v:rtraverseIn" title="Data.Vinyl.Core">rtraverseIn</a></code>, but the function between functors may be
 constrained.</p></div></div><div class="top"><p class="src"><a id="v:rsequenceInFields" class="def">rsequenceInFields</a> :: <span class="keyword">forall</span> f rs. (<a href="../base-4.14.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="Data-Vinyl-Derived.html#t:AllFields" title="Data.Vinyl.Derived">AllFields</a> rs, <a href="Data-Vinyl-Core.html#t:RMap" title="Data.Vinyl.Core">RMap</a> rs) =&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> (f <a href="Data-Vinyl-Functor.html#t::." title="Data.Vinyl.Functor">:.</a> <a href="Data-Vinyl-Functor.html#t:ElField" title="Data.Vinyl.Functor">ElField</a>) rs -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> <a href="Data-Vinyl-Functor.html#t:ElField" title="Data.Vinyl.Functor">ElField</a> (<a href="Data-Vinyl-TypeLevel.html#t:MapTyCon" title="Data.Vinyl.TypeLevel">MapTyCon</a> f rs) <a href="src/Data.Vinyl.Class.Method.html#rsequenceInFields" class="link">Source</a> <a href="#v:rsequenceInFields" class="selflink">#</a></p><div class="doc"><p>Push an outer layer of interpretation functor into each named field.</p></div></div><a href="#g:2" id="g:2"><h1>Support for <code>RecMapMethod</code></h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:FieldTyper" class="def">FieldTyper</a> <a href="src/Data.Vinyl.Class.Method.html#FieldTyper" class="link">Source</a> <a href="#t:FieldTyper" class="selflink">#</a></p><div class="doc"><p>When we wish to apply a typeclass method to each field of a
 <code><a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a></code>, we typically care about typeclass instances of the record
 field types irrespective of the record's functor context. To expose
 the field types themselves, we utilize a constraint built from a
 defunctionalized type family in the <code><a href="Data-Vinyl-Class-Method.html#v:rmapMethod" title="Data.Vinyl.Class.Method">rmapMethod</a></code> method. The
 symbols of the function space are defined by this data type.</p></div></div><div class="top"><p class="src"><span class="keyword">type family</span> <a id="t:ApplyFieldTyper" class="def">ApplyFieldTyper</a> (f :: <a href="Data-Vinyl-Class-Method.html#t:FieldTyper" title="Data.Vinyl.Class.Method">FieldTyper</a>) (a :: k) :: * <span class="keyword">where ...</span> <a href="src/Data.Vinyl.Class.Method.html#ApplyFieldTyper" class="link">Source</a> <a href="#t:ApplyFieldTyper" class="selflink">#</a></p><div class="doc"><p>The interpretation function of the <code><a href="Data-Vinyl-Class-Method.html#t:FieldTyper" title="Data.Vinyl.Class.Method">FieldTyper</a></code> symbols.</p></div><div class="subs equations"><p class="caption">Equations</p><table><tr><td class="src"><a href="Data-Vinyl-Class-Method.html#t:ApplyFieldTyper" title="Data.Vinyl.Class.Method">ApplyFieldTyper</a> 'FieldId a = a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Vinyl-Class-Method.html#t:ApplyFieldTyper" title="Data.Vinyl.Class.Method">ApplyFieldTyper</a> 'FieldSnd '(s, b) = b</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">type family</span> <a id="t:PayloadType" class="def">PayloadType</a> f (a :: u) :: * <span class="keyword">where ...</span> <a href="src/Data.Vinyl.Class.Method.html#PayloadType" class="link">Source</a> <a href="#t:PayloadType" class="selflink">#</a></p><div class="doc"><p>Shorthand for combining <code><a href="Data-Vinyl-Class-Method.html#t:ApplyFieldTyper" title="Data.Vinyl.Class.Method">ApplyFieldTyper</a></code> and <code>FieldPayload</code>.</p></div><div class="subs equations"><p class="caption">Equations</p><table><tr><td class="src"><a href="Data-Vinyl-Class-Method.html#t:PayloadType" title="Data.Vinyl.Class.Method">PayloadType</a> f a = <a href="Data-Vinyl-Class-Method.html#t:ApplyFieldTyper" title="Data.Vinyl.Class.Method">ApplyFieldTyper</a> (FieldPayload f) a</td><td class="doc empty">&nbsp;</td></tr></table></div></div><a href="#g:3" id="g:3"><h1>Eq Functions</h1></a><div class="top"><p class="src"><a id="v:recEq" class="def">recEq</a> :: <a href="Data-Vinyl-TypeLevel.html#t:RecAll" title="Data.Vinyl.TypeLevel">RecAll</a> f rs <a href="../base-4.14.3.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> =&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs -&gt; <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Data.Vinyl.Class.Method.html#recEq" class="link">Source</a> <a href="#v:recEq" class="selflink">#</a></p></div><a href="#g:4" id="g:4"><h1>Ord Functions</h1></a><div class="top"><p class="src"><a id="v:recCompare" class="def">recCompare</a> :: <a href="Data-Vinyl-TypeLevel.html#t:RecAll" title="Data.Vinyl.TypeLevel">RecAll</a> f rs <a href="../base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> =&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs -&gt; <a href="../base-4.14.3.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="src/Data.Vinyl.Class.Method.html#recCompare" class="link">Source</a> <a href="#v:recCompare" class="selflink">#</a></p></div><a href="#g:5" id="g:5"><h1>Monoid Functions</h1></a><div class="top"><p class="src"><a id="v:recMempty" class="def">recMempty</a> :: <a href="Data-Vinyl-TypeLevel.html#t:RecAll" title="Data.Vinyl.TypeLevel">RecAll</a> f rs <a href="../base-4.14.3.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> =&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> proxy rs -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs <a href="src/Data.Vinyl.Class.Method.html#recMempty" class="link">Source</a> <a href="#v:recMempty" class="selflink">#</a></p><div class="doc"><p>This function differs from the original <code><a href="../base-4.14.3.0/Data-Monoid.html#v:mempty" title="Data.Monoid">mempty</a></code> in that
   it takes an argument. In some cases, you will already
   have a record of the type you are interested in, and
   that can be passed an the argument. In other situations
   where this is not the case, you may need the
   interpretation function of the argument record to be
   <code>Const ()</code> or <code>Proxy</code> so the you can generate the
   argument with <code><a href="Data-Vinyl-Core.html#v:rpure" title="Data.Vinyl.Core">rpure</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:recMappend" class="def">recMappend</a> :: <a href="Data-Vinyl-TypeLevel.html#t:RecAll" title="Data.Vinyl.TypeLevel">RecAll</a> f rs <a href="../base-4.14.3.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> =&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs <a href="src/Data.Vinyl.Class.Method.html#recMappend" class="link">Source</a> <a href="#v:recMappend" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:recMconcat" class="def">recMconcat</a> :: <a href="Data-Vinyl-TypeLevel.html#t:RecAll" title="Data.Vinyl.TypeLevel">RecAll</a> f rs <a href="../base-4.14.3.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> =&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> proxy rs -&gt; [<a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs] -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs <a href="src/Data.Vinyl.Class.Method.html#recMconcat" class="link">Source</a> <a href="#v:recMconcat" class="selflink">#</a></p><div class="doc"><p>This function differs from the original <code><a href="../base-4.14.3.0/Data-Monoid.html#v:mconcat" title="Data.Monoid">mconcat</a></code>.
   See <code><a href="Data-Vinyl-Class-Method.html#v:recMempty" title="Data.Vinyl.Class.Method">recMempty</a></code>.</p></div></div><a href="#g:6" id="g:6"><h1>Num Functions</h1></a><div class="top"><p class="src"><a id="v:recAdd" class="def">recAdd</a> :: <a href="Data-Vinyl-TypeLevel.html#t:RecAll" title="Data.Vinyl.TypeLevel">RecAll</a> f rs <a href="../base-4.14.3.0/Prelude.html#t:Num" title="Prelude">Num</a> =&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs <a href="src/Data.Vinyl.Class.Method.html#recAdd" class="link">Source</a> <a href="#v:recAdd" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:recSubtract" class="def">recSubtract</a> :: <a href="Data-Vinyl-TypeLevel.html#t:RecAll" title="Data.Vinyl.TypeLevel">RecAll</a> f rs <a href="../base-4.14.3.0/Prelude.html#t:Num" title="Prelude">Num</a> =&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs <a href="src/Data.Vinyl.Class.Method.html#recSubtract" class="link">Source</a> <a href="#v:recSubtract" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:recMultiply" class="def">recMultiply</a> :: <a href="Data-Vinyl-TypeLevel.html#t:RecAll" title="Data.Vinyl.TypeLevel">RecAll</a> f rs <a href="../base-4.14.3.0/Prelude.html#t:Num" title="Prelude">Num</a> =&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs <a href="src/Data.Vinyl.Class.Method.html#recMultiply" class="link">Source</a> <a href="#v:recMultiply" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:recAbs" class="def">recAbs</a> :: <a href="Data-Vinyl-TypeLevel.html#t:RecAll" title="Data.Vinyl.TypeLevel">RecAll</a> f rs <a href="../base-4.14.3.0/Prelude.html#t:Num" title="Prelude">Num</a> =&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs <a href="src/Data.Vinyl.Class.Method.html#recAbs" class="link">Source</a> <a href="#v:recAbs" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:recSignum" class="def">recSignum</a> :: <a href="Data-Vinyl-TypeLevel.html#t:RecAll" title="Data.Vinyl.TypeLevel">RecAll</a> f rs <a href="../base-4.14.3.0/Prelude.html#t:Num" title="Prelude">Num</a> =&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs <a href="src/Data.Vinyl.Class.Method.html#recSignum" class="link">Source</a> <a href="#v:recSignum" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:recNegate" class="def">recNegate</a> :: <a href="Data-Vinyl-TypeLevel.html#t:RecAll" title="Data.Vinyl.TypeLevel">RecAll</a> f rs <a href="../base-4.14.3.0/Prelude.html#t:Num" title="Prelude">Num</a> =&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs <a href="src/Data.Vinyl.Class.Method.html#recNegate" class="link">Source</a> <a href="#v:recNegate" class="selflink">#</a></p></div><a href="#g:7" id="g:7"><h1>Bounded Functions</h1></a><div class="top"><p class="src"><a id="v:recMinBound" class="def">recMinBound</a> :: <a href="Data-Vinyl-TypeLevel.html#t:RecAll" title="Data.Vinyl.TypeLevel">RecAll</a> f rs <a href="../base-4.14.3.0/Prelude.html#t:Bounded" title="Prelude">Bounded</a> =&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> proxy rs -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs <a href="src/Data.Vinyl.Class.Method.html#recMinBound" class="link">Source</a> <a href="#v:recMinBound" class="selflink">#</a></p><div class="doc"><p>This function differs from the original <code><a href="../base-4.14.3.0/Prelude.html#v:minBound" title="Prelude">minBound</a></code>.
   See <code><a href="Data-Vinyl-Class-Method.html#v:recMempty" title="Data.Vinyl.Class.Method">recMempty</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:recMaxBound" class="def">recMaxBound</a> :: <a href="Data-Vinyl-TypeLevel.html#t:RecAll" title="Data.Vinyl.TypeLevel">RecAll</a> f rs <a href="../base-4.14.3.0/Prelude.html#t:Bounded" title="Prelude">Bounded</a> =&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> proxy rs -&gt; <a href="Data-Vinyl-Core.html#t:Rec" title="Data.Vinyl.Core">Rec</a> f rs <a href="src/Data.Vinyl.Class.Method.html#recMaxBound" class="link">Source</a> <a href="#v:recMaxBound" class="selflink">#</a></p><div class="doc"><p>This function differs from the original <code><a href="../base-4.14.3.0/Prelude.html#v:maxBound" title="Prelude">maxBound</a></code>.
   See <code><a href="Data-Vinyl-Class-Method.html#v:recMempty" title="Data.Vinyl.Class.Method">recMempty</a></code>.</p></div></div><a href="#g:8" id="g:8"><h1>Example</h1></a><div class="doc"><p>This module provides variants of typeclass methods that have
    a <code><a href="Data-Vinyl-TypeLevel.html#t:RecAll" title="Data.Vinyl.TypeLevel">RecAll</a></code> constraint instead of the normal typeclass
    constraint. For example, a type-specialized <code><a href="../base-4.14.3.0/Data-Ord.html#v:compare" title="Data.Ord">compare</a></code> would
    look like this:</p><pre>compare :: Ord (Rec f rs) =&gt; Rec f rs -&gt; Rec f rs -&gt; Ordering</pre><p>The <code><a href="Data-Vinyl-Class-Method.html#v:recCompare" title="Data.Vinyl.Class.Method">recCompare</a></code> function looks like this:</p><pre>recCompare :: RecAll f rs Ord =&gt; Rec f rs -&gt; Rec f rs -&gt; Ordering</pre><p>The only difference is the constraint. Let's look at a potential
    use case for these functions.</p><p>Let's write a function that projects out a subrecord from two records and
    then compares those for equality. We can write this with
    the <code>&lt;:</code> operator from <code>Data.Vinyl.Lens</code> and the normal <code><a href="../base-4.14.3.0/Data-Ord.html#v:compare" title="Data.Ord">compare</a></code>
    function. We don't need <code><a href="Data-Vinyl-Class-Method.html#v:recCompare" title="Data.Vinyl.Class.Method">recCompare</a></code>:</p><pre>-- This needs ScopedTypeVariables
projectAndCompare :: forall super sub f. (super &lt;: sub, Ord (Rec f sub))
                  =&gt; Proxy sub -&gt; Rec f super -&gt; Rec f super -&gt; Ordering
projectAndCompare _ a b = compare (rcast a :: Rec f sub) (rcast b :: Rec f sub)</pre><p>That works fine for the majority of use cases, and it is probably how you should
    write the function if it does everything you need. However, let's consider
    a somewhat more complicated case.</p><p>What if the exact subrecord we were projecting couldn't be
    known at compile time? Assume that the end user was allowd to
    choose the fields on which he or she wanted to compare records.
    The <code>projectAndCompare</code> function cannot handle this because of the
    <code>Ord (Rec f sub)</code> constraint. Even if we amend the constraint to
    read <code>Ord (Rec f super)</code> instead, we cannot use this information
    to recover the <code>Ord (Rec f sub)</code> constraint that we need. Let's
    try another approach.</p><p>We can use the following GADT to prove subsethood:</p><pre>data Sublist (super :: [k]) (sub :: [k]) where
  SublistNil   :: Sublist '[]
  SublistSuper :: Proxy r -&gt; Sublist super sub -&gt; Sublist (r ': super) sub
  SublistBoth  :: Proxy r -&gt; Sublist super sub -&gt; Sublist (r ': super) (r ': sub)

projectRec :: Sublist super sub -&gt; Rec f super -&gt; Rec f sub
projectRec s r = case s of
  SublistNil -&gt; RNil
  SublistBoth n snext -&gt; case r of
    rhead :&amp; rtail -&gt; rhead :&amp; projectRec snext rtail
  SublistSuper n snext -&gt; case r of
    rhead :&amp; rtail -&gt; projectRec snext rtail</pre><p>It is also possible to write a typeclass to generate <code>Sublist</code>s
    implicitly, but that is beyond the scope of this example. Let's
    now write a function to use <code>Sublist</code> to weaken a <code><a href="Data-Vinyl-TypeLevel.html#t:RecAll" title="Data.Vinyl.TypeLevel">RecAll</a></code>
    constraint:</p><pre>import Data.Vinyl.Core hiding (Dict)
import Data.Constraint

weakenRecAll :: Proxy f -&gt; Proxy c -&gt; Sublist super sub -&gt; RecAll f super c :- RecAll f sub c
weakenRecAll f c s = case s of
  SublistNil -&gt; Sub Dict
  SublistSuper _ snext -&gt; Sub $ case weakenRecAll f c snext of
    Sub Dict -&gt; Dict
  SublistBoth _ snext -&gt; Sub $ case weakenRecAll f c snext of
    Sub Dict -&gt; Dict</pre><p>Now we can write a different version of our original function:</p><pre>-- This needs ScopedTypeVariables
projectAndCompare2 :: forall super sub f. (RecAll f super Ord)
                   =&gt; Sublist super sub -&gt; Rec f super -&gt; Rec f super -&gt; Ordering
projectAndCompare2 s a b = case weakenRecAll (Proxy :: Proxy f) (Proxy :: Proxy Ord) s of
  Sub Dict -&gt; recCompare (projectRec s a) (projectRec s b)</pre><p>Notice that in this case, the <code><a href="../base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a></code> constraint applies to the full set of fields
    and is then weakened to target a subset of them instead.</p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>