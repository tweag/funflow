<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE AllowAmbiguousTypes   #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE BangPatterns          #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE CPP                   #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE ConstraintKinds       #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE DataKinds             #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts      #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances     #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE GADTs                 #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE PolyKinds             #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes            #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables   #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications      #-}</span><span>
</span><span id="line-14"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies          #-}</span><span>
</span><span id="line-15"></span><span class="hs-pragma">{-# LANGUAGE TypeOperators         #-}</span><span>
</span><span id="line-16"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances  #-}</span><span>
</span><span id="line-17"></span><span>
</span><span id="line-18"></span><span class="hs-comment">{-| This module uses 'RecAll' to extend common typeclass methods to records.
    Generally, it is preferable to use the original typeclass methods to these
    variants. For example, in most places where 'recCompare' could be used,
    you could use 'compare' instead. They are useful in scenarios
    that involve working on unknown subsets of a record's fields
    because 'RecAll' constraints can easily be weakened. An example of this
    is given at the bottom of this page.
-}</span><span>
</span><span id="line-26"></span><span>
</span><span id="line-27"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Data.Vinyl.Class.Method</span><span>
</span><span id="line-28"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- * Mapping methods over records</span></span><span>
</span><span id="line-29"></span><span>    </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#RecMapMethod"><span class="hs-identifier">RecMapMethod</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#rmapMethodF"><span class="hs-identifier">rmapMethodF</span></a></span><span>
</span><span id="line-31"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#mapFields"><span class="hs-identifier">mapFields</span></a></span><span>
</span><span id="line-32"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#RecMapMethod1"><span class="hs-identifier">RecMapMethod1</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#RecPointed"><span class="hs-identifier">RecPointed</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#rtraverseInMethod"><span class="hs-identifier">rtraverseInMethod</span></a></span><span>
</span><span id="line-35"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#rsequenceInFields"><span class="hs-identifier">rsequenceInFields</span></a></span><span>
</span><span id="line-36"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Support for 'RecMapMethod'</span></span><span>
</span><span id="line-37"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#FieldTyper"><span class="hs-identifier">FieldTyper</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#ApplyFieldTyper"><span class="hs-identifier">ApplyFieldTyper</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#PayloadType"><span class="hs-identifier">PayloadType</span></a></span><span>
</span><span id="line-38"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Eq Functions</span></span><span>
</span><span id="line-39"></span><span>  </span><span class="hs-special">,</span><span>  </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#recEq"><span class="hs-identifier">recEq</span></a></span><span>
</span><span id="line-40"></span><span>     </span><span class="annot"><span class="hs-comment">-- * Ord Functions</span></span><span>
</span><span id="line-41"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#recCompare"><span class="hs-identifier">recCompare</span></a></span><span>
</span><span id="line-42"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Monoid Functions</span></span><span>
</span><span id="line-43"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#recMempty"><span class="hs-identifier">recMempty</span></a></span><span>
</span><span id="line-44"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#recMappend"><span class="hs-identifier">recMappend</span></a></span><span>
</span><span id="line-45"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#recMconcat"><span class="hs-identifier">recMconcat</span></a></span><span>
</span><span id="line-46"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Num Functions</span></span><span>
</span><span id="line-47"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#recAdd"><span class="hs-identifier">recAdd</span></a></span><span>
</span><span id="line-48"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#recSubtract"><span class="hs-identifier">recSubtract</span></a></span><span>
</span><span id="line-49"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#recMultiply"><span class="hs-identifier">recMultiply</span></a></span><span>
</span><span id="line-50"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#recAbs"><span class="hs-identifier">recAbs</span></a></span><span>
</span><span id="line-51"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#recSignum"><span class="hs-identifier">recSignum</span></a></span><span>
</span><span id="line-52"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#recNegate"><span class="hs-identifier">recNegate</span></a></span><span>
</span><span id="line-53"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Bounded Functions</span></span><span>
</span><span id="line-54"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#recMinBound"><span class="hs-identifier">recMinBound</span></a></span><span>
</span><span id="line-55"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#recMaxBound"><span class="hs-identifier">recMaxBound</span></a></span><span>
</span><span id="line-56"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Example</span></span><span>
</span><span id="line-57"></span><span>    </span><span class="annot"><span class="hs-comment">-- $example</span></span><span>
</span><span id="line-58"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Functor.Product</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Product</span></span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Pair</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html"><span class="hs-identifier">Data.Vinyl.Core</span></a></span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html"><span class="hs-identifier">Data.Vinyl.Derived</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Derived.html#KnownField"><span class="hs-identifier">KnownField</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#AllFields"><span class="hs-identifier">AllFields</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#FieldRec"><span class="hs-identifier">FieldRec</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#traverseField"><span class="hs-identifier">traverseField</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html"><span class="hs-identifier">Data.Vinyl.Functor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Functor.html#%3A."><span class="hs-operator">(:.)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#getCompose"><span class="hs-identifier">getCompose</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier">ElField</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.Vinyl.TypeLevel.html"><span class="hs-identifier">Data.Vinyl.TypeLevel</span></a></span><span class="hs-cpp">
#if __GLASGOW_HASKELL__ &lt; 804
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Monoid</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-68"></span><span id="local-6989586621679075635"><span id="local-6989586621679075636"><span class="annot"><a href="Data.Vinyl.Class.Method.html#recEq"><span class="hs-identifier hs-type">recEq</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vinyl.TypeLevel.html#RecAll"><span class="hs-identifier hs-type">RecAll</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075636"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075635"><span class="hs-identifier hs-type">rs</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075636"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075635"><span class="hs-identifier hs-type">rs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075636"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075635"><span class="hs-identifier hs-type">rs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span><span>
</span><span id="line-69"></span><span id="recEq"><span class="annot"><span class="annottext">recEq :: Rec f rs -&gt; Rec f rs -&gt; Bool
</span><a href="Data.Vinyl.Class.Method.html#recEq"><span class="hs-identifier hs-var hs-var">recEq</span></a></span></span><span> </span><span class="annot"><span class="annottext">Rec f rs
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f rs
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-70"></span><span class="annot"><a href="Data.Vinyl.Class.Method.html#recEq"><span class="hs-identifier hs-var">recEq</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075359"><span class="annot"><span class="annottext">f r
</span><a href="#local-6989586621679075359"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-type">:&amp;</span></a></span><span> </span><span id="local-6989586621679075357"><span class="annot"><span class="annottext">Rec f rs
</span><a href="#local-6989586621679075357"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075356"><span class="annot"><span class="annottext">f r
</span><a href="#local-6989586621679075356"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-type">:&amp;</span></a></span><span> </span><span id="local-6989586621679075355"><span class="annot"><span class="annottext">Rec f rs
</span><a href="#local-6989586621679075355"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f r
</span><a href="#local-6989586621679075359"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">f r -&gt; f r -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">f r
f r
</span><a href="#local-6989586621679075356"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Rec f rs -&gt; Rec f rs -&gt; Bool
forall u (f :: u -&gt; *) (rs :: [u]).
RecAll f rs Eq =&gt;
Rec f rs -&gt; Rec f rs -&gt; Bool
</span><a href="Data.Vinyl.Class.Method.html#recEq"><span class="hs-identifier hs-var">recEq</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f rs
</span><a href="#local-6989586621679075357"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f rs
Rec f rs
</span><a href="#local-6989586621679075355"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span id="local-6989586621679075622"><span id="local-6989586621679075623"><span class="annot"><a href="Data.Vinyl.Class.Method.html#recCompare"><span class="hs-identifier hs-type">recCompare</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vinyl.TypeLevel.html#RecAll"><span class="hs-identifier hs-type">RecAll</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075623"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075622"><span class="hs-identifier hs-type">rs</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075623"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075622"><span class="hs-identifier hs-type">rs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075623"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075622"><span class="hs-identifier hs-type">rs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ordering</span></span></span></span><span>
</span><span id="line-73"></span><span id="recCompare"><span class="annot"><span class="annottext">recCompare :: Rec f rs -&gt; Rec f rs -&gt; Ordering
</span><a href="Data.Vinyl.Class.Method.html#recCompare"><span class="hs-identifier hs-var hs-var">recCompare</span></a></span></span><span> </span><span class="annot"><span class="annottext">Rec f rs
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f rs
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">EQ</span></span><span>
</span><span id="line-74"></span><span class="annot"><a href="Data.Vinyl.Class.Method.html#recCompare"><span class="hs-identifier hs-var">recCompare</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075353"><span class="annot"><span class="annottext">f r
</span><a href="#local-6989586621679075353"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-type">:&amp;</span></a></span><span> </span><span id="local-6989586621679075352"><span class="annot"><span class="annottext">Rec f rs
</span><a href="#local-6989586621679075352"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075351"><span class="annot"><span class="annottext">f r
</span><a href="#local-6989586621679075351"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-type">:&amp;</span></a></span><span> </span><span id="local-6989586621679075350"><span class="annot"><span class="annottext">Rec f rs
</span><a href="#local-6989586621679075350"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f r -&gt; f r -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="annot"><span class="annottext">f r
</span><a href="#local-6989586621679075353"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">f r
f r
</span><a href="#local-6989586621679075351"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Ordering -&gt; Ordering -&gt; Ordering
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Rec f rs -&gt; Rec f rs -&gt; Ordering
forall u (f :: u -&gt; *) (rs :: [u]).
RecAll f rs Ord =&gt;
Rec f rs -&gt; Rec f rs -&gt; Ordering
</span><a href="Data.Vinyl.Class.Method.html#recCompare"><span class="hs-identifier hs-var">recCompare</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f rs
</span><a href="#local-6989586621679075352"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f rs
Rec f rs
</span><a href="#local-6989586621679075350"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span class="hs-comment">-- | This function differs from the original 'mempty' in that</span><span>
</span><span id="line-77"></span><span class="hs-comment">--   it takes an argument. In some cases, you will already</span><span>
</span><span id="line-78"></span><span class="hs-comment">--   have a record of the type you are interested in, and</span><span>
</span><span id="line-79"></span><span class="hs-comment">--   that can be passed an the argument. In other situations</span><span>
</span><span id="line-80"></span><span class="hs-comment">--   where this is not the case, you may need the</span><span>
</span><span id="line-81"></span><span class="hs-comment">--   interpretation function of the argument record to be</span><span>
</span><span id="line-82"></span><span class="hs-comment">--   @Const ()@ or @Proxy@ so the you can generate the</span><span>
</span><span id="line-83"></span><span class="hs-comment">--   argument with 'rpure'.</span><span>
</span><span id="line-84"></span><span id="local-6989586621679075605"><span id="local-6989586621679075606"><span id="local-6989586621679075607"><span class="annot"><a href="Data.Vinyl.Class.Method.html#recMempty"><span class="hs-identifier hs-type">recMempty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vinyl.TypeLevel.html#RecAll"><span class="hs-identifier hs-type">RecAll</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075607"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075606"><span class="hs-identifier hs-type">rs</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075605"><span class="hs-identifier hs-type">proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075606"><span class="hs-identifier hs-type">rs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075607"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075606"><span class="hs-identifier hs-type">rs</span></a></span></span></span></span><span>
</span><span id="line-85"></span><span id="recMempty"><span class="annot"><span class="annottext">recMempty :: Rec proxy rs -&gt; Rec f rs
</span><a href="Data.Vinyl.Class.Method.html#recMempty"><span class="hs-identifier hs-var hs-var">recMempty</span></a></span></span><span> </span><span class="annot"><span class="annottext">Rec proxy rs
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rec f rs
forall u (f :: u -&gt; *). Rec f '[]
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span>
</span><span id="line-86"></span><span class="annot"><a href="Data.Vinyl.Class.Method.html#recMempty"><span class="hs-identifier hs-var">recMempty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">proxy r
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-type">:&amp;</span></a></span><span> </span><span id="local-6989586621679075348"><span class="annot"><span class="annottext">Rec proxy rs
</span><a href="#local-6989586621679075348"><span class="hs-identifier hs-var">rs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f r
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span> </span><span class="annot"><span class="annottext">f r -&gt; Rec f rs -&gt; Rec f (r : rs)
forall a (f :: a -&gt; *) (r :: a) (rs :: [a]).
f r -&gt; Rec f rs -&gt; Rec f (r : rs)
</span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Rec proxy rs -&gt; Rec f rs
forall u (f :: u -&gt; *) (rs :: [u]) (proxy :: u -&gt; *).
RecAll f rs Monoid =&gt;
Rec proxy rs -&gt; Rec f rs
</span><a href="Data.Vinyl.Class.Method.html#recMempty"><span class="hs-identifier hs-var">recMempty</span></a></span><span> </span><span class="annot"><span class="annottext">Rec proxy rs
</span><a href="#local-6989586621679075348"><span class="hs-identifier hs-var">rs</span></a></span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span id="local-6989586621679075595"><span id="local-6989586621679075596"><span class="annot"><a href="Data.Vinyl.Class.Method.html#recMappend"><span class="hs-identifier hs-type">recMappend</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vinyl.TypeLevel.html#RecAll"><span class="hs-identifier hs-type">RecAll</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075596"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075595"><span class="hs-identifier hs-type">rs</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075596"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075595"><span class="hs-identifier hs-type">rs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075596"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075595"><span class="hs-identifier hs-type">rs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075596"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075595"><span class="hs-identifier hs-type">rs</span></a></span></span></span><span>
</span><span id="line-89"></span><span id="recMappend"><span class="annot"><span class="annottext">recMappend :: Rec f rs -&gt; Rec f rs -&gt; Rec f rs
</span><a href="Data.Vinyl.Class.Method.html#recMappend"><span class="hs-identifier hs-var hs-var">recMappend</span></a></span></span><span> </span><span class="annot"><span class="annottext">Rec f rs
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f rs
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rec f rs
forall u (f :: u -&gt; *). Rec f '[]
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span>
</span><span id="line-90"></span><span class="annot"><a href="Data.Vinyl.Class.Method.html#recMappend"><span class="hs-identifier hs-var">recMappend</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075347"><span class="annot"><span class="annottext">f r
</span><a href="#local-6989586621679075347"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-type">:&amp;</span></a></span><span> </span><span id="local-6989586621679075346"><span class="annot"><span class="annottext">Rec f rs
</span><a href="#local-6989586621679075346"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075345"><span class="annot"><span class="annottext">f r
</span><a href="#local-6989586621679075345"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-type">:&amp;</span></a></span><span> </span><span id="local-6989586621679075344"><span class="annot"><span class="annottext">Rec f rs
</span><a href="#local-6989586621679075344"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f r -&gt; f r -&gt; f r
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">mappend</span></span><span> </span><span class="annot"><span class="annottext">f r
</span><a href="#local-6989586621679075347"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">f r
f r
</span><a href="#local-6989586621679075345"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">f r -&gt; Rec f rs -&gt; Rec f (r : rs)
forall a (f :: a -&gt; *) (r :: a) (rs :: [a]).
f r -&gt; Rec f rs -&gt; Rec f (r : rs)
</span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f rs -&gt; Rec f rs -&gt; Rec f rs
forall u (f :: u -&gt; *) (rs :: [u]).
RecAll f rs Monoid =&gt;
Rec f rs -&gt; Rec f rs -&gt; Rec f rs
</span><a href="Data.Vinyl.Class.Method.html#recMappend"><span class="hs-identifier hs-var">recMappend</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f rs
</span><a href="#local-6989586621679075346"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f rs
Rec f rs
</span><a href="#local-6989586621679075344"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-91"></span><span>
</span><span id="line-92"></span><span class="hs-comment">-- | This function differs from the original 'mconcat'.</span><span>
</span><span id="line-93"></span><span class="hs-comment">--   See 'recMempty'.</span><span>
</span><span id="line-94"></span><span id="local-6989586621679075587"><span id="local-6989586621679075588"><span id="local-6989586621679075589"><span class="annot"><a href="Data.Vinyl.Class.Method.html#recMconcat"><span class="hs-identifier hs-type">recMconcat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vinyl.TypeLevel.html#RecAll"><span class="hs-identifier hs-type">RecAll</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075589"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075588"><span class="hs-identifier hs-type">rs</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075587"><span class="hs-identifier hs-type">proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075588"><span class="hs-identifier hs-type">rs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075589"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075588"><span class="hs-identifier hs-type">rs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075589"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075588"><span class="hs-identifier hs-type">rs</span></a></span></span></span></span><span>
</span><span id="line-95"></span><span id="recMconcat"><span class="annot"><span class="annottext">recMconcat :: Rec proxy rs -&gt; [Rec f rs] -&gt; Rec f rs
</span><a href="Data.Vinyl.Class.Method.html#recMconcat"><span class="hs-identifier hs-var hs-var">recMconcat</span></a></span></span><span> </span><span id="local-6989586621679075343"><span class="annot"><span class="annottext">Rec proxy rs
</span><a href="#local-6989586621679075343"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rec proxy rs -&gt; Rec f rs
forall u (f :: u -&gt; *) (rs :: [u]) (proxy :: u -&gt; *).
RecAll f rs Monoid =&gt;
Rec proxy rs -&gt; Rec f rs
</span><a href="Data.Vinyl.Class.Method.html#recMempty"><span class="hs-identifier hs-var">recMempty</span></a></span><span> </span><span class="annot"><span class="annottext">Rec proxy rs
</span><a href="#local-6989586621679075343"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-96"></span><span class="annot"><a href="Data.Vinyl.Class.Method.html#recMconcat"><span class="hs-identifier hs-var">recMconcat</span></a></span><span> </span><span id="local-6989586621679075342"><span class="annot"><span class="annottext">Rec proxy rs
</span><a href="#local-6989586621679075342"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075341"><span class="annot"><span class="annottext">Rec f rs
</span><a href="#local-6989586621679075341"><span class="hs-identifier hs-var">rec</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621679075340"><span class="annot"><span class="annottext">[Rec f rs]
</span><a href="#local-6989586621679075340"><span class="hs-identifier hs-var">recs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rec f rs -&gt; Rec f rs -&gt; Rec f rs
forall u (f :: u -&gt; *) (rs :: [u]).
RecAll f rs Monoid =&gt;
Rec f rs -&gt; Rec f rs -&gt; Rec f rs
</span><a href="Data.Vinyl.Class.Method.html#recMappend"><span class="hs-identifier hs-var">recMappend</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f rs
</span><a href="#local-6989586621679075341"><span class="hs-identifier hs-var">rec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rec proxy rs -&gt; [Rec f rs] -&gt; Rec f rs
forall u (f :: u -&gt; *) (rs :: [u]) (proxy :: u -&gt; *).
RecAll f rs Monoid =&gt;
Rec proxy rs -&gt; [Rec f rs] -&gt; Rec f rs
</span><a href="Data.Vinyl.Class.Method.html#recMconcat"><span class="hs-identifier hs-var">recMconcat</span></a></span><span> </span><span class="annot"><span class="annottext">Rec proxy rs
</span><a href="#local-6989586621679075342"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">[Rec f rs]
</span><a href="#local-6989586621679075340"><span class="hs-identifier hs-var">recs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-97"></span><span>
</span><span id="line-98"></span><span id="local-6989586621679075576"><span id="local-6989586621679075577"><span class="annot"><a href="Data.Vinyl.Class.Method.html#recAdd"><span class="hs-identifier hs-type">recAdd</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vinyl.TypeLevel.html#RecAll"><span class="hs-identifier hs-type">RecAll</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075577"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075576"><span class="hs-identifier hs-type">rs</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075577"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075576"><span class="hs-identifier hs-type">rs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075577"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075576"><span class="hs-identifier hs-type">rs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075577"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075576"><span class="hs-identifier hs-type">rs</span></a></span></span></span><span>
</span><span id="line-99"></span><span id="recAdd"><span class="annot"><span class="annottext">recAdd :: Rec f rs -&gt; Rec f rs -&gt; Rec f rs
</span><a href="Data.Vinyl.Class.Method.html#recAdd"><span class="hs-identifier hs-var hs-var">recAdd</span></a></span></span><span> </span><span class="annot"><span class="annottext">Rec f rs
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f rs
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rec f rs
forall u (f :: u -&gt; *). Rec f '[]
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span>
</span><span id="line-100"></span><span class="annot"><a href="Data.Vinyl.Class.Method.html#recAdd"><span class="hs-identifier hs-var">recAdd</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075339"><span class="annot"><span class="annottext">f r
</span><a href="#local-6989586621679075339"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-type">:&amp;</span></a></span><span> </span><span id="local-6989586621679075338"><span class="annot"><span class="annottext">Rec f rs
</span><a href="#local-6989586621679075338"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075337"><span class="annot"><span class="annottext">f r
</span><a href="#local-6989586621679075337"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-type">:&amp;</span></a></span><span> </span><span id="local-6989586621679075336"><span class="annot"><span class="annottext">Rec f rs
</span><a href="#local-6989586621679075336"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">f r
</span><a href="#local-6989586621679075339"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">f r -&gt; f r -&gt; f r
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">f r
f r
</span><a href="#local-6989586621679075337"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f r -&gt; Rec f rs -&gt; Rec f (r : rs)
forall a (f :: a -&gt; *) (r :: a) (rs :: [a]).
f r -&gt; Rec f rs -&gt; Rec f (r : rs)
</span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f rs -&gt; Rec f rs -&gt; Rec f rs
forall u (f :: u -&gt; *) (rs :: [u]).
RecAll f rs Num =&gt;
Rec f rs -&gt; Rec f rs -&gt; Rec f rs
</span><a href="Data.Vinyl.Class.Method.html#recAdd"><span class="hs-identifier hs-var">recAdd</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f rs
</span><a href="#local-6989586621679075338"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f rs
Rec f rs
</span><a href="#local-6989586621679075336"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span id="local-6989586621679075333"><span id="local-6989586621679075334"><span class="annot"><a href="Data.Vinyl.Class.Method.html#recSubtract"><span class="hs-identifier hs-type">recSubtract</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vinyl.TypeLevel.html#RecAll"><span class="hs-identifier hs-type">RecAll</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075334"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075333"><span class="hs-identifier hs-type">rs</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075334"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075333"><span class="hs-identifier hs-type">rs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075334"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075333"><span class="hs-identifier hs-type">rs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075334"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075333"><span class="hs-identifier hs-type">rs</span></a></span></span></span><span>
</span><span id="line-103"></span><span id="recSubtract"><span class="annot"><span class="annottext">recSubtract :: Rec f rs -&gt; Rec f rs -&gt; Rec f rs
</span><a href="Data.Vinyl.Class.Method.html#recSubtract"><span class="hs-identifier hs-var hs-var">recSubtract</span></a></span></span><span> </span><span class="annot"><span class="annottext">Rec f rs
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f rs
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rec f rs
forall u (f :: u -&gt; *). Rec f '[]
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span>
</span><span id="line-104"></span><span class="annot"><a href="Data.Vinyl.Class.Method.html#recSubtract"><span class="hs-identifier hs-var">recSubtract</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075332"><span class="annot"><span class="annottext">f r
</span><a href="#local-6989586621679075332"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-type">:&amp;</span></a></span><span> </span><span id="local-6989586621679075331"><span class="annot"><span class="annottext">Rec f rs
</span><a href="#local-6989586621679075331"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075330"><span class="annot"><span class="annottext">f r
</span><a href="#local-6989586621679075330"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-type">:&amp;</span></a></span><span> </span><span id="local-6989586621679075329"><span class="annot"><span class="annottext">Rec f rs
</span><a href="#local-6989586621679075329"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">f r
</span><a href="#local-6989586621679075332"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">f r -&gt; f r -&gt; f r
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">f r
f r
</span><a href="#local-6989586621679075330"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f r -&gt; Rec f rs -&gt; Rec f (r : rs)
forall a (f :: a -&gt; *) (r :: a) (rs :: [a]).
f r -&gt; Rec f rs -&gt; Rec f (r : rs)
</span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f rs -&gt; Rec f rs -&gt; Rec f rs
forall u (f :: u -&gt; *) (rs :: [u]).
RecAll f rs Num =&gt;
Rec f rs -&gt; Rec f rs -&gt; Rec f rs
</span><a href="Data.Vinyl.Class.Method.html#recSubtract"><span class="hs-identifier hs-var">recSubtract</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f rs
</span><a href="#local-6989586621679075331"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f rs
Rec f rs
</span><a href="#local-6989586621679075329"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-105"></span><span>
</span><span id="line-106"></span><span id="local-6989586621679075327"><span id="local-6989586621679075328"><span class="annot"><a href="Data.Vinyl.Class.Method.html#recMultiply"><span class="hs-identifier hs-type">recMultiply</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vinyl.TypeLevel.html#RecAll"><span class="hs-identifier hs-type">RecAll</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075328"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075327"><span class="hs-identifier hs-type">rs</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075328"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075327"><span class="hs-identifier hs-type">rs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075328"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075327"><span class="hs-identifier hs-type">rs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075328"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075327"><span class="hs-identifier hs-type">rs</span></a></span></span></span><span>
</span><span id="line-107"></span><span id="recMultiply"><span class="annot"><span class="annottext">recMultiply :: Rec f rs -&gt; Rec f rs -&gt; Rec f rs
</span><a href="Data.Vinyl.Class.Method.html#recMultiply"><span class="hs-identifier hs-var hs-var">recMultiply</span></a></span></span><span> </span><span class="annot"><span class="annottext">Rec f rs
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f rs
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rec f rs
forall u (f :: u -&gt; *). Rec f '[]
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span>
</span><span id="line-108"></span><span class="annot"><a href="Data.Vinyl.Class.Method.html#recMultiply"><span class="hs-identifier hs-var">recMultiply</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075326"><span class="annot"><span class="annottext">f r
</span><a href="#local-6989586621679075326"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-type">:&amp;</span></a></span><span> </span><span id="local-6989586621679075325"><span class="annot"><span class="annottext">Rec f rs
</span><a href="#local-6989586621679075325"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075324"><span class="annot"><span class="annottext">f r
</span><a href="#local-6989586621679075324"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-type">:&amp;</span></a></span><span> </span><span id="local-6989586621679075323"><span class="annot"><span class="annottext">Rec f rs
</span><a href="#local-6989586621679075323"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">f r
</span><a href="#local-6989586621679075326"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">f r -&gt; f r -&gt; f r
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">f r
f r
</span><a href="#local-6989586621679075324"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f r -&gt; Rec f rs -&gt; Rec f (r : rs)
forall a (f :: a -&gt; *) (r :: a) (rs :: [a]).
f r -&gt; Rec f rs -&gt; Rec f (r : rs)
</span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f rs -&gt; Rec f rs -&gt; Rec f rs
forall u (f :: u -&gt; *) (rs :: [u]).
RecAll f rs Num =&gt;
Rec f rs -&gt; Rec f rs -&gt; Rec f rs
</span><a href="Data.Vinyl.Class.Method.html#recSubtract"><span class="hs-identifier hs-var">recSubtract</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f rs
</span><a href="#local-6989586621679075325"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f rs
Rec f rs
</span><a href="#local-6989586621679075323"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-109"></span><span>
</span><span id="line-110"></span><span id="local-6989586621679075554"><span id="local-6989586621679075555"><span class="annot"><a href="Data.Vinyl.Class.Method.html#recAbs"><span class="hs-identifier hs-type">recAbs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vinyl.TypeLevel.html#RecAll"><span class="hs-identifier hs-type">RecAll</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075555"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075554"><span class="hs-identifier hs-type">rs</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075555"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075554"><span class="hs-identifier hs-type">rs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075555"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075554"><span class="hs-identifier hs-type">rs</span></a></span></span></span><span>
</span><span id="line-111"></span><span id="recAbs"><span class="annot"><span class="annottext">recAbs :: Rec f rs -&gt; Rec f rs
</span><a href="Data.Vinyl.Class.Method.html#recAbs"><span class="hs-identifier hs-var hs-var">recAbs</span></a></span></span><span> </span><span class="annot"><span class="annottext">Rec f rs
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rec f rs
forall u (f :: u -&gt; *). Rec f '[]
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span>
</span><span id="line-112"></span><span class="annot"><a href="Data.Vinyl.Class.Method.html#recAbs"><span class="hs-identifier hs-var">recAbs</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075321"><span class="annot"><span class="annottext">f r
</span><a href="#local-6989586621679075321"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-type">:&amp;</span></a></span><span> </span><span id="local-6989586621679075320"><span class="annot"><span class="annottext">Rec f rs
</span><a href="#local-6989586621679075320"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f r -&gt; f r
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="annot"><span class="annottext">f r
</span><a href="#local-6989586621679075321"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">f r -&gt; Rec f rs -&gt; Rec f (r : rs)
forall a (f :: a -&gt; *) (r :: a) (rs :: [a]).
f r -&gt; Rec f rs -&gt; Rec f (r : rs)
</span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f rs -&gt; Rec f rs
forall u (f :: u -&gt; *) (rs :: [u]).
RecAll f rs Num =&gt;
Rec f rs -&gt; Rec f rs
</span><a href="Data.Vinyl.Class.Method.html#recAbs"><span class="hs-identifier hs-var">recAbs</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f rs
</span><a href="#local-6989586621679075320"><span class="hs-keyword hs-var">as</span></a></span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span id="local-6989586621679075317"><span id="local-6989586621679075318"><span class="annot"><a href="Data.Vinyl.Class.Method.html#recSignum"><span class="hs-identifier hs-type">recSignum</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vinyl.TypeLevel.html#RecAll"><span class="hs-identifier hs-type">RecAll</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075318"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075317"><span class="hs-identifier hs-type">rs</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075318"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075317"><span class="hs-identifier hs-type">rs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075318"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075317"><span class="hs-identifier hs-type">rs</span></a></span></span></span><span>
</span><span id="line-115"></span><span id="recSignum"><span class="annot"><span class="annottext">recSignum :: Rec f rs -&gt; Rec f rs
</span><a href="Data.Vinyl.Class.Method.html#recSignum"><span class="hs-identifier hs-var hs-var">recSignum</span></a></span></span><span> </span><span class="annot"><span class="annottext">Rec f rs
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rec f rs
forall u (f :: u -&gt; *). Rec f '[]
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span>
</span><span id="line-116"></span><span class="annot"><a href="Data.Vinyl.Class.Method.html#recSignum"><span class="hs-identifier hs-var">recSignum</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075316"><span class="annot"><span class="annottext">f r
</span><a href="#local-6989586621679075316"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-type">:&amp;</span></a></span><span> </span><span id="local-6989586621679075315"><span class="annot"><span class="annottext">Rec f rs
</span><a href="#local-6989586621679075315"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f r -&gt; f r
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">signum</span></span><span> </span><span class="annot"><span class="annottext">f r
</span><a href="#local-6989586621679075316"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">f r -&gt; Rec f rs -&gt; Rec f (r : rs)
forall a (f :: a -&gt; *) (r :: a) (rs :: [a]).
f r -&gt; Rec f rs -&gt; Rec f (r : rs)
</span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f rs -&gt; Rec f rs
forall u (f :: u -&gt; *) (rs :: [u]).
RecAll f rs Num =&gt;
Rec f rs -&gt; Rec f rs
</span><a href="Data.Vinyl.Class.Method.html#recAbs"><span class="hs-identifier hs-var">recAbs</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f rs
</span><a href="#local-6989586621679075315"><span class="hs-keyword hs-var">as</span></a></span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span id="local-6989586621679075312"><span id="local-6989586621679075313"><span class="annot"><a href="Data.Vinyl.Class.Method.html#recNegate"><span class="hs-identifier hs-type">recNegate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vinyl.TypeLevel.html#RecAll"><span class="hs-identifier hs-type">RecAll</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075313"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075312"><span class="hs-identifier hs-type">rs</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075313"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075312"><span class="hs-identifier hs-type">rs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075313"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075312"><span class="hs-identifier hs-type">rs</span></a></span></span></span><span>
</span><span id="line-119"></span><span id="recNegate"><span class="annot"><span class="annottext">recNegate :: Rec f rs -&gt; Rec f rs
</span><a href="Data.Vinyl.Class.Method.html#recNegate"><span class="hs-identifier hs-var hs-var">recNegate</span></a></span></span><span> </span><span class="annot"><span class="annottext">Rec f rs
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rec f rs
forall u (f :: u -&gt; *). Rec f '[]
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span>
</span><span id="line-120"></span><span class="annot"><a href="Data.Vinyl.Class.Method.html#recNegate"><span class="hs-identifier hs-var">recNegate</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075311"><span class="annot"><span class="annottext">f r
</span><a href="#local-6989586621679075311"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-type">:&amp;</span></a></span><span> </span><span id="local-6989586621679075310"><span class="annot"><span class="annottext">Rec f rs
</span><a href="#local-6989586621679075310"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f r -&gt; f r
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">f r
</span><a href="#local-6989586621679075311"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">f r -&gt; Rec f rs -&gt; Rec f (r : rs)
forall a (f :: a -&gt; *) (r :: a) (rs :: [a]).
f r -&gt; Rec f rs -&gt; Rec f (r : rs)
</span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f rs -&gt; Rec f rs
forall u (f :: u -&gt; *) (rs :: [u]).
RecAll f rs Num =&gt;
Rec f rs -&gt; Rec f rs
</span><a href="Data.Vinyl.Class.Method.html#recAbs"><span class="hs-identifier hs-var">recAbs</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f rs
</span><a href="#local-6989586621679075310"><span class="hs-keyword hs-var">as</span></a></span><span>
</span><span id="line-121"></span><span>
</span><span id="line-122"></span><span class="hs-comment">-- | This function differs from the original 'minBound'.</span><span>
</span><span id="line-123"></span><span class="hs-comment">--   See 'recMempty'.</span><span>
</span><span id="line-124"></span><span id="local-6989586621679075533"><span id="local-6989586621679075534"><span id="local-6989586621679075535"><span class="annot"><a href="Data.Vinyl.Class.Method.html#recMinBound"><span class="hs-identifier hs-type">recMinBound</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vinyl.TypeLevel.html#RecAll"><span class="hs-identifier hs-type">RecAll</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075535"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075534"><span class="hs-identifier hs-type">rs</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bounded</span></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075533"><span class="hs-identifier hs-type">proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075534"><span class="hs-identifier hs-type">rs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075535"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075534"><span class="hs-identifier hs-type">rs</span></a></span></span></span></span><span>
</span><span id="line-125"></span><span id="recMinBound"><span class="annot"><span class="annottext">recMinBound :: Rec proxy rs -&gt; Rec f rs
</span><a href="Data.Vinyl.Class.Method.html#recMinBound"><span class="hs-identifier hs-var hs-var">recMinBound</span></a></span></span><span> </span><span class="annot"><span class="annottext">Rec proxy rs
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rec f rs
forall u (f :: u -&gt; *). Rec f '[]
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span>
</span><span id="line-126"></span><span class="annot"><a href="Data.Vinyl.Class.Method.html#recMinBound"><span class="hs-identifier hs-var">recMinBound</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">proxy r
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-type">:&amp;</span></a></span><span> </span><span id="local-6989586621679075309"><span class="annot"><span class="annottext">Rec proxy rs
</span><a href="#local-6989586621679075309"><span class="hs-identifier hs-var">rs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f r
forall a. Bounded a =&gt; a
</span><span class="hs-identifier hs-var">minBound</span></span><span> </span><span class="annot"><span class="annottext">f r -&gt; Rec f rs -&gt; Rec f (r : rs)
forall a (f :: a -&gt; *) (r :: a) (rs :: [a]).
f r -&gt; Rec f rs -&gt; Rec f (r : rs)
</span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Rec proxy rs -&gt; Rec f rs
forall u (f :: u -&gt; *) (rs :: [u]) (proxy :: u -&gt; *).
RecAll f rs Bounded =&gt;
Rec proxy rs -&gt; Rec f rs
</span><a href="Data.Vinyl.Class.Method.html#recMinBound"><span class="hs-identifier hs-var">recMinBound</span></a></span><span> </span><span class="annot"><span class="annottext">Rec proxy rs
</span><a href="#local-6989586621679075309"><span class="hs-identifier hs-var">rs</span></a></span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span class="hs-comment">-- | This function differs from the original 'maxBound'.</span><span>
</span><span id="line-129"></span><span class="hs-comment">--   See 'recMempty'.</span><span>
</span><span id="line-130"></span><span id="local-6989586621679075305"><span id="local-6989586621679075306"><span id="local-6989586621679075307"><span class="annot"><a href="Data.Vinyl.Class.Method.html#recMaxBound"><span class="hs-identifier hs-type">recMaxBound</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vinyl.TypeLevel.html#RecAll"><span class="hs-identifier hs-type">RecAll</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075307"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075306"><span class="hs-identifier hs-type">rs</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bounded</span></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075305"><span class="hs-identifier hs-type">proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075306"><span class="hs-identifier hs-type">rs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075307"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075306"><span class="hs-identifier hs-type">rs</span></a></span></span></span></span><span>
</span><span id="line-131"></span><span id="recMaxBound"><span class="annot"><span class="annottext">recMaxBound :: Rec proxy rs -&gt; Rec f rs
</span><a href="Data.Vinyl.Class.Method.html#recMaxBound"><span class="hs-identifier hs-var hs-var">recMaxBound</span></a></span></span><span> </span><span class="annot"><span class="annottext">Rec proxy rs
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rec f rs
forall u (f :: u -&gt; *). Rec f '[]
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span>
</span><span id="line-132"></span><span class="annot"><a href="Data.Vinyl.Class.Method.html#recMaxBound"><span class="hs-identifier hs-var">recMaxBound</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">proxy r
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-type">:&amp;</span></a></span><span> </span><span id="local-6989586621679075304"><span class="annot"><span class="annottext">Rec proxy rs
</span><a href="#local-6989586621679075304"><span class="hs-identifier hs-var">rs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f r
forall a. Bounded a =&gt; a
</span><span class="hs-identifier hs-var">maxBound</span></span><span> </span><span class="annot"><span class="annottext">f r -&gt; Rec f rs -&gt; Rec f (r : rs)
forall a (f :: a -&gt; *) (r :: a) (rs :: [a]).
f r -&gt; Rec f rs -&gt; Rec f (r : rs)
</span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Rec proxy rs -&gt; Rec f rs
forall u (f :: u -&gt; *) (rs :: [u]) (proxy :: u -&gt; *).
RecAll f rs Bounded =&gt;
Rec proxy rs -&gt; Rec f rs
</span><a href="Data.Vinyl.Class.Method.html#recMaxBound"><span class="hs-identifier hs-var">recMaxBound</span></a></span><span> </span><span class="annot"><span class="annottext">Rec proxy rs
</span><a href="#local-6989586621679075304"><span class="hs-identifier hs-var">rs</span></a></span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span class="hs-comment">-- | When we wish to apply a typeclass method to each field of a</span><span>
</span><span id="line-135"></span><span class="hs-comment">-- 'Rec', we typically care about typeclass instances of the record</span><span>
</span><span id="line-136"></span><span class="hs-comment">-- field types irrespective of the record's functor context. To expose</span><span>
</span><span id="line-137"></span><span class="hs-comment">-- the field types themselves, we utilize a constraint built from a</span><span>
</span><span id="line-138"></span><span class="hs-comment">-- defunctionalized type family in the 'rmapMethod' method. The</span><span>
</span><span id="line-139"></span><span class="hs-comment">-- symbols of the function space are defined by this data type.</span><span>
</span><span id="line-140"></span><span class="hs-keyword">data</span><span> </span><span id="FieldTyper"><span class="annot"><a href="Data.Vinyl.Class.Method.html#FieldTyper"><span class="hs-identifier hs-var">FieldTyper</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="FieldId"><span class="annot"><a href="Data.Vinyl.Class.Method.html#FieldId"><span class="hs-identifier hs-var">FieldId</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="FieldSnd"><span class="annot"><a href="Data.Vinyl.Class.Method.html#FieldSnd"><span class="hs-identifier hs-var">FieldSnd</span></a></span></span><span>
</span><span id="line-141"></span><span>
</span><span id="line-142"></span><span class="hs-comment">-- | The interpretation function of the 'FieldTyper' symbols.</span><span>
</span><span id="line-143"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="ApplyFieldTyper"><span class="annot"><a href="Data.Vinyl.Class.Method.html#ApplyFieldTyper"><span class="hs-identifier hs-var">ApplyFieldTyper</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075300"><span class="annot"><a href="#local-6989586621679075300"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#FieldTyper"><span class="hs-identifier hs-type">FieldTyper</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075299"><span class="annot"><a href="#local-6989586621679075299"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679075298"><span class="annot"><a href="#local-6989586621679075298"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-144"></span><span>  </span><span id="ApplyFieldTyper"><span class="annot"><a href="Data.Vinyl.Class.Method.html#ApplyFieldTyper"><span class="hs-identifier hs-var">ApplyFieldTyper</span></a></span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Data.Vinyl.Class.Method.html#FieldId"><span class="hs-identifier hs-type">FieldId</span></a></span><span> </span><span id="local-6989586621679075297"><span class="annot"><a href="#local-6989586621679075297"><span class="hs-identifier hs-type hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679075297"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-145"></span><span>  </span><span id="ApplyFieldTyper"><span class="annot"><a href="Data.Vinyl.Class.Method.html#ApplyFieldTyper"><span class="hs-identifier hs-var">ApplyFieldTyper</span></a></span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Data.Vinyl.Class.Method.html#FieldSnd"><span class="hs-identifier hs-type">FieldSnd</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span id="local-6989586621679075296"><span class="annot"><a href="#local-6989586621679075296"><span class="hs-identifier hs-type hs-type">s</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679075295"><span class="annot"><a href="#local-6989586621679075295"><span class="hs-identifier hs-type hs-type">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679075295"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-146"></span><span>
</span><span id="line-147"></span><span class="hs-comment">-- | A mapping of record contexts into the 'FieldTyper' function</span><span>
</span><span id="line-148"></span><span class="hs-comment">-- space. We explicitly match on 'ElField' to pick out the payload</span><span>
</span><span id="line-149"></span><span class="hs-comment">-- type, and 'Compose' to pick out the inner-most context. All other</span><span>
</span><span id="line-150"></span><span class="hs-comment">-- type constructor contexts are understood to not perform any</span><span>
</span><span id="line-151"></span><span class="hs-comment">-- computation on their arguments.</span><span>
</span><span id="line-152"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="FieldPayload"><span class="annot"><a href="Data.Vinyl.Class.Method.html#FieldPayload"><span class="hs-identifier hs-var">FieldPayload</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075293"><span class="annot"><a href="#local-6989586621679075293"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679075292"><span class="annot"><a href="#local-6989586621679075292"><span class="hs-identifier hs-type hs-type">u</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#FieldTyper"><span class="hs-identifier hs-type">FieldTyper</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-153"></span><span>  </span><span id="FieldPayload"><span class="annot"><a href="Data.Vinyl.Class.Method.html#FieldPayload"><span class="hs-identifier hs-var">FieldPayload</span></a></span></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Data.Vinyl.Class.Method.html#FieldSnd"><span class="hs-identifier hs-type">FieldSnd</span></a></span><span>
</span><span id="line-154"></span><span>  </span><span id="FieldPayload"><span class="annot"><a href="Data.Vinyl.Class.Method.html#FieldPayload"><span class="hs-identifier hs-var">FieldPayload</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075291"><span class="annot"><a href="#local-6989586621679075291"><span class="hs-identifier hs-type hs-type">f</span></a></span></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#%3A."><span class="hs-operator hs-type">:.</span></a></span><span> </span><span id="local-6989586621679075290"><span class="annot"><a href="#local-6989586621679075290"><span class="hs-identifier hs-type hs-type">g</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#FieldPayload"><span class="hs-identifier hs-type">FieldPayload</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075290"><span class="hs-identifier hs-type">g</span></a></span><span>
</span><span id="line-155"></span><span>  </span><span id="FieldPayload"><span class="annot"><a href="Data.Vinyl.Class.Method.html#FieldPayload"><span class="hs-identifier hs-var">FieldPayload</span></a></span></span><span> </span><span id="local-6989586621679075289"><span class="annot"><a href="#local-6989586621679075289"><span class="hs-identifier hs-type hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Data.Vinyl.Class.Method.html#FieldId"><span class="hs-identifier hs-type">FieldId</span></a></span><span>
</span><span id="line-156"></span><span>
</span><span id="line-157"></span><span class="hs-comment">-- | Shorthand for combining 'ApplyFieldTyper' and 'FieldPayload'.</span><span>
</span><span id="line-158"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="PayloadType"><span class="annot"><a href="Data.Vinyl.Class.Method.html#PayloadType"><span class="hs-identifier hs-var">PayloadType</span></a></span></span><span> </span><span id="local-6989586621679075288"><span class="annot"><a href="#local-6989586621679075288"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075287"><span class="annot"><a href="#local-6989586621679075287"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679075286"><span class="annot"><a href="#local-6989586621679075286"><span class="hs-identifier hs-type hs-type">u</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-159"></span><span>  </span><span id="PayloadType"><span class="annot"><a href="Data.Vinyl.Class.Method.html#PayloadType"><span class="hs-identifier hs-var">PayloadType</span></a></span></span><span> </span><span id="local-6989586621679075285"><span class="annot"><a href="#local-6989586621679075285"><span class="hs-identifier hs-type hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679075284"><span class="annot"><a href="#local-6989586621679075284"><span class="hs-identifier hs-type hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#ApplyFieldTyper"><span class="hs-identifier hs-type">ApplyFieldTyper</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Class.Method.html#FieldPayload"><span class="hs-identifier hs-type">FieldPayload</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075285"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679075284"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-160"></span><span>
</span><span id="line-161"></span><span class="hs-comment">-- | Generate a record from fields derived from type class</span><span>
</span><span id="line-162"></span><span class="hs-comment">-- instances.</span><span>
</span><span id="line-163"></span><span class="hs-keyword">class</span><span> </span><span id="RecPointed"><span class="annot"><a href="Data.Vinyl.Class.Method.html#RecPointed"><span class="hs-identifier hs-var">RecPointed</span></a></span></span><span> </span><span id="local-6989586621679075520"><span class="annot"><a href="#local-6989586621679075520"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span id="local-6989586621679075519"><span class="annot"><a href="#local-6989586621679075519"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679075518"><span class="annot"><a href="#local-6989586621679075518"><span class="hs-identifier hs-type">ts</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-164"></span><span>  </span><span id="rpointMethod"><span class="annot"><a href="Data.Vinyl.Class.Method.html#rpointMethod"><span class="hs-identifier hs-type">rpointMethod</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679075523"><span class="annot"><a href="#local-6989586621679075523"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679075520"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075519"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075523"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075519"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075523"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075519"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075518"><span class="hs-identifier hs-type">ts</span></a></span><span>
</span><span id="line-165"></span><span>
</span><span id="line-166"></span><span id="local-6989586621679075281"><span id="local-6989586621679075282"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#RecPointed"><span class="hs-identifier hs-type">RecPointed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075282"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075281"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-167"></span><span>  </span><span id="local-6989586621679075278"><span class="annot"><span class="annottext">rpointMethod :: (forall (a :: u). c (f a) =&gt; f a) -&gt; Rec f '[]
</span><a href="#local-6989586621679075278"><span class="hs-identifier hs-var hs-var hs-var hs-var">rpointMethod</span></a></span></span><span> </span><span class="annot"><span class="annottext">forall (a :: u). c (f a) =&gt; f a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rec f '[]
forall u (f :: u -&gt; *). Rec f '[]
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span>
</span><span id="line-168"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#rpointMethod"><span class="hs-pragma hs-type">rpointMethod</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span><span>
</span><span id="line-169"></span><span>
</span><span id="line-170"></span><span id="local-6989586621679075274"><span id="local-6989586621679075275"><span id="local-6989586621679075276"><span id="local-6989586621679075277"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075277"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075276"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075275"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#RecPointed"><span class="hs-identifier hs-type">RecPointed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075277"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075276"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075274"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-171"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#RecPointed"><span class="hs-identifier hs-type">RecPointed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075277"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075276"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075275"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679075274"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-172"></span><span>  </span><span id="local-6989586621679075272"><span class="annot"><span class="annottext">rpointMethod :: (forall (a :: a). c (f a) =&gt; f a) -&gt; Rec f (t : ts)
</span><a href="#local-6989586621679075272"><span class="hs-identifier hs-var hs-var hs-var hs-var">rpointMethod</span></a></span></span><span> </span><span id="local-6989586621679075271"><span class="annot"><span class="annottext">forall (a :: a). c (f a) =&gt; f a
</span><a href="#local-6989586621679075271"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f t
forall (a :: a). c (f a) =&gt; f a
</span><a href="#local-6989586621679075271"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">f t -&gt; Rec f ts -&gt; Rec f (t : ts)
forall a (f :: a -&gt; *) (r :: a) (rs :: [a]).
f r -&gt; Rec f rs -&gt; Rec f (r : rs)
</span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(forall (a :: a). c (f a) =&gt; f a) -&gt; Rec f ts
forall u (c :: * -&gt; Constraint) (f :: u -&gt; *) (ts :: [u]).
RecPointed c f ts =&gt;
(forall (a :: u). c (f a) =&gt; f a) -&gt; Rec f ts
</span><a href="Data.Vinyl.Class.Method.html#rpointMethod"><span class="hs-identifier hs-var">rpointMethod</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679075277"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall (a :: a). c (f a) =&gt; f a
</span><a href="#local-6989586621679075271"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-173"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#rpointMethod"><span class="hs-pragma hs-type">rpointMethod</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span></span></span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span class="hs-comment">-- | Apply a typeclass method to each field of a 'Rec' where the class</span><span>
</span><span id="line-176"></span><span class="hs-comment">-- constrains the index of the field, but not its interpretation</span><span>
</span><span id="line-177"></span><span class="hs-comment">-- functor.</span><span>
</span><span id="line-178"></span><span class="hs-keyword">class</span><span> </span><span id="RecMapMethod"><span class="annot"><a href="Data.Vinyl.Class.Method.html#RecMapMethod"><span class="hs-identifier hs-var">RecMapMethod</span></a></span></span><span> </span><span id="local-6989586621679075504"><span class="annot"><a href="#local-6989586621679075504"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span id="local-6989586621679075503"><span class="annot"><a href="#local-6989586621679075503"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679075502"><span class="annot"><a href="#local-6989586621679075502"><span class="hs-identifier hs-type">ts</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-179"></span><span>  </span><span id="local-6989586621679075507"><span id="rmapMethod"><span class="annot"><a href="Data.Vinyl.Class.Method.html#rmapMethod"><span class="hs-identifier hs-type">rmapMethod</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679075509"><span class="annot"><a href="#local-6989586621679075509"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679075504"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Class.Method.html#PayloadType"><span class="hs-identifier hs-type">PayloadType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075503"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075509"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075503"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075509"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075507"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075509"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-180"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075503"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075502"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075507"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075502"><span class="hs-identifier hs-type">ts</span></a></span></span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span class="hs-comment">-- | Apply a typeclass method to each field of a 'Rec' where the class</span><span>
</span><span id="line-183"></span><span class="hs-comment">-- constrains the field when considered as a value interpreted by the</span><span>
</span><span id="line-184"></span><span class="hs-comment">-- record's interpretation functor.</span><span>
</span><span id="line-185"></span><span class="hs-keyword">class</span><span> </span><span id="RecMapMethod1"><span class="annot"><a href="Data.Vinyl.Class.Method.html#RecMapMethod1"><span class="hs-identifier hs-var">RecMapMethod1</span></a></span></span><span> </span><span id="local-6989586621679075493"><span class="annot"><a href="#local-6989586621679075493"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span id="local-6989586621679075492"><span class="annot"><a href="#local-6989586621679075492"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679075491"><span class="annot"><a href="#local-6989586621679075491"><span class="hs-identifier hs-type">ts</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-186"></span><span>  </span><span id="local-6989586621679075496"><span id="rmapMethod1"><span class="annot"><a href="Data.Vinyl.Class.Method.html#rmapMethod1"><span class="hs-identifier hs-type">rmapMethod1</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679075497"><span class="annot"><a href="#local-6989586621679075497"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679075493"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075492"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075497"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075492"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075497"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075496"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075497"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-187"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075492"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075491"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075496"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075491"><span class="hs-identifier hs-type">ts</span></a></span></span><span>
</span><span id="line-188"></span><span>
</span><span id="line-189"></span><span id="local-6989586621679075267"><span id="local-6989586621679075268"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#RecMapMethod"><span class="hs-identifier hs-type">RecMapMethod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075268"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075267"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-190"></span><span>  </span><span id="local-6989586621679075264"><span class="annot"><span class="annottext">rmapMethod :: (forall (a :: u). c (PayloadType f a) =&gt; f a -&gt; g a)
-&gt; Rec f '[] -&gt; Rec g '[]
</span><a href="#local-6989586621679075264"><span class="hs-identifier hs-var hs-var hs-var hs-var">rmapMethod</span></a></span></span><span> </span><span class="annot"><span class="annottext">forall (a :: u). c (PayloadType f a) =&gt; f a -&gt; g a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Rec f '[]
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rec g '[]
forall u (f :: u -&gt; *). Rec f '[]
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span>
</span><span id="line-191"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#rmapMethod"><span class="hs-pragma hs-type">rmapMethod</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span><span>
</span><span id="line-192"></span><span>
</span><span id="line-193"></span><span id="local-6989586621679075262"><span id="local-6989586621679075263"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#RecMapMethod1"><span class="hs-identifier hs-type">RecMapMethod1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075263"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075262"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-194"></span><span>  </span><span id="local-6989586621679075259"><span class="annot"><span class="annottext">rmapMethod1 :: (forall (a :: u). c (f a) =&gt; f a -&gt; g a) -&gt; Rec f '[] -&gt; Rec g '[]
</span><a href="#local-6989586621679075259"><span class="hs-identifier hs-var hs-var hs-var hs-var">rmapMethod1</span></a></span></span><span> </span><span class="annot"><span class="annottext">forall (a :: u). c (f a) =&gt; f a -&gt; g a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Rec f '[]
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rec g '[]
forall u (f :: u -&gt; *). Rec f '[]
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span>
</span><span id="line-195"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#rmapMethod1"><span class="hs-pragma hs-type">rmapMethod1</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span><span>
</span><span id="line-196"></span><span>
</span><span id="line-197"></span><span id="local-6989586621679075255"><span id="local-6989586621679075256"><span id="local-6989586621679075257"><span id="local-6989586621679075258"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075258"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Class.Method.html#PayloadType"><span class="hs-identifier hs-type">PayloadType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075257"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075256"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#RecMapMethod"><span class="hs-identifier hs-type">RecMapMethod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075258"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075257"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075255"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-198"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#RecMapMethod"><span class="hs-identifier hs-type">RecMapMethod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075258"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075257"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075256"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679075255"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-199"></span><span>  </span><span id="local-6989586621679075253"><span class="annot"><span class="annottext">rmapMethod :: (forall (a :: a). c (PayloadType f a) =&gt; f a -&gt; g a)
-&gt; Rec f (t : ts) -&gt; Rec g (t : ts)
</span><a href="#local-6989586621679075253"><span class="hs-identifier hs-var hs-var hs-var hs-var">rmapMethod</span></a></span></span><span> </span><span id="local-6989586621679075252"><span class="annot"><span class="annottext">forall (a :: a). c (PayloadType f a) =&gt; f a -&gt; g a
</span><a href="#local-6989586621679075252"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075251"><span class="annot"><span class="annottext">f r
</span><a href="#local-6989586621679075251"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-type">:&amp;</span></a></span><span> </span><span id="local-6989586621679075250"><span class="annot"><span class="annottext">Rec f rs
</span><a href="#local-6989586621679075250"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f r -&gt; g r
forall (a :: a). c (PayloadType f a) =&gt; f a -&gt; g a
</span><a href="#local-6989586621679075252"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">f r
</span><a href="#local-6989586621679075251"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">g r -&gt; Rec g rs -&gt; Rec g (r : rs)
forall a (f :: a -&gt; *) (r :: a) (rs :: [a]).
f r -&gt; Rec f rs -&gt; Rec f (r : rs)
</span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(forall (a :: a). c (PayloadType f a) =&gt; f a -&gt; g a)
-&gt; Rec f rs -&gt; Rec g rs
forall u (c :: * -&gt; Constraint) (f :: u -&gt; *) (ts :: [u])
       (g :: u -&gt; *).
RecMapMethod c f ts =&gt;
(forall (a :: u). c (PayloadType f a) =&gt; f a -&gt; g a)
-&gt; Rec f ts -&gt; Rec g ts
</span><a href="Data.Vinyl.Class.Method.html#rmapMethod"><span class="hs-identifier hs-var">rmapMethod</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679075258"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall (a :: a). c (PayloadType f a) =&gt; f a -&gt; g a
</span><a href="#local-6989586621679075252"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f rs
</span><a href="#local-6989586621679075250"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-200"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#rmapMethod"><span class="hs-pragma hs-type">rmapMethod</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span></span></span><span>
</span><span id="line-201"></span><span>
</span><span id="line-202"></span><span id="local-6989586621679075246"><span id="local-6989586621679075247"><span id="local-6989586621679075248"><span id="local-6989586621679075249"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075249"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075248"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075247"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#RecMapMethod1"><span class="hs-identifier hs-type">RecMapMethod1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075249"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075248"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075246"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#RecMapMethod1"><span class="hs-identifier hs-type">RecMapMethod1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075249"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075248"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075247"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679075246"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-203"></span><span>  </span><span id="local-6989586621679075244"><span class="annot"><span class="annottext">rmapMethod1 :: (forall (a :: a). c (f a) =&gt; f a -&gt; g a)
-&gt; Rec f (t : ts) -&gt; Rec g (t : ts)
</span><a href="#local-6989586621679075244"><span class="hs-identifier hs-var hs-var hs-var hs-var">rmapMethod1</span></a></span></span><span> </span><span id="local-6989586621679075243"><span class="annot"><span class="annottext">forall (a :: a). c (f a) =&gt; f a -&gt; g a
</span><a href="#local-6989586621679075243"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075242"><span class="annot"><span class="annottext">f r
</span><a href="#local-6989586621679075242"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-type">:&amp;</span></a></span><span> </span><span id="local-6989586621679075241"><span class="annot"><span class="annottext">Rec f rs
</span><a href="#local-6989586621679075241"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f r -&gt; g r
forall (a :: a). c (f a) =&gt; f a -&gt; g a
</span><a href="#local-6989586621679075243"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">f r
</span><a href="#local-6989586621679075242"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">g r -&gt; Rec g rs -&gt; Rec g (r : rs)
forall a (f :: a -&gt; *) (r :: a) (rs :: [a]).
f r -&gt; Rec f rs -&gt; Rec f (r : rs)
</span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(forall (a :: a). c (f a) =&gt; f a -&gt; g a) -&gt; Rec f rs -&gt; Rec g rs
forall u (c :: * -&gt; Constraint) (f :: u -&gt; *) (ts :: [u])
       (g :: u -&gt; *).
RecMapMethod1 c f ts =&gt;
(forall (a :: u). c (f a) =&gt; f a -&gt; g a) -&gt; Rec f ts -&gt; Rec g ts
</span><a href="Data.Vinyl.Class.Method.html#rmapMethod1"><span class="hs-identifier hs-var">rmapMethod1</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679075249"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall (a :: a). c (f a) =&gt; f a -&gt; g a
</span><a href="#local-6989586621679075243"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f rs
</span><a href="#local-6989586621679075241"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-204"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#rmapMethod1"><span class="hs-pragma hs-type">rmapMethod1</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span></span></span><span>
</span><span id="line-205"></span><span>
</span><span id="line-206"></span><span class="hs-comment">-- | Apply a typeclass method to each field of a @Rec f ts@ using the</span><span>
</span><span id="line-207"></span><span class="hs-comment">-- 'Functor' instance for @f@ to lift the function into the</span><span>
</span><span id="line-208"></span><span class="hs-comment">-- functor. This is a commonly-used specialization of 'rmapMethod'</span><span>
</span><span id="line-209"></span><span class="hs-comment">-- composed with 'fmap'.</span><span>
</span><span id="line-210"></span><span class="annot"><a href="Data.Vinyl.Class.Method.html#rmapMethodF"><span class="hs-identifier hs-type">rmapMethodF</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679075240"><span class="annot"><a href="#local-6989586621679075240"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span id="local-6989586621679075239"><span class="annot"><a href="#local-6989586621679075239"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679075238"><span class="annot"><a href="#local-6989586621679075238"><span class="hs-identifier hs-type">ts</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679075239"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#FieldPayload"><span class="hs-identifier hs-type">FieldPayload</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075239"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Data.Vinyl.Class.Method.html#FieldId"><span class="hs-identifier hs-type">FieldId</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#RecMapMethod"><span class="hs-identifier hs-type">RecMapMethod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075240"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075239"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075238"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-211"></span><span>            </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679075472"><span class="annot"><a href="#local-6989586621679075472"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679075240"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075472"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075472"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075472"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075239"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075238"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075239"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075238"><span class="hs-identifier hs-type">ts</span></a></span><span>
</span><span id="line-212"></span><span id="rmapMethodF"><span class="annot"><span class="annottext">rmapMethodF :: (forall a. c a =&gt; a -&gt; a) -&gt; Rec f ts -&gt; Rec f ts
</span><a href="Data.Vinyl.Class.Method.html#rmapMethodF"><span class="hs-identifier hs-var hs-var">rmapMethodF</span></a></span></span><span> </span><span id="local-6989586621679075237"><span class="annot"><span class="annottext">forall a. c a =&gt; a -&gt; a
</span><a href="#local-6989586621679075237"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall a. c (PayloadType f a) =&gt; f a -&gt; f a)
-&gt; Rec f ts -&gt; Rec f ts
forall u (c :: * -&gt; Constraint) (f :: u -&gt; *) (ts :: [u])
       (g :: u -&gt; *).
RecMapMethod c f ts =&gt;
(forall (a :: u). c (PayloadType f a) =&gt; f a -&gt; g a)
-&gt; Rec f ts -&gt; Rec g ts
</span><a href="Data.Vinyl.Class.Method.html#rmapMethod"><span class="hs-identifier hs-var">rmapMethod</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679075240"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; f a -&gt; f a
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
forall a. c a =&gt; a -&gt; a
</span><a href="#local-6989586621679075237"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-213"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#rmapMethodF"><span class="hs-pragma hs-type">rmapMethodF</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-214"></span><span>
</span><span id="line-215"></span><span class="hs-comment">-- | Apply a typeclass method to each field of a 'FieldRec'. This is a</span><span>
</span><span id="line-216"></span><span class="hs-comment">-- specialization of 'rmapMethod'.</span><span>
</span><span id="line-217"></span><span class="annot"><a href="Data.Vinyl.Class.Method.html#mapFields"><span class="hs-identifier hs-type">mapFields</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679075236"><span class="annot"><a href="#local-6989586621679075236"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span id="local-6989586621679075235"><span class="annot"><a href="#local-6989586621679075235"><span class="hs-identifier hs-type">ts</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#RecMapMethod"><span class="hs-identifier hs-type">RecMapMethod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075236"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075235"><span class="hs-identifier hs-type">ts</span></a></span><span>
</span><span id="line-218"></span><span>           </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679075464"><span class="annot"><a href="#local-6989586621679075464"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679075236"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075464"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075464"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075464"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#FieldRec"><span class="hs-identifier hs-type">FieldRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075235"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#FieldRec"><span class="hs-identifier hs-type">FieldRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075235"><span class="hs-identifier hs-type">ts</span></a></span><span>
</span><span id="line-219"></span><span id="mapFields"><span class="annot"><span class="annottext">mapFields :: (forall a. c a =&gt; a -&gt; a) -&gt; FieldRec ts -&gt; FieldRec ts
</span><a href="Data.Vinyl.Class.Method.html#mapFields"><span class="hs-identifier hs-var hs-var">mapFields</span></a></span></span><span> </span><span id="local-6989586621679075234"><span class="annot"><span class="annottext">forall a. c a =&gt; a -&gt; a
</span><a href="#local-6989586621679075234"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (a :: (Symbol, *)).
 c (PayloadType ElField a) =&gt;
 ElField a -&gt; ElField a)
-&gt; FieldRec ts -&gt; FieldRec ts
forall u (c :: * -&gt; Constraint) (f :: u -&gt; *) (ts :: [u])
       (g :: u -&gt; *).
RecMapMethod c f ts =&gt;
(forall (a :: u). c (PayloadType f a) =&gt; f a -&gt; g a)
-&gt; Rec f ts -&gt; Rec g ts
</span><a href="Data.Vinyl.Class.Method.html#rmapMethod"><span class="hs-identifier hs-var">rmapMethod</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679075236"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall (a :: (Symbol, *)).
c (PayloadType ElField a) =&gt;
ElField a -&gt; ElField a
</span><a href="#local-6989586621679075233"><span class="hs-identifier hs-var">g</span></a></span><span>
</span><span id="line-220"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679075232"><span class="annot"><a href="#local-6989586621679075233"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679075236"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Class.Method.html#PayloadType"><span class="hs-identifier hs-type">PayloadType</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075232"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075232"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075232"><span class="hs-identifier hs-type">t</span></a></span></span><span>
</span><span id="line-221"></span><span>        </span><span id="local-6989586621679075233"><span class="annot"><span class="annottext">g :: ElField t -&gt; ElField t
</span><a href="#local-6989586621679075233"><span class="hs-identifier hs-var hs-var">g</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Functor.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span id="local-6989586621679075230"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679075230"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t -&gt; ElField '(s, t)
forall (s :: Symbol) t. KnownSymbol s =&gt; t -&gt; ElField '(s, t)
</span><a href="Data.Vinyl.Functor.html#Field"><span class="hs-identifier hs-var">Field</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t -&gt; t
forall a. c a =&gt; a -&gt; a
</span><a href="#local-6989586621679075234"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679075230"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-222"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Vinyl.Class.Method.html#mapFields"><span class="hs-pragma hs-type">mapFields</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-223"></span><span>
</span><span id="line-224"></span><span class="hs-comment">-- | Like 'rtraverseIn', but the function between functors may be</span><span>
</span><span id="line-225"></span><span class="hs-comment">-- constrained.</span><span>
</span><span id="line-226"></span><span class="annot"><a href="Data.Vinyl.Class.Method.html#rtraverseInMethod"><span class="hs-identifier hs-type">rtraverseInMethod</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679075401"><span class="annot"><a href="#local-6989586621679075401"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span id="local-6989586621679075398"><span class="annot"><a href="#local-6989586621679075398"><span class="hs-identifier hs-type">h</span></a></span></span><span> </span><span id="local-6989586621679075400"><span class="annot"><a href="#local-6989586621679075400"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679075399"><span class="annot"><a href="#local-6989586621679075399"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621679075402"><span class="annot"><a href="#local-6989586621679075402"><span class="hs-identifier hs-type">rs</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-227"></span><span>                     </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Core.html#RMap"><span class="hs-identifier hs-type">RMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075402"><span class="hs-identifier hs-type">rs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#RPureConstrained"><span class="hs-identifier hs-type">RPureConstrained</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075401"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075402"><span class="hs-identifier hs-type">rs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#RApply"><span class="hs-identifier hs-type">RApply</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075402"><span class="hs-identifier hs-type">rs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-228"></span><span>                  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679075453"><span class="annot"><a href="#local-6989586621679075453"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679075401"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075453"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075400"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075453"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075399"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.TypeLevel.html#ApplyToField"><span class="hs-identifier hs-type">ApplyToField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075398"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075453"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-229"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075400"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075402"><span class="hs-identifier hs-type">rs</span></a></span><span>
</span><span id="line-230"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075399"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.TypeLevel.html#MapTyCon"><span class="hs-identifier hs-type">MapTyCon</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075398"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075402"><span class="hs-identifier hs-type">rs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-231"></span><span id="rtraverseInMethod"><span class="annot"><span class="annottext">rtraverseInMethod :: (forall (a :: u). c a =&gt; f a -&gt; g (ApplyToField h a))
-&gt; Rec f rs -&gt; Rec g (MapTyCon h rs)
</span><a href="Data.Vinyl.Class.Method.html#rtraverseInMethod"><span class="hs-identifier hs-var hs-var">rtraverseInMethod</span></a></span></span><span> </span><span id="local-6989586621679075229"><span class="annot"><span class="annottext">forall (a :: u). c a =&gt; f a -&gt; g (ApplyToField h a)
</span><a href="#local-6989586621679075229"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (a :: u). Product (DictOnly c) f a -&gt; g (ApplyToField h a))
-&gt; Rec (Product (DictOnly c) f) rs -&gt; Rec g (MapTyCon h rs)
forall u (h :: * -&gt; *) (f :: u -&gt; *) (g :: u -&gt; *) (rs :: [u]).
(forall (a :: u). f a -&gt; g (ApplyToField h a))
-&gt; Rec f rs -&gt; Rec g (MapTyCon h rs)
</span><a href="Data.Vinyl.Core.html#rtraverseIn"><span class="hs-identifier hs-var">rtraverseIn</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679075398"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(c a =&gt; f a -&gt; g (ApplyToField h a))
-&gt; Product (DictOnly c) f a -&gt; g (ApplyToField h a)
forall k (c :: k -&gt; Constraint) (a :: k) (f :: k -&gt; *) r.
(c a =&gt; f a -&gt; r) -&gt; Product (DictOnly c) f a -&gt; r
</span><a href="Data.Vinyl.Core.html#withPairedDict"><span class="hs-identifier hs-var">withPairedDict</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679075401"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><span class="annottext">c a =&gt; f a -&gt; g (ApplyToField h a)
forall (a :: u). c a =&gt; f a -&gt; g (ApplyToField h a)
</span><a href="#local-6989586621679075229"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-232"></span><span>                    </span><span class="annot"><span class="annottext">(Rec (Product (DictOnly c) f) rs -&gt; Rec g (MapTyCon h rs))
-&gt; (Rec f rs -&gt; Rec (Product (DictOnly c) f) rs)
-&gt; Rec f rs
-&gt; Rec g (MapTyCon h rs)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(forall (x :: u). DictOnly c x -&gt; f x -&gt; Product (DictOnly c) f x)
-&gt; Rec (DictOnly c) rs
-&gt; Rec f rs
-&gt; Rec (Product (DictOnly c) f) rs
forall u (xs :: [u]) (f :: u -&gt; *) (g :: u -&gt; *) (h :: u -&gt; *).
(RMap xs, RApply xs) =&gt;
(forall (x :: u). f x -&gt; g x -&gt; h x)
-&gt; Rec f xs -&gt; Rec g xs -&gt; Rec h xs
</span><a href="Data.Vinyl.Core.html#rzipWith"><span class="hs-identifier hs-var">rzipWith</span></a></span><span> </span><span class="annot"><span class="annottext">forall (x :: u). DictOnly c x -&gt; f x -&gt; Product (DictOnly c) f x
forall k (f :: k -&gt; *) (g :: k -&gt; *) (a :: k).
f a -&gt; g a -&gt; Product f g a
</span><span class="hs-identifier hs-var">Pair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall (a :: u). c a =&gt; DictOnly c a) -&gt; Rec (DictOnly c) rs
forall u (c :: u -&gt; Constraint) (ts :: [u]) (f :: u -&gt; *).
RPureConstrained c ts =&gt;
(forall (a :: u). c a =&gt; f a) -&gt; Rec f ts
</span><a href="Data.Vinyl.Core.html#rpureConstrained"><span class="hs-identifier hs-var">rpureConstrained</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679075401"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall (a :: u). c a =&gt; DictOnly c a
</span><a href="#local-6989586621679075223"><span class="hs-identifier hs-var">aux</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-233"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679075222"><span class="annot"><a href="#local-6989586621679075223"><span class="hs-identifier hs-type">aux</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679075401"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075222"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#DictOnly"><span class="hs-identifier hs-type">DictOnly</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075401"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075222"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-234"></span><span>        </span><span id="local-6989586621679075223"><span class="annot"><span class="annottext">aux :: DictOnly c b
</span><a href="#local-6989586621679075223"><span class="hs-identifier hs-var hs-var">aux</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DictOnly c b
forall k (c :: k -&gt; Constraint) (a :: k). c a =&gt; DictOnly c a
</span><a href="Data.Vinyl.Core.html#DictOnly"><span class="hs-identifier hs-var">DictOnly</span></a></span><span>
</span><span id="line-235"></span><span>
</span><span id="line-236"></span><span class="hs-comment">-- Note: rtraverseInMethod is written with that `aux` helper in order</span><span>
</span><span id="line-237"></span><span class="hs-comment">-- to work around compatibility with GHC &lt; 8.4. Write it more</span><span>
</span><span id="line-238"></span><span class="hs-comment">-- naturally as `DictOnly @c` does not work with older compilers.</span><span>
</span><span id="line-239"></span><span>
</span><span id="line-240"></span><span class="hs-comment">-- | Push an outer layer of interpretation functor into each named field.</span><span>
</span><span id="line-241"></span><span class="annot"><a href="Data.Vinyl.Class.Method.html#rsequenceInFields"><span class="hs-identifier hs-type">rsequenceInFields</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679075220"><span class="annot"><a href="#local-6989586621679075220"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679075219"><span class="annot"><a href="#local-6989586621679075219"><span class="hs-identifier hs-type">rs</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679075220"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#AllFields"><span class="hs-identifier hs-type">AllFields</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075219"><span class="hs-identifier hs-type">rs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#RMap"><span class="hs-identifier hs-type">RMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075219"><span class="hs-identifier hs-type">rs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-242"></span><span>                  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075220"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#%3A."><span class="hs-operator hs-type">:.</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679075219"><span class="hs-identifier hs-type">rs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.TypeLevel.html#MapTyCon"><span class="hs-identifier hs-type">MapTyCon</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075220"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075219"><span class="hs-identifier hs-type">rs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-243"></span><span id="rsequenceInFields"><span class="annot"><span class="annottext">rsequenceInFields :: Rec (f :. ElField) rs -&gt; Rec ElField (MapTyCon f rs)
</span><a href="Data.Vinyl.Class.Method.html#rsequenceInFields"><span class="hs-identifier hs-var hs-var">rsequenceInFields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (a :: (Symbol, *)).
 KnownField a =&gt;
 (:.) f ElField a -&gt; ElField (ApplyToField f a))
-&gt; Rec (f :. ElField) rs -&gt; Rec ElField (MapTyCon f rs)
forall u (c :: u -&gt; Constraint) (h :: * -&gt; *) (f :: u -&gt; *)
       (g :: u -&gt; *) (rs :: [u]).
(RMap rs, RPureConstrained c rs, RApply rs) =&gt;
(forall (a :: u). c a =&gt; f a -&gt; g (ApplyToField h a))
-&gt; Rec f rs -&gt; Rec g (MapTyCon h rs)
</span><a href="Data.Vinyl.Class.Method.html#rtraverseInMethod"><span class="hs-identifier hs-var">rtraverseInMethod</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Data.Vinyl.Derived.html#KnownField"><span class="hs-identifier hs-type">KnownField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Snd a -&gt; Snd a)
-&gt; f (ElField '(Fst a, Snd a)) -&gt; ElField '(Fst a, f (Snd a))
forall (s :: Symbol) (f :: * -&gt; *) a b.
(KnownSymbol s, Functor f) =&gt;
(a -&gt; b) -&gt; f (ElField '(s, a)) -&gt; ElField '(s, f b)
</span><a href="Data.Vinyl.Derived.html#traverseField"><span class="hs-identifier hs-var">traverseField</span></a></span><span> </span><span class="annot"><span class="annottext">Snd a -&gt; Snd a
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span> </span><span class="annot"><span class="annottext">(f (ElField '(Fst a, Snd a)) -&gt; ElField '(Fst a, f (Snd a)))
-&gt; (Compose f ElField '(Fst a, Snd a)
    -&gt; f (ElField '(Fst a, Snd a)))
-&gt; Compose f ElField '(Fst a, Snd a)
-&gt; ElField '(Fst a, f (Snd a))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Compose f ElField '(Fst a, Snd a) -&gt; f (ElField '(Fst a, Snd a))
forall l (f :: l -&gt; *) k (g :: k -&gt; l) (x :: k).
Compose f g x -&gt; f (g x)
</span><a href="Data.Vinyl.Functor.html#getCompose"><span class="hs-identifier hs-var hs-var">getCompose</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-244"></span><span>
</span><span id="line-245"></span><span>
</span><span id="line-246"></span><span class="hs-comment">{- $example
    This module provides variants of typeclass methods that have
    a 'RecAll' constraint instead of the normal typeclass
    constraint. For example, a type-specialized 'compare' would
    look like this:

&gt; compare :: Ord (Rec f rs) =&gt; Rec f rs -&gt; Rec f rs -&gt; Ordering

    The 'recCompare' function looks like this:

&gt; recCompare :: RecAll f rs Ord =&gt; Rec f rs -&gt; Rec f rs -&gt; Ordering

    The only difference is the constraint. Let's look at a potential
    use case for these functions.

    Let's write a function that projects out a subrecord from two records and
    then compares those for equality. We can write this with
    the '&lt;:' operator from @Data.Vinyl.Lens@ and the normal 'compare'
    function. We don't need 'recCompare':

&gt; -- This needs ScopedTypeVariables
&gt; projectAndCompare :: forall super sub f. (super &lt;: sub, Ord (Rec f sub))
&gt;                   =&gt; Proxy sub -&gt; Rec f super -&gt; Rec f super -&gt; Ordering
&gt; projectAndCompare _ a b = compare (rcast a :: Rec f sub) (rcast b :: Rec f sub)

    That works fine for the majority of use cases, and it is probably how you should
    write the function if it does everything you need. However, let's consider
    a somewhat more complicated case.

    What if the exact subrecord we were projecting couldn't be
    known at compile time? Assume that the end user was allowd to
    choose the fields on which he or she wanted to compare records.
    The @projectAndCompare@ function cannot handle this because of the
    @Ord (Rec f sub)@ constraint. Even if we amend the constraint to
    read @Ord (Rec f super)@ instead, we cannot use this information
    to recover the @Ord (Rec f sub)@ constraint that we need. Let's
    try another approach.

    We can use the following GADT to prove subsethood:

&gt; data Sublist (super :: [k]) (sub :: [k]) where
&gt;   SublistNil   :: Sublist '[]
&gt;   SublistSuper :: Proxy r -&gt; Sublist super sub -&gt; Sublist (r ': super) sub
&gt;   SublistBoth  :: Proxy r -&gt; Sublist super sub -&gt; Sublist (r ': super) (r ': sub)
&gt;
&gt; projectRec :: Sublist super sub -&gt; Rec f super -&gt; Rec f sub
&gt; projectRec s r = case s of
&gt;   SublistNil -&gt; RNil
&gt;   SublistBoth n snext -&gt; case r of
&gt;     rhead :&amp; rtail -&gt; rhead :&amp; projectRec snext rtail
&gt;   SublistSuper n snext -&gt; case r of
&gt;     rhead :&amp; rtail -&gt; projectRec snext rtail

    It is also possible to write a typeclass to generate @Sublist@s
    implicitly, but that is beyond the scope of this example. Let's
    now write a function to use @Sublist@ to weaken a 'RecAll'
    constraint:

&gt; import Data.Vinyl.Core hiding (Dict)
&gt; import Data.Constraint
&gt;
&gt; weakenRecAll :: Proxy f -&gt; Proxy c -&gt; Sublist super sub -&gt; RecAll f super c :- RecAll f sub c
&gt; weakenRecAll f c s = case s of
&gt;   SublistNil -&gt; Sub Dict
&gt;   SublistSuper _ snext -&gt; Sub $ case weakenRecAll f c snext of
&gt;     Sub Dict -&gt; Dict
&gt;   SublistBoth _ snext -&gt; Sub $ case weakenRecAll f c snext of
&gt;     Sub Dict -&gt; Dict

    Now we can write a different version of our original function:

&gt; -- This needs ScopedTypeVariables
&gt; projectAndCompare2 :: forall super sub f. (RecAll f super Ord)
&gt;                    =&gt; Sublist super sub -&gt; Rec f super -&gt; Rec f super -&gt; Ordering
&gt; projectAndCompare2 s a b = case weakenRecAll (Proxy :: Proxy f) (Proxy :: Proxy Ord) s of
&gt;   Sub Dict -&gt; recCompare (projectRec s a) (projectRec s b)

    Notice that in this case, the 'Ord' constraint applies to the full set of fields
    and is then weakened to target a subset of them instead.
-}</span><span>
</span><span id="line-326"></span></pre></body></html>