<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE BangPatterns #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE CPP #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE DeriveDataTypeable #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE DeriveFunctor #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE DeriveGeneric #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE MagicHash #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes#-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-14"></span><span class="hs-pragma">{-# LANGUAGE TemplateHaskell #-}</span><span>
</span><span id="line-15"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-16"></span><span class="hs-pragma">{-# LANGUAGE ViewPatterns #-}</span><span>
</span><span id="line-17"></span><span class="hs-pragma">{-# LANGUAGE EmptyCase #-}</span><span>
</span><span id="line-18"></span><span class="hs-pragma">{-# OPTIONS_GHC -fno-warn-orphans #-}</span><span>
</span><span id="line-19"></span><span>
</span><span id="line-20"></span><span class="hs-comment">-- | Internal API for the store package. The functions here which are</span><span>
</span><span id="line-21"></span><span class="hs-comment">-- not re-exported by &quot;Data.Store&quot; are less likely to have stable APIs.</span><span>
</span><span id="line-22"></span><span class="hs-comment">--</span><span>
</span><span id="line-23"></span><span class="hs-comment">-- This module also defines most of the included 'Store' instances, for</span><span>
</span><span id="line-24"></span><span class="hs-comment">-- types from the base package and other commonly used packages</span><span>
</span><span id="line-25"></span><span class="hs-comment">-- (bytestring, containers, text, time, etc).</span><span>
</span><span id="line-26"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Data.Store.Internal</span><span>
</span><span id="line-27"></span><span>    </span><span class="hs-special">(</span><span>
</span><span id="line-28"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Encoding and decoding strict ByteStrings.</span></span><span>
</span><span id="line-29"></span><span>      </span><span class="annot"><a href="Data.Store.Impl.html#encode"><span class="hs-identifier">encode</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>      </span><span class="annot"><a href="Data.Store.Impl.html#decode"><span class="hs-identifier">decode</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">decodeWith</span></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>      </span><span class="annot"><a href="Data.Store.Impl.html#decodeEx"><span class="hs-identifier">decodeEx</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">decodeExWith</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">decodeExPortionWith</span></span><span>
</span><span id="line-32"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#decodeIO"><span class="hs-identifier">decodeIO</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">decodeIOWith</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">decodeIOPortionWith</span></span><span>
</span><span id="line-33"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Store class and related types.</span></span><span>
</span><span id="line-34"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier">Store</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Poke</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Peek</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">runPeek</span></span><span>
</span><span id="line-35"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Exceptions thrown by Poke</span></span><span>
</span><span id="line-36"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">PokeException</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">pokeException</span></span><span>
</span><span id="line-37"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Exceptions thrown by Peek</span></span><span>
</span><span id="line-38"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">PeekException</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">peekException</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">tooManyBytes</span></span><span>
</span><span id="line-39"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Size type</span></span><span>
</span><span id="line-40"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Size"><span class="hs-identifier">Size</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#getSize"><span class="hs-identifier">getSize</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#getSizeWith"><span class="hs-identifier">getSizeWith</span></a></span><span>
</span><span id="line-42"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#combineSize"><span class="hs-identifier">combineSize</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#combineSizeWith"><span class="hs-identifier">combineSizeWith</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#addSize"><span class="hs-identifier">addSize</span></a></span><span>
</span><span id="line-43"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Store instances in terms of IsSequence</span></span><span>
</span><span id="line-44"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#sizeSequence"><span class="hs-identifier">sizeSequence</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#pokeSequence"><span class="hs-identifier">pokeSequence</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#peekSequence"><span class="hs-identifier">peekSequence</span></a></span><span>
</span><span id="line-45"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Store instances in terms of IsSet</span></span><span>
</span><span id="line-46"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#sizeSet"><span class="hs-identifier">sizeSet</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#pokeSet"><span class="hs-identifier">pokeSet</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#peekSet"><span class="hs-identifier">peekSet</span></a></span><span>
</span><span id="line-47"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Store instances in terms of IsMap</span></span><span>
</span><span id="line-48"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#sizeMap"><span class="hs-identifier">sizeMap</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#pokeMap"><span class="hs-identifier">pokeMap</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#peekMap"><span class="hs-identifier">peekMap</span></a></span><span>
</span><span id="line-49"></span><span>    </span><span class="annot"><span class="hs-comment">-- *** Utilities for ordered maps</span></span><span>
</span><span id="line-50"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#sizeOrdMap"><span class="hs-identifier">sizeOrdMap</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#pokeOrdMap"><span class="hs-identifier">pokeOrdMap</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#peekOrdMapWith"><span class="hs-identifier">peekOrdMapWith</span></a></span><span>
</span><span id="line-51"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Store instances in terms of IArray</span></span><span>
</span><span id="line-52"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#sizeArray"><span class="hs-identifier">sizeArray</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#pokeArray"><span class="hs-identifier">pokeArray</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#peekArray"><span class="hs-identifier">peekArray</span></a></span><span>
</span><span id="line-53"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Store instances in terms of Generic</span></span><span>
</span><span id="line-54"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#GStoreSize"><span class="hs-identifier">GStoreSize</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#genericSize"><span class="hs-identifier">genericSize</span></a></span><span>
</span><span id="line-55"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#GStorePoke"><span class="hs-identifier">GStorePoke</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#genericPoke"><span class="hs-identifier">genericPoke</span></a></span><span>
</span><span id="line-56"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#GStorePeek"><span class="hs-identifier">GStorePeek</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#genericPeek"><span class="hs-identifier">genericPeek</span></a></span><span>
</span><span id="line-57"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Peek utilities</span></span><span>
</span><span id="line-58"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#skip"><span class="hs-identifier">skip</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#isolate"><span class="hs-identifier">isolate</span></a></span><span>
</span><span id="line-59"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#peekMagic"><span class="hs-identifier">peekMagic</span></a></span><span>
</span><span id="line-60"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Static Size type</span></span><span>
</span><span id="line-61"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-62"></span><span>    </span><span class="hs-comment">-- This portion of the library is still work-in-progress.</span><span>
</span><span id="line-63"></span><span>    </span><span class="hs-comment">-- 'IsStaticSize' is only supported for strict ByteStrings, in order</span><span>
</span><span id="line-64"></span><span>    </span><span class="hs-comment">-- to support the use case of 'Tagged'.</span><span>
</span><span id="line-65"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#IsStaticSize"><span class="hs-identifier">IsStaticSize</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#StaticSize"><span class="hs-identifier">StaticSize</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#toStaticSizeEx"><span class="hs-identifier">toStaticSizeEx</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#liftStaticSize"><span class="hs-identifier">liftStaticSize</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#staticByteStringExp"><span class="hs-identifier">staticByteStringExp</span></a></span><span>
</span><span id="line-66"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Control.Applicative</span></span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Control.DeepSeq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">NFData</span></span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Control.Exception</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">throwIO</span></span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Control.Monad</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">when</span></span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Control.Monad.IO.Class</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">liftIO</span></span><span class="hs-special">)</span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Array.Unboxed</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">A</span></span><span>
</span><span id="line-74"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BS</span></span><span>
</span><span id="line-75"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString.Internal</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BS</span></span><span>
</span><span id="line-76"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString.Lazy</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">LBS</span></span><span>
</span><span id="line-77"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString.Short.Internal</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SBS</span></span><span>
</span><span id="line-78"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Containers</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">IsMap</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ContainerKey</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">MapValue</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">mapFromList</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">mapToList</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">IsSet</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">setFromList</span></span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Complex</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Complex</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-80"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Data</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Data</span></span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Fixed</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Fixed</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Pico</span></span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Foldable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">forM_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">foldl'</span></span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Functor.Contravariant</span></span><span>
</span><span id="line-84"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Functor.Identity</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Identity</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.HashMap.Strict</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">HashMap</span></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.HashSet</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">HashSet</span></span><span class="hs-special">)</span><span>
</span><span id="line-87"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Hashable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Hashable</span></span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Int</span></span><span>
</span><span id="line-89"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.IntMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">IntMap</span></span><span class="hs-special">)</span><span>
</span><span id="line-90"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.IntMap.Strict</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">IntMap</span></span><span>
</span><span id="line-91"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.IntSet</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">IntSet</span></span><span class="hs-special">)</span><span>
</span><span id="line-92"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.IntSet</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">IntSet</span></span><span>
</span><span id="line-93"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.List.NonEmpty</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">NE</span></span><span>
</span><span id="line-94"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Map</span></span><span class="hs-special">)</span><span>
</span><span id="line-95"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map.Strict</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-96"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.MonoTraversable</span></span><span>
</span><span id="line-97"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Monoid</span></span><span>
</span><span id="line-98"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Orphans</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-99"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Primitive.ByteArray</span></span><span>
</span><span id="line-100"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Proxy</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Proxy</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-101"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Sequence</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Seq</span></span><span class="hs-special">)</span><span>
</span><span id="line-102"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Sequences</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">IsSequence</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Index</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">replicateM</span></span><span class="hs-special">)</span><span>
</span><span id="line-103"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Set</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Set</span></span><span class="hs-special">)</span><span>
</span><span id="line-104"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Set</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span>
</span><span id="line-105"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Data.Store.Impl.html"><span class="hs-identifier">Data.Store.Impl</span></a></span><span>
</span><span id="line-106"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Store.Core</span></span><span>
</span><span id="line-107"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Data.Store.TH.Internal.html"><span class="hs-identifier">Data.Store.TH.Internal</span></a></span><span>
</span><span id="line-108"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-109"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text.Array</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TA</span></span><span>
</span><span id="line-110"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text.Foreign</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-111"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text.Internal</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-112"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Time</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Time</span></span><span>
</span><span id="line-113"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Time.Clock.TAI</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Time</span></span><span>
</span><span id="line-114"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Typeable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Typeable</span></span><span class="hs-special">)</span><span>
</span><span id="line-115"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Vector</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">V</span></span><span>
</span><span id="line-116"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Vector.Mutable</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">MV</span></span><span>
</span><span id="line-117"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Vector.Storable</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SV</span></span><span>
</span><span id="line-118"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Vector.Storable.Mutable</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">MSV</span></span><span>
</span><span id="line-119"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Void</span></span><span>
</span><span id="line-120"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Word</span></span><span>
</span><span id="line-121"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Foreign.C.Types</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-122"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Foreign.Ptr</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">plusPtr</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">minusPtr</span></span><span class="hs-special">)</span><span>
</span><span id="line-123"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Foreign.Storable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Storable</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">sizeOf</span></span><span class="hs-special">)</span><span>
</span><span id="line-124"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">GHC.Generics</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Generic</span></span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">GHC.Real</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Ratio</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-126"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">GHC.TypeLits</span></span><span>
</span><span id="line-127"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Instances.TH.Lift</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-128"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Language.Haskell.TH</span></span><span>
</span><span id="line-129"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Language.Haskell.TH.Instances</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-130"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Language.Haskell.TH.ReifyMany</span></span><span>
</span><span id="line-131"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Language.Haskell.TH.Syntax</span></span><span>
</span><span id="line-132"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Network.Socket</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">AddrInfo</span></span><span class="hs-special">)</span><span>
</span><span id="line-133"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Numeric.Natural</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Natural</span></span><span class="hs-special">)</span><span>
</span><span id="line-134"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Prelude</span></span><span>
</span><span id="line-135"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">TH.Derive</span></span><span class="hs-cpp">

#if MIN_VERSION_time(1,8,0)
</span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Time.Clock.System</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Time</span></span><span class="hs-cpp">
#endif
</span><span class="hs-cpp">#if MIN_VERSION_time(1,9,0)
</span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Time.Format.ISO8601</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Time</span></span><span class="hs-cpp">
#endif
</span><span class="hs-cpp">#if MIN_VERSION_time(1,11,0)
</span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">Data.Time.Calendar.Quarter</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">Time</span><span>
</span><span id="line-145"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">Data.Time.Calendar.WeekDate</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">Time</span><span class="hs-cpp">
#endif
</span><span class="hs-cpp">
#ifdef INTEGER_GMP
</span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Integer.GMP.Internals</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">I</span></span><span>
</span><span id="line-150"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">GHC.Types</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Int</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">I#</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-cpp">
#else
</span><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">GHC.Types</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Word</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">W#</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-153"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">GHC.Integer.Simple.Internals</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">I</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-156"></span><span class="hs-comment">-- Conditional import to avoid warning</span><span class="hs-cpp">
#ifdef INTEGER_GMP
</span><span class="hs-cpp">#if MIN_VERSION_integer_gmp(1,0,0)
</span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">GHC.Prim</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">sizeofByteArray#</span></span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span class="hs-cpp">#endif
</span><span>
</span><span id="line-163"></span><span class="hs-comment">-- TODO: higher arities?  Limited now by Generics instances for tuples</span><span>
</span><span id="line-164"></span><span class="hs-special">$(</span><span id="local-6989586621679540896"><span id="local-6989586621679540898"><span id="local-6989586621679540900"><span id="local-6989586621679540902"><span id="local-6989586621679540904"><span id="local-6989586621679540906"><span id="local-6989586621679540908"><span id="local-6989586621679540910"><span id="local-6989586621679540912"><span id="local-6989586621679540914"><span id="local-6989586621679540916"><span id="local-6989586621679540918"><span id="local-6989586621679540920"><span id="local-6989586621679540922"><span id="local-6989586621679540924"><span id="local-6989586621679540926"><span id="local-6989586621679540928"><span id="local-6989586621679540930"><span id="local-6989586621679540932"><span id="local-6989586621679540933"><span id="local-6989586621679540934"><span id="local-6989586621679540935"><span id="local-6989586621679540936"><span id="local-6989586621679540937"><span id="local-6989586621679540938"><span id="local-6989586621679540939"><span id="local-6989586621679540940"><span id="local-6989586621679540941"><span id="local-6989586621679540942"><span id="local-6989586621679540943"><span id="local-6989586621679540944"><span id="local-6989586621679540945"><span id="local-6989586621679540946"><span id="local-6989586621679540947"><span id="local-6989586621679540948"><span id="local-6989586621679540949"><span id="local-6989586621679540950"><span id="local-6989586621679540951"><span id="local-6989586621679540952"><span id="local-6989586621679540953"><span id="local-6989586621679540954"><span id="local-6989586621679540955"><span id="local-6989586621679540956"><span id="local-6989586621679540957"><span id="local-6989586621679540958"><span class="hs-identifier">return</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-identifier">deriveTupleStoreInstance</span><span> </span><span class="hs-special">[</span><span class="hs-number">2</span><span class="hs-glyph">..</span><span class="hs-number">7</span><span class="hs-special">]</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-165"></span><span>
</span><span id="line-166"></span><span class="hs-special">$(</span><span id="local-6989586621679540859"><span id="local-6989586621679540861"><span id="local-6989586621679540863"><span id="local-6989586621679540865"><span id="local-6989586621679540867"><span id="local-6989586621679540869"><span id="local-6989586621679540871"><span id="local-6989586621679540873"><span id="local-6989586621679540875"><span id="local-6989586621679540877"><span id="local-6989586621679540879"><span id="local-6989586621679540881"><span id="local-6989586621679540883"><span id="local-6989586621679540885"><span id="local-6989586621679540887"><span id="local-6989586621679540889"><span id="local-6989586621679540891"><span id="local-6989586621679540893"><span class="hs-identifier">deriveManyStoreFromStorable</span><span>
</span><span id="line-167"></span><span>  </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">ty</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-168"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">ty</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-169"></span><span>      </span><span class="hs-identifier">ConT</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">elem</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-special">[</span><span class="hs-special">''</span><span class="hs-identifier">Char</span><span class="hs-special">,</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">Int64</span><span class="hs-special">,</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">Word</span><span class="hs-special">,</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">Word8</span><span class="hs-special">,</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">Word32</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">True</span><span>
</span><span id="line-170"></span><span>      </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-171"></span><span>    </span><span class="hs-special">)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-172"></span><span>
</span><span id="line-173"></span><span class="hs-comment">------------------------------------------------------------------------</span><span>
</span><span id="line-174"></span><span class="hs-comment">-- Utilities for defining list-like 'Store' instances in terms of 'IsSequence'</span><span>
</span><span id="line-175"></span><span>
</span><span id="line-176"></span><span class="hs-comment">-- | Implement 'size' for an 'IsSequence' of 'Store' instances.</span><span>
</span><span id="line-177"></span><span class="hs-comment">--</span><span>
</span><span id="line-178"></span><span class="hs-comment">-- Note that many monomorphic containers have more efficient</span><span>
</span><span id="line-179"></span><span class="hs-comment">-- implementations (for example, via memcpy).</span><span>
</span><span id="line-180"></span><span class="annot"><a href="Data.Store.Internal.html#sizeSequence"><span class="hs-identifier hs-type">sizeSequence</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679541443"><span class="annot"><a href="#local-6989586621679541443"><span class="hs-identifier hs-type">t</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IsSequence</span></span><span> </span><span class="annot"><a href="#local-6989586621679541443"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Element</span></span><span> </span><span class="annot"><a href="#local-6989586621679541443"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Size"><span class="hs-identifier hs-type">Size</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679541443"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-181"></span><span id="sizeSequence"><span class="annot"><span class="annottext">sizeSequence :: Size t
</span><a href="Data.Store.Internal.html#sizeSequence"><span class="hs-identifier hs-var hs-var">sizeSequence</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(t -&gt; Int) -&gt; Size t
forall a. (a -&gt; Int) -&gt; Size a
</span><a href="Data.Store.Impl.html#VarSize"><span class="hs-identifier hs-var">VarSize</span></a></span><span> </span><span class="annot"><span class="annottext">((t -&gt; Int) -&gt; Size t) -&gt; (t -&gt; Int) -&gt; Size t
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679540854"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679540854"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-182"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Size (Element t)
forall a. Store a =&gt; Size a
</span><a href="Data.Store.Impl.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Size"><span class="hs-identifier hs-type">Size</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Element</span></span><span> </span><span class="annot"><a href="#local-6989586621679541443"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-183"></span><span>        </span><span class="annot"><a href="Data.Store.Impl.html#ConstSize"><span class="hs-identifier hs-type">ConstSize</span></a></span><span> </span><span id="local-6989586621679540852"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540852"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540852"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t -&gt; Int
forall mono. MonoFoldable mono =&gt; mono -&gt; Int
</span><span class="hs-identifier hs-var">olength</span></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679540854"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int
forall a. Storable a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">sizeOf</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span>
</span><span id="line-184"></span><span>        </span><span class="annot"><a href="Data.Store.Impl.html#VarSize"><span class="hs-identifier hs-type">VarSize</span></a></span><span> </span><span id="local-6989586621679540847"><span class="annot"><span class="annottext">Element t -&gt; Int
</span><a href="#local-6989586621679540847"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Element t -&gt; Int) -&gt; Int -&gt; t -&gt; Int
forall mono a.
MonoFoldable mono =&gt;
(a -&gt; Element mono -&gt; a) -&gt; a -&gt; mono -&gt; a
</span><span class="hs-identifier hs-var">ofoldl'</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679540845"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540845"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621679540844"><span class="annot"><span class="annottext">Element t
</span><a href="#local-6989586621679540844"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540845"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Element t -&gt; Int
</span><a href="#local-6989586621679540847"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Element t
</span><a href="#local-6989586621679540844"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int
forall a. Storable a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">sizeOf</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679540854"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-185"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#sizeSequence"><span class="hs-pragma hs-type">sizeSequence</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-186"></span><span>
</span><span id="line-187"></span><span class="hs-comment">-- | Implement 'poke' for an 'IsSequence' of 'Store' instances.</span><span>
</span><span id="line-188"></span><span class="hs-comment">--</span><span>
</span><span id="line-189"></span><span class="hs-comment">-- Note that many monomorphic containers have more efficient</span><span>
</span><span id="line-190"></span><span class="hs-comment">-- implementations (for example, via memcpy).</span><span>
</span><span id="line-191"></span><span id="local-6989586621679541500"><span class="annot"><a href="Data.Store.Internal.html#pokeSequence"><span class="hs-identifier hs-type">pokeSequence</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IsSequence</span></span><span> </span><span class="annot"><a href="#local-6989586621679541500"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Element</span></span><span> </span><span class="annot"><a href="#local-6989586621679541500"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679541500"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Poke</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-192"></span><span id="pokeSequence"><span class="annot"><span class="annottext">pokeSequence :: t -&gt; Poke ()
</span><a href="Data.Store.Internal.html#pokeSequence"><span class="hs-identifier hs-var hs-var">pokeSequence</span></a></span></span><span> </span><span id="local-6989586621679540843"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679540843"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-193"></span><span>  </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Poke ()
forall a. Storable a =&gt; a -&gt; Poke ()
</span><span class="hs-identifier hs-var">pokeStorable</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540841"><span class="hs-identifier hs-var">len</span></a></span><span>
</span><span id="line-194"></span><span>     </span><span class="annot"><span class="annottext">(PokeState -&gt; Int -&gt; IO (Int, ())) -&gt; Poke ()
forall a. (PokeState -&gt; Int -&gt; IO (Int, a)) -&gt; Poke a
</span><span class="hs-identifier hs-var">Poke</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679540839"><span class="annot"><span class="annottext">PokeState
</span><a href="#local-6989586621679540839"><span class="hs-identifier hs-var">ptr</span></a></span></span><span> </span><span id="local-6989586621679540838"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540838"><span class="hs-identifier hs-var">offset</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-195"></span><span>             </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621679540837"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540837"><span class="hs-identifier hs-var">offset'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-196"></span><span>                  </span><span class="annot"><span class="annottext">(Int -&gt; Element t -&gt; IO Int) -&gt; Int -&gt; t -&gt; IO Int
forall mono (m :: * -&gt; *) a.
(MonoFoldable mono, Monad m) =&gt;
(a -&gt; Element mono -&gt; m a) -&gt; a -&gt; mono -&gt; m a
</span><span class="hs-identifier hs-var">ofoldlM</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679540835"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540835"><span class="hs-identifier hs-var">offset'</span></a></span></span><span> </span><span id="local-6989586621679540834"><span class="annot"><span class="annottext">Element t
</span><a href="#local-6989586621679540834"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-197"></span><span>                             </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679540833"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540833"><span class="hs-identifier hs-var">offset''</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Poke () -&gt; PokeState -&gt; Int -&gt; IO (Int, ())
forall a. Poke a -&gt; PokeState -&gt; Int -&gt; IO (Int, a)
</span><span class="hs-identifier hs-var hs-var">runPoke</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Element t -&gt; Poke ()
forall a. Store a =&gt; a -&gt; Poke ()
</span><a href="Data.Store.Impl.html#poke"><span class="hs-identifier hs-var">poke</span></a></span><span> </span><span class="annot"><span class="annottext">Element t
</span><a href="#local-6989586621679540834"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PokeState
</span><a href="#local-6989586621679540839"><span class="hs-identifier hs-var">ptr</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540835"><span class="hs-identifier hs-var">offset'</span></a></span><span>
</span><span id="line-198"></span><span>                                </span><span class="annot"><span class="annottext">Int -&gt; IO Int
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540833"><span class="hs-identifier hs-var">offset''</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-199"></span><span>                          </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540838"><span class="hs-identifier hs-var">offset</span></a></span><span>
</span><span id="line-200"></span><span>                          </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679540843"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-201"></span><span>                </span><span class="annot"><span class="annottext">(Int, ()) -&gt; IO (Int, ())
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540837"><span class="hs-identifier hs-var">offset'</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-202"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679540841"><span class="annot"><span class="annottext">len :: Int
</span><a href="#local-6989586621679540841"><span class="hs-identifier hs-var hs-var">len</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t -&gt; Int
forall mono. MonoFoldable mono =&gt; mono -&gt; Int
</span><span class="hs-identifier hs-var">olength</span></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679540843"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-203"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#pokeSequence"><span class="hs-pragma hs-type">pokeSequence</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-204"></span><span>
</span><span id="line-205"></span><span class="hs-comment">-- | Implement 'peek' for an 'IsSequence' of 'Store' instances.</span><span>
</span><span id="line-206"></span><span class="hs-comment">--</span><span>
</span><span id="line-207"></span><span class="hs-comment">-- Note that many monomorphic containers have more efficient</span><span>
</span><span id="line-208"></span><span class="hs-comment">-- implementations (for example, via memcpy).</span><span>
</span><span id="line-209"></span><span id="local-6989586621679541312"><span class="annot"><a href="Data.Store.Internal.html#peekSequence"><span class="hs-identifier hs-type">peekSequence</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IsSequence</span></span><span> </span><span class="annot"><a href="#local-6989586621679541312"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Element</span></span><span> </span><span class="annot"><a href="#local-6989586621679541312"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Index</span></span><span> </span><span class="annot"><a href="#local-6989586621679541312"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Peek</span></span><span> </span><span class="annot"><a href="#local-6989586621679541312"><span class="hs-identifier hs-type">t</span></a></span></span><span>
</span><span id="line-210"></span><span id="peekSequence"><span class="annot"><span class="annottext">peekSequence :: Peek t
</span><a href="Data.Store.Internal.html#peekSequence"><span class="hs-identifier hs-var hs-var">peekSequence</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-211"></span><span>    </span><span id="local-6989586621679540831"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540831"><span class="hs-identifier hs-var">len</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Peek Int
forall a. Store a =&gt; Peek a
</span><a href="Data.Store.Impl.html#peek"><span class="hs-identifier hs-var">peek</span></a></span><span>
</span><span id="line-212"></span><span>    </span><span class="annot"><span class="annottext">Index t -&gt; Peek (Element t) -&gt; Peek t
forall seq (m :: * -&gt; *).
(IsSequence seq, Monad m) =&gt;
Index seq -&gt; m (Element seq) -&gt; m seq
</span><span class="hs-identifier hs-var">replicateM</span></span><span> </span><span class="annot"><span class="annottext">Int
Index t
</span><a href="#local-6989586621679540831"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="annot"><span class="annottext">Peek (Element t)
forall a. Store a =&gt; Peek a
</span><a href="Data.Store.Impl.html#peek"><span class="hs-identifier hs-var">peek</span></a></span><span>
</span><span id="line-213"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#peekSequence"><span class="hs-pragma hs-type">peekSequence</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-214"></span><span>
</span><span id="line-215"></span><span class="hs-comment">------------------------------------------------------------------------</span><span>
</span><span id="line-216"></span><span class="hs-comment">-- Utilities for defining list-like 'Store' instances in terms of 'IsSet'</span><span>
</span><span id="line-217"></span><span>
</span><span id="line-218"></span><span class="hs-comment">-- | Implement 'size' for an 'IsSet' of 'Store' instances.</span><span>
</span><span id="line-219"></span><span class="annot"><a href="Data.Store.Internal.html#sizeSet"><span class="hs-identifier hs-type">sizeSet</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679541299"><span class="annot"><a href="#local-6989586621679541299"><span class="hs-identifier hs-type">t</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IsSet</span></span><span> </span><span class="annot"><a href="#local-6989586621679541299"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Element</span></span><span> </span><span class="annot"><a href="#local-6989586621679541299"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Size"><span class="hs-identifier hs-type">Size</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679541299"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-220"></span><span id="sizeSet"><span class="annot"><span class="annottext">sizeSet :: Size t
</span><a href="Data.Store.Internal.html#sizeSet"><span class="hs-identifier hs-var hs-var">sizeSet</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(t -&gt; Int) -&gt; Size t
forall a. (a -&gt; Int) -&gt; Size a
</span><a href="Data.Store.Impl.html#VarSize"><span class="hs-identifier hs-var">VarSize</span></a></span><span> </span><span class="annot"><span class="annottext">((t -&gt; Int) -&gt; Size t) -&gt; (t -&gt; Int) -&gt; Size t
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679540830"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679540830"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-221"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Size (Element t)
forall a. Store a =&gt; Size a
</span><a href="Data.Store.Impl.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Size"><span class="hs-identifier hs-type">Size</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Element</span></span><span> </span><span class="annot"><a href="#local-6989586621679541299"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-222"></span><span>        </span><span class="annot"><a href="Data.Store.Impl.html#ConstSize"><span class="hs-identifier hs-type">ConstSize</span></a></span><span> </span><span id="local-6989586621679540829"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540829"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540829"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t -&gt; Int
forall mono. MonoFoldable mono =&gt; mono -&gt; Int
</span><span class="hs-identifier hs-var">olength</span></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679540830"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int
forall a. Storable a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">sizeOf</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span>
</span><span id="line-223"></span><span>        </span><span class="annot"><a href="Data.Store.Impl.html#VarSize"><span class="hs-identifier hs-type">VarSize</span></a></span><span> </span><span id="local-6989586621679540828"><span class="annot"><span class="annottext">Element t -&gt; Int
</span><a href="#local-6989586621679540828"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Element t -&gt; Int) -&gt; Int -&gt; t -&gt; Int
forall mono a.
MonoFoldable mono =&gt;
(a -&gt; Element mono -&gt; a) -&gt; a -&gt; mono -&gt; a
</span><span class="hs-identifier hs-var">ofoldl'</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679540827"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540827"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621679540826"><span class="annot"><span class="annottext">Element t
</span><a href="#local-6989586621679540826"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540827"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Element t -&gt; Int
</span><a href="#local-6989586621679540828"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Element t
</span><a href="#local-6989586621679540826"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int
forall a. Storable a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">sizeOf</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679540830"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-224"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#sizeSet"><span class="hs-pragma hs-type">sizeSet</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-225"></span><span>
</span><span id="line-226"></span><span class="hs-comment">-- | Implement 'poke' for an 'IsSequence' of 'Store' instances.</span><span>
</span><span id="line-227"></span><span id="local-6989586621679541302"><span class="annot"><a href="Data.Store.Internal.html#pokeSet"><span class="hs-identifier hs-type">pokeSet</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IsSet</span></span><span> </span><span class="annot"><a href="#local-6989586621679541302"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Element</span></span><span> </span><span class="annot"><a href="#local-6989586621679541302"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679541302"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Poke</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-228"></span><span id="pokeSet"><span class="annot"><span class="annottext">pokeSet :: t -&gt; Poke ()
</span><a href="Data.Store.Internal.html#pokeSet"><span class="hs-identifier hs-var hs-var">pokeSet</span></a></span></span><span> </span><span id="local-6989586621679540825"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679540825"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-229"></span><span>    </span><span class="annot"><span class="annottext">Int -&gt; Poke ()
forall a. Storable a =&gt; a -&gt; Poke ()
</span><span class="hs-identifier hs-var">pokeStorable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t -&gt; Int
forall mono. MonoFoldable mono =&gt; mono -&gt; Int
</span><span class="hs-identifier hs-var">olength</span></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679540825"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-230"></span><span>    </span><span class="annot"><span class="annottext">(Element t -&gt; Poke ()) -&gt; t -&gt; Poke ()
forall mono (m :: * -&gt; *).
(MonoFoldable mono, Applicative m) =&gt;
(Element mono -&gt; m ()) -&gt; mono -&gt; m ()
</span><span class="hs-identifier hs-var">omapM_</span></span><span> </span><span class="annot"><span class="annottext">Element t -&gt; Poke ()
forall a. Store a =&gt; a -&gt; Poke ()
</span><a href="Data.Store.Impl.html#poke"><span class="hs-identifier hs-var">poke</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679540825"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-231"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#pokeSet"><span class="hs-pragma hs-type">pokeSet</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-232"></span><span>
</span><span id="line-233"></span><span class="hs-comment">-- | Implement 'peek' for an 'IsSequence' of 'Store' instances.</span><span>
</span><span id="line-234"></span><span id="local-6989586621679541277"><span class="annot"><a href="Data.Store.Internal.html#peekSet"><span class="hs-identifier hs-type">peekSet</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IsSet</span></span><span> </span><span class="annot"><a href="#local-6989586621679541277"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Element</span></span><span> </span><span class="annot"><a href="#local-6989586621679541277"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Peek</span></span><span> </span><span class="annot"><a href="#local-6989586621679541277"><span class="hs-identifier hs-type">t</span></a></span></span><span>
</span><span id="line-235"></span><span id="peekSet"><span class="annot"><span class="annottext">peekSet :: Peek t
</span><a href="Data.Store.Internal.html#peekSet"><span class="hs-identifier hs-var hs-var">peekSet</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-236"></span><span>    </span><span id="local-6989586621679540823"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540823"><span class="hs-identifier hs-var">len</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Peek Int
forall a. Store a =&gt; Peek a
</span><a href="Data.Store.Impl.html#peek"><span class="hs-identifier hs-var">peek</span></a></span><span>
</span><span id="line-237"></span><span>    </span><span class="annot"><span class="annottext">[ContainerKey t] -&gt; t
forall set. IsSet set =&gt; [Element set] -&gt; set
</span><span class="hs-identifier hs-var">setFromList</span></span><span> </span><span class="annot"><span class="annottext">([ContainerKey t] -&gt; t) -&gt; Peek [ContainerKey t] -&gt; Peek t
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Index [ContainerKey t]
-&gt; Peek (Element [ContainerKey t]) -&gt; Peek [ContainerKey t]
forall seq (m :: * -&gt; *).
(IsSequence seq, Monad m) =&gt;
Index seq -&gt; m (Element seq) -&gt; m seq
</span><span class="hs-identifier hs-var">replicateM</span></span><span> </span><span class="annot"><span class="annottext">Int
Index [ContainerKey t]
</span><a href="#local-6989586621679540823"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="annot"><span class="annottext">Peek (Element [ContainerKey t])
forall a. Store a =&gt; Peek a
</span><a href="Data.Store.Impl.html#peek"><span class="hs-identifier hs-var">peek</span></a></span><span>
</span><span id="line-238"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#peekSet"><span class="hs-pragma hs-type">peekSet</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-239"></span><span>
</span><span id="line-240"></span><span class="hs-comment">------------------------------------------------------------------------</span><span>
</span><span id="line-241"></span><span class="hs-comment">-- Utilities for defining list-like 'Store' instances in terms of a 'IsMap'</span><span>
</span><span id="line-242"></span><span>
</span><span id="line-243"></span><span class="hs-comment">-- | Implement 'size' for an 'IsMap' of where both 'ContainerKey' and</span><span>
</span><span id="line-244"></span><span class="hs-comment">-- 'MapValue' are 'Store' instances.</span><span>
</span><span id="line-245"></span><span class="annot"><a href="Data.Store.Internal.html#sizeMap"><span class="hs-identifier hs-type">sizeMap</span></a></span><span>
</span><span id="line-246"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679541480"><span class="annot"><a href="#local-6989586621679541480"><span class="hs-identifier hs-type">t</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ContainerKey</span></span><span> </span><span class="annot"><a href="#local-6989586621679541480"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MapValue</span></span><span> </span><span class="annot"><a href="#local-6989586621679541480"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IsMap</span></span><span> </span><span class="annot"><a href="#local-6989586621679541480"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-247"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Size"><span class="hs-identifier hs-type">Size</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679541480"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-248"></span><span id="sizeMap"><span class="annot"><span class="annottext">sizeMap :: Size t
</span><a href="Data.Store.Internal.html#sizeMap"><span class="hs-identifier hs-var hs-var">sizeMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(t -&gt; Int) -&gt; Size t
forall a. (a -&gt; Int) -&gt; Size a
</span><a href="Data.Store.Impl.html#VarSize"><span class="hs-identifier hs-var">VarSize</span></a></span><span> </span><span class="annot"><span class="annottext">((t -&gt; Int) -&gt; Size t) -&gt; (t -&gt; Int) -&gt; Size t
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679540821"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679540821"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-249"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Size (ContainerKey t)
forall a. Store a =&gt; Size a
</span><a href="Data.Store.Impl.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Size"><span class="hs-identifier hs-type">Size</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ContainerKey</span></span><span> </span><span class="annot"><a href="#local-6989586621679541480"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Size (MapValue t)
forall a. Store a =&gt; Size a
</span><a href="Data.Store.Impl.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Size"><span class="hs-identifier hs-type">Size</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MapValue</span></span><span> </span><span class="annot"><a href="#local-6989586621679541480"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-250"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="Data.Store.Impl.html#ConstSize"><span class="hs-identifier hs-type">ConstSize</span></a></span><span> </span><span id="local-6989586621679540820"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540820"><span class="hs-identifier hs-var">nk</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#ConstSize"><span class="hs-identifier hs-type">ConstSize</span></a></span><span> </span><span id="local-6989586621679540819"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540819"><span class="hs-identifier hs-var">na</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540820"><span class="hs-identifier hs-var">nk</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540819"><span class="hs-identifier hs-var">na</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">t -&gt; Int
forall mono. MonoFoldable mono =&gt; mono -&gt; Int
</span><span class="hs-identifier hs-var">olength</span></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679540821"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int
forall a. Storable a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">sizeOf</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span>
</span><span id="line-251"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679540818"><span class="annot"><span class="annottext">Size (ContainerKey t)
</span><a href="#local-6989586621679540818"><span class="hs-identifier hs-var">szk</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679540817"><span class="annot"><span class="annottext">Size (MapValue t)
</span><a href="#local-6989586621679540817"><span class="hs-identifier hs-var">sza</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Element [(ContainerKey t, MapValue t)] -&gt; Int)
-&gt; Int -&gt; [(ContainerKey t, MapValue t)] -&gt; Int
forall mono a.
MonoFoldable mono =&gt;
(a -&gt; Element mono -&gt; a) -&gt; a -&gt; mono -&gt; a
</span><span class="hs-identifier hs-var">ofoldl'</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679540816"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540816"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679540815"><span class="annot"><a href="#local-6989586621679540815"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679540814"><span class="annot"><a href="#local-6989586621679540814"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540816"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Size (ContainerKey t) -&gt; ContainerKey t -&gt; Int
forall a. Size a -&gt; a -&gt; Int
</span><a href="Data.Store.Impl.html#getSizeWith"><span class="hs-identifier hs-var">getSizeWith</span></a></span><span> </span><span class="annot"><span class="annottext">Size (ContainerKey t)
</span><a href="#local-6989586621679540818"><span class="hs-identifier hs-var">szk</span></a></span><span> </span><span class="annot"><span class="annottext">ContainerKey t
</span><a href="#local-6989586621679540815"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Size (MapValue t) -&gt; MapValue t -&gt; Int
forall a. Size a -&gt; a -&gt; Int
</span><a href="Data.Store.Impl.html#getSizeWith"><span class="hs-identifier hs-var">getSizeWith</span></a></span><span> </span><span class="annot"><span class="annottext">Size (MapValue t)
</span><a href="#local-6989586621679540817"><span class="hs-identifier hs-var">sza</span></a></span><span> </span><span class="annot"><span class="annottext">MapValue t
</span><a href="#local-6989586621679540814"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-252"></span><span>                              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int
forall a. Storable a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">sizeOf</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-253"></span><span>                              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t -&gt; [(ContainerKey t, MapValue t)]
forall map. IsMap map =&gt; map -&gt; [(ContainerKey map, MapValue map)]
</span><span class="hs-identifier hs-var">mapToList</span></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679540821"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-254"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#sizeMap"><span class="hs-pragma hs-type">sizeMap</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-255"></span><span>
</span><span id="line-256"></span><span class="hs-comment">-- | Implement 'poke' for an 'IsMap' of where both 'ContainerKey' and</span><span>
</span><span id="line-257"></span><span class="hs-comment">-- 'MapValue' are 'Store' instances.</span><span>
</span><span id="line-258"></span><span id="local-6989586621679541476"><span class="annot"><a href="Data.Store.Internal.html#pokeMap"><span class="hs-identifier hs-type">pokeMap</span></a></span><span>
</span><span id="line-259"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ContainerKey</span></span><span> </span><span class="annot"><a href="#local-6989586621679541476"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MapValue</span></span><span> </span><span class="annot"><a href="#local-6989586621679541476"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IsMap</span></span><span> </span><span class="annot"><a href="#local-6989586621679541476"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-260"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679541476"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-261"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Poke</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-262"></span><span id="pokeMap"><span class="annot"><span class="annottext">pokeMap :: t -&gt; Poke ()
</span><a href="Data.Store.Internal.html#pokeMap"><span class="hs-identifier hs-var hs-var">pokeMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(ContainerKey t, MapValue t)] -&gt; Poke ()
forall t. (IsSequence t, Store (Element t)) =&gt; t -&gt; Poke ()
</span><a href="Data.Store.Internal.html#pokeSequence"><span class="hs-identifier hs-var">pokeSequence</span></a></span><span> </span><span class="annot"><span class="annottext">([(ContainerKey t, MapValue t)] -&gt; Poke ())
-&gt; (t -&gt; [(ContainerKey t, MapValue t)]) -&gt; t -&gt; Poke ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">t -&gt; [(ContainerKey t, MapValue t)]
forall map. IsMap map =&gt; map -&gt; [(ContainerKey map, MapValue map)]
</span><span class="hs-identifier hs-var">mapToList</span></span><span>
</span><span id="line-263"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#pokeMap"><span class="hs-pragma hs-type">pokeMap</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-264"></span><span>
</span><span id="line-265"></span><span class="hs-comment">-- | Implement 'peek' for an 'IsMap' of where both 'ContainerKey' and</span><span>
</span><span id="line-266"></span><span class="hs-comment">-- 'MapValue' are 'Store' instances.</span><span>
</span><span id="line-267"></span><span id="local-6989586621679541280"><span class="annot"><a href="Data.Store.Internal.html#peekMap"><span class="hs-identifier hs-type">peekMap</span></a></span><span>
</span><span id="line-268"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ContainerKey</span></span><span> </span><span class="annot"><a href="#local-6989586621679541280"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MapValue</span></span><span> </span><span class="annot"><a href="#local-6989586621679541280"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IsMap</span></span><span> </span><span class="annot"><a href="#local-6989586621679541280"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-269"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Peek</span></span><span> </span><span class="annot"><a href="#local-6989586621679541280"><span class="hs-identifier hs-type">t</span></a></span></span><span>
</span><span id="line-270"></span><span id="peekMap"><span class="annot"><span class="annottext">peekMap :: Peek t
</span><a href="Data.Store.Internal.html#peekMap"><span class="hs-identifier hs-var hs-var">peekMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(ContainerKey t, MapValue t)] -&gt; t
forall map. IsMap map =&gt; [(ContainerKey map, MapValue map)] -&gt; map
</span><span class="hs-identifier hs-var">mapFromList</span></span><span> </span><span class="annot"><span class="annottext">([(ContainerKey t, MapValue t)] -&gt; t)
-&gt; Peek [(ContainerKey t, MapValue t)] -&gt; Peek t
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Peek [(ContainerKey t, MapValue t)]
forall a. Store a =&gt; Peek a
</span><a href="Data.Store.Impl.html#peek"><span class="hs-identifier hs-var">peek</span></a></span><span>
</span><span id="line-271"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#peekMap"><span class="hs-pragma hs-type">peekMap</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-272"></span><span>
</span><span id="line-273"></span><span class="hs-comment">------------------------------------------------------------------------</span><span>
</span><span id="line-274"></span><span class="hs-comment">-- Utilities for defining 'Store' instances for ordered containers like</span><span>
</span><span id="line-275"></span><span class="hs-comment">-- 'IntMap' and 'Map'</span><span>
</span><span id="line-276"></span><span>
</span><span id="line-277"></span><span class="hs-comment">-- | Marker for maps that are encoded in ascending order instead of the</span><span>
</span><span id="line-278"></span><span class="hs-comment">-- descending order mistakenly implemented in 'peekMap' in store versions</span><span>
</span><span id="line-279"></span><span class="hs-comment">-- &lt; 0.4.</span><span>
</span><span id="line-280"></span><span class="hs-comment">--</span><span>
</span><span id="line-281"></span><span class="hs-comment">-- See https://github.com/fpco/store/issues/97.</span><span>
</span><span id="line-282"></span><span class="annot"><a href="Data.Store.Internal.html#markMapPokedInAscendingOrder"><span class="hs-identifier hs-type">markMapPokedInAscendingOrder</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word32</span></span><span>
</span><span id="line-283"></span><span id="markMapPokedInAscendingOrder"><span class="annot"><span class="annottext">markMapPokedInAscendingOrder :: Word32
</span><a href="Data.Store.Internal.html#markMapPokedInAscendingOrder"><span class="hs-identifier hs-var hs-var">markMapPokedInAscendingOrder</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word32
</span><span class="hs-number">1217678090</span></span><span>
</span><span id="line-284"></span><span>
</span><span id="line-285"></span><span class="hs-comment">-- | Ensure the presence of a given magic value.</span><span>
</span><span id="line-286"></span><span class="hs-comment">--</span><span>
</span><span id="line-287"></span><span class="hs-comment">-- Throws a 'PeekException' if the value isn't present.</span><span>
</span><span id="line-288"></span><span id="local-6989586621679541474"><span class="annot"><a href="Data.Store.Internal.html#peekMagic"><span class="hs-identifier hs-type">peekMagic</span></a></span><span>
</span><span id="line-289"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621679541474"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679541474"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679541474"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-290"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679541474"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Peek</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-291"></span><span id="peekMagic"><span class="annot"><span class="annottext">peekMagic :: String -&gt; a -&gt; Peek ()
</span><a href="Data.Store.Internal.html#peekMagic"><span class="hs-identifier hs-var hs-var">peekMagic</span></a></span></span><span> </span><span id="local-6989586621679540811"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679540811"><span class="hs-identifier hs-var">markedThing</span></a></span></span><span> </span><span id="local-6989586621679540810"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679540810"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-292"></span><span>    </span><span id="local-6989586621679540809"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679540809"><span class="hs-identifier hs-var">x'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Peek a
forall a. Store a =&gt; Peek a
</span><a href="Data.Store.Impl.html#peek"><span class="hs-identifier hs-var">peek</span></a></span><span>
</span><span id="line-293"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; Peek () -&gt; Peek ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679540809"><span class="hs-identifier hs-var">x'</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679540810"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Peek () -&gt; Peek ()) -&gt; Peek () -&gt; Peek ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-294"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; Peek ()
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><span class="hs-identifier hs-var">fail</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Expected marker for &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679540811"><span class="hs-identifier hs-var">markedThing</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679540810"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; but got: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679540809"><span class="hs-identifier hs-var">x'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-295"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#peekMagic"><span class="hs-pragma hs-type">peekMagic</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-296"></span><span>
</span><span id="line-297"></span><span class="hs-comment">-- | Like 'sizeMap' but should only be used for ordered containers where</span><span>
</span><span id="line-298"></span><span class="hs-comment">-- 'Data.Containers.mapToList' returns an ascending list.</span><span>
</span><span id="line-299"></span><span class="annot"><a href="Data.Store.Internal.html#sizeOrdMap"><span class="hs-identifier hs-type">sizeOrdMap</span></a></span><span>
</span><span id="line-300"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679540806"><span class="annot"><a href="#local-6989586621679540806"><span class="hs-identifier hs-type">t</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-301"></span><span>       </span><span class="hs-special">(</span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ContainerKey</span></span><span> </span><span class="annot"><a href="#local-6989586621679540806"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MapValue</span></span><span> </span><span class="annot"><a href="#local-6989586621679540806"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IsMap</span></span><span> </span><span class="annot"><a href="#local-6989586621679540806"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-302"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Size"><span class="hs-identifier hs-type">Size</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540806"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-303"></span><span id="sizeOrdMap"><span class="annot"><span class="annottext">sizeOrdMap :: Size t
</span><a href="Data.Store.Internal.html#sizeOrdMap"><span class="hs-identifier hs-var hs-var">sizeOrdMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-304"></span><span>    </span><span class="annot"><span class="annottext">(t -&gt; Word32) -&gt; (t -&gt; t) -&gt; Size Word32 -&gt; Size t -&gt; Size t
forall a b c. (c -&gt; a) -&gt; (c -&gt; b) -&gt; Size a -&gt; Size b -&gt; Size c
</span><a href="Data.Store.Impl.html#combineSizeWith"><span class="hs-identifier hs-var">combineSizeWith</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word32 -&gt; t -&gt; Word32
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">Word32
</span><a href="Data.Store.Internal.html#markMapPokedInAscendingOrder"><span class="hs-identifier hs-var">markMapPokedInAscendingOrder</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">t -&gt; t
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span> </span><span class="annot"><span class="annottext">Size Word32
forall a. Store a =&gt; Size a
</span><a href="Data.Store.Impl.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Size t
forall t.
(Store (ContainerKey t), Store (MapValue t), IsMap t) =&gt;
Size t
</span><a href="Data.Store.Internal.html#sizeMap"><span class="hs-identifier hs-var">sizeMap</span></a></span><span>
</span><span id="line-305"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#sizeOrdMap"><span class="hs-pragma hs-type">sizeOrdMap</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-306"></span><span>
</span><span id="line-307"></span><span class="hs-comment">-- | Like 'pokeMap' but should only be used for ordered containers where</span><span>
</span><span id="line-308"></span><span class="hs-comment">-- 'Data.Containers.mapToList' returns an ascending list.</span><span>
</span><span id="line-309"></span><span id="local-6989586621679540803"><span class="annot"><a href="Data.Store.Internal.html#pokeOrdMap"><span class="hs-identifier hs-type">pokeOrdMap</span></a></span><span>
</span><span id="line-310"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ContainerKey</span></span><span> </span><span class="annot"><a href="#local-6989586621679540803"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MapValue</span></span><span> </span><span class="annot"><a href="#local-6989586621679540803"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IsMap</span></span><span> </span><span class="annot"><a href="#local-6989586621679540803"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-311"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679540803"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Poke</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-312"></span><span id="pokeOrdMap"><span class="annot"><span class="annottext">pokeOrdMap :: t -&gt; Poke ()
</span><a href="Data.Store.Internal.html#pokeOrdMap"><span class="hs-identifier hs-var hs-var">pokeOrdMap</span></a></span></span><span> </span><span id="local-6989586621679540802"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679540802"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word32 -&gt; Poke ()
forall a. Store a =&gt; a -&gt; Poke ()
</span><a href="Data.Store.Impl.html#poke"><span class="hs-identifier hs-var">poke</span></a></span><span> </span><span class="annot"><span class="annottext">Word32
</span><a href="Data.Store.Internal.html#markMapPokedInAscendingOrder"><span class="hs-identifier hs-var">markMapPokedInAscendingOrder</span></a></span><span> </span><span class="annot"><span class="annottext">Poke () -&gt; Poke () -&gt; Poke ()
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">t -&gt; Poke ()
forall t.
(Store (ContainerKey t), Store (MapValue t), IsMap t) =&gt;
t -&gt; Poke ()
</span><a href="Data.Store.Internal.html#pokeMap"><span class="hs-identifier hs-var">pokeMap</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679540802"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-313"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#pokeOrdMap"><span class="hs-pragma hs-type">pokeOrdMap</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-314"></span><span>
</span><span id="line-315"></span><span class="hs-comment">-- | Decode the results of 'pokeOrdMap' using a given function to construct</span><span>
</span><span id="line-316"></span><span class="hs-comment">-- the map.</span><span>
</span><span id="line-317"></span><span id="local-6989586621679541296"><span class="annot"><a href="Data.Store.Internal.html#peekOrdMapWith"><span class="hs-identifier hs-type">peekOrdMapWith</span></a></span><span>
</span><span id="line-318"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ContainerKey</span></span><span> </span><span class="annot"><a href="#local-6989586621679541296"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MapValue</span></span><span> </span><span class="annot"><a href="#local-6989586621679541296"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-319"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ContainerKey</span></span><span> </span><span class="annot"><a href="#local-6989586621679541296"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MapValue</span></span><span> </span><span class="annot"><a href="#local-6989586621679541296"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679541296"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-320"></span><span>       </span><span class="hs-comment">-- ^ A function to construct the map from an ascending list such as</span><span>
</span><span id="line-321"></span><span>       </span><span class="hs-comment">-- 'Map.fromDistinctAscList'.</span><span>
</span><span id="line-322"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Peek</span></span><span> </span><span class="annot"><a href="#local-6989586621679541296"><span class="hs-identifier hs-type">t</span></a></span></span><span>
</span><span id="line-323"></span><span id="peekOrdMapWith"><span class="annot"><span class="annottext">peekOrdMapWith :: ([(ContainerKey t, MapValue t)] -&gt; t) -&gt; Peek t
</span><a href="Data.Store.Internal.html#peekOrdMapWith"><span class="hs-identifier hs-var hs-var">peekOrdMapWith</span></a></span></span><span> </span><span id="local-6989586621679540801"><span class="annot"><span class="annottext">[(ContainerKey t, MapValue t)] -&gt; t
</span><a href="#local-6989586621679540801"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-324"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; Word32 -&gt; Peek ()
forall a. (Eq a, Show a, Store a) =&gt; String -&gt; a -&gt; Peek ()
</span><a href="Data.Store.Internal.html#peekMagic"><span class="hs-identifier hs-var">peekMagic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ascending Map / IntMap&quot;</span></span><span> </span><span class="annot"><span class="annottext">Word32
</span><a href="Data.Store.Internal.html#markMapPokedInAscendingOrder"><span class="hs-identifier hs-var">markMapPokedInAscendingOrder</span></a></span><span>
</span><span id="line-325"></span><span>    </span><span class="annot"><span class="annottext">[(ContainerKey t, MapValue t)] -&gt; t
</span><a href="#local-6989586621679540801"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">([(ContainerKey t, MapValue t)] -&gt; t)
-&gt; Peek [(ContainerKey t, MapValue t)] -&gt; Peek t
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Peek [(ContainerKey t, MapValue t)]
forall a. Store a =&gt; Peek a
</span><a href="Data.Store.Impl.html#peek"><span class="hs-identifier hs-var">peek</span></a></span><span>
</span><span id="line-326"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#peekOrdMapWith"><span class="hs-pragma hs-type">peekOrdMapWith</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-327"></span><span>
</span><span id="line-328"></span><span class="hs-comment">------------------------------------------------------------------------</span><span>
</span><span id="line-329"></span><span class="hs-comment">-- Utilities for implementing 'Store' instances for list-like mutable things</span><span>
</span><span id="line-330"></span><span>
</span><span id="line-331"></span><span class="hs-comment">-- | Implementation of peek for mutable sequences. The user provides a</span><span>
</span><span id="line-332"></span><span class="hs-comment">-- function for initializing the sequence and a function for mutating an</span><span>
</span><span id="line-333"></span><span class="hs-comment">-- element at a particular index.</span><span>
</span><span id="line-334"></span><span id="local-6989586621679541433"><span id="local-6989586621679541434"><span class="annot"><a href="Data.Store.Internal.html#peekMutableSequence"><span class="hs-identifier hs-type">peekMutableSequence</span></a></span><span>
</span><span id="line-335"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679541434"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-336"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679541433"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-337"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679541433"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679541434"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-338"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Peek</span></span><span> </span><span class="annot"><a href="#local-6989586621679541433"><span class="hs-identifier hs-type">r</span></a></span></span></span><span>
</span><span id="line-339"></span><span id="peekMutableSequence"><span class="annot"><span class="annottext">peekMutableSequence :: (Int -&gt; IO r) -&gt; (r -&gt; Int -&gt; a -&gt; IO ()) -&gt; Peek r
</span><a href="Data.Store.Internal.html#peekMutableSequence"><span class="hs-identifier hs-var hs-var">peekMutableSequence</span></a></span></span><span> </span><span id="local-6989586621679540799"><span class="annot"><span class="annottext">Int -&gt; IO r
</span><a href="#local-6989586621679540799"><span class="hs-identifier hs-var">new</span></a></span></span><span> </span><span id="local-6989586621679540798"><span class="annot"><span class="annottext">r -&gt; Int -&gt; a -&gt; IO ()
</span><a href="#local-6989586621679540798"><span class="hs-identifier hs-var">write</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-340"></span><span>    </span><span id="local-6989586621679540797"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540797"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Peek Int
forall a. Store a =&gt; Peek a
</span><a href="Data.Store.Impl.html#peek"><span class="hs-identifier hs-var">peek</span></a></span><span>
</span><span id="line-341"></span><span>    </span><span id="local-6989586621679540796"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679540796"><span class="hs-identifier hs-var">mut</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO r -&gt; Peek r
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; IO r
</span><a href="#local-6989586621679540799"><span class="hs-identifier hs-var">new</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540797"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-342"></span><span>    </span><span class="annot"><span class="annottext">[Int] -&gt; (Int -&gt; Peek ()) -&gt; Peek ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m ()
</span><span class="hs-identifier hs-var">forM_</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-glyph">..</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540797"><span class="hs-identifier hs-var">n</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">((Int -&gt; Peek ()) -&gt; Peek ()) -&gt; (Int -&gt; Peek ()) -&gt; Peek ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679540795"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540795"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Peek a
forall a. Store a =&gt; Peek a
</span><a href="Data.Store.Impl.html#peek"><span class="hs-identifier hs-var">peek</span></a></span><span> </span><span class="annot"><span class="annottext">Peek a -&gt; (a -&gt; Peek ()) -&gt; Peek ()
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">IO () -&gt; Peek ()
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; Peek ()) -&gt; (a -&gt; IO ()) -&gt; a -&gt; Peek ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; Int -&gt; a -&gt; IO ()
</span><a href="#local-6989586621679540798"><span class="hs-identifier hs-var">write</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679540796"><span class="hs-identifier hs-var">mut</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540795"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-343"></span><span>    </span><span class="annot"><span class="annottext">r -&gt; Peek r
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679540796"><span class="hs-identifier hs-var">mut</span></a></span><span>
</span><span id="line-344"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#peekMutableSequence"><span class="hs-pragma hs-type">peekMutableSequence</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-345"></span><span>
</span><span id="line-346"></span><span class="hs-comment">------------------------------------------------------------------------</span><span>
</span><span id="line-347"></span><span class="hs-comment">-- Useful combinators</span><span>
</span><span id="line-348"></span><span>
</span><span id="line-349"></span><span class="hs-comment">-- | Skip n bytes forward.</span><span>
</span><span id="line-350"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#skip"><span class="hs-pragma hs-type">skip</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-351"></span><span class="annot"><a href="Data.Store.Internal.html#skip"><span class="hs-identifier hs-type">skip</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Peek</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-352"></span><span id="skip"><span class="annot"><span class="annottext">skip :: Int -&gt; Peek ()
</span><a href="Data.Store.Internal.html#skip"><span class="hs-identifier hs-var hs-var">skip</span></a></span></span><span> </span><span id="local-6989586621679540794"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540794"><span class="hs-identifier hs-var">len</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(PeekState -&gt; Ptr Word8 -&gt; IO (PeekResult ())) -&gt; Peek ()
forall a. (PeekState -&gt; Ptr Word8 -&gt; IO (PeekResult a)) -&gt; Peek a
</span><span class="hs-identifier hs-var">Peek</span></span><span> </span><span class="annot"><span class="annottext">((PeekState -&gt; Ptr Word8 -&gt; IO (PeekResult ())) -&gt; Peek ())
-&gt; (PeekState -&gt; Ptr Word8 -&gt; IO (PeekResult ())) -&gt; Peek ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679540792"><span class="annot"><span class="annottext">PeekState
</span><a href="#local-6989586621679540792"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span id="local-6989586621679540791"><span class="annot"><span class="annottext">Ptr Word8
</span><a href="#local-6989586621679540791"><span class="hs-identifier hs-var">ptr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-353"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679540790"><span class="annot"><span class="annottext">ptr2 :: Ptr Word8
</span><a href="#local-6989586621679540790"><span class="hs-identifier hs-var hs-var">ptr2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ptr Word8
</span><a href="#local-6989586621679540791"><span class="hs-identifier hs-var">ptr</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr Word8 -&gt; Int -&gt; Ptr Word8
forall a b. Ptr a -&gt; Int -&gt; Ptr b
</span><span class="hs-operator hs-var">`plusPtr`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540794"><span class="hs-identifier hs-var">len</span></a></span><span>
</span><span id="line-354"></span><span>        </span><span id="local-6989586621679540789"><span class="annot"><span class="annottext">remaining :: Int
</span><a href="#local-6989586621679540789"><span class="hs-identifier hs-var hs-var">remaining</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PeekState -&gt; Ptr Word8
</span><span class="hs-identifier hs-var hs-var">peekStateEndPtr</span></span><span> </span><span class="annot"><span class="annottext">PeekState
</span><a href="#local-6989586621679540792"><span class="hs-identifier hs-var">ps</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr Word8 -&gt; Ptr Word8 -&gt; Int
forall a b. Ptr a -&gt; Ptr b -&gt; Int
</span><span class="hs-operator hs-var">`minusPtr`</span></span><span> </span><span class="annot"><span class="annottext">Ptr Word8
</span><a href="#local-6989586621679540791"><span class="hs-identifier hs-var">ptr</span></a></span><span>
</span><span id="line-355"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; IO () -&gt; IO ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540794"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540789"><span class="hs-identifier hs-var">remaining</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ()) -&gt; IO () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-comment">-- Do not perform the check on the new pointer, since it could have overflowed</span><span>
</span><span id="line-356"></span><span>        </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; String -&gt; IO ()
forall void. Int -&gt; Int -&gt; String -&gt; IO void
</span><span class="hs-identifier hs-var">tooManyBytes</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540794"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540789"><span class="hs-identifier hs-var">remaining</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;skip&quot;</span></span><span>
</span><span id="line-357"></span><span>    </span><span class="annot"><span class="annottext">PeekResult () -&gt; IO (PeekResult ())
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(PeekResult () -&gt; IO (PeekResult ()))
-&gt; PeekResult () -&gt; IO (PeekResult ())
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Ptr Word8 -&gt; () -&gt; PeekResult ()
forall a. Ptr Word8 -&gt; a -&gt; PeekResult a
</span><span class="hs-identifier hs-var">PeekResult</span></span><span> </span><span class="annot"><span class="annottext">Ptr Word8
</span><a href="#local-6989586621679540790"><span class="hs-identifier hs-var">ptr2</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-358"></span><span>
</span><span id="line-359"></span><span class="hs-comment">-- | Isolate the input to n bytes, skipping n bytes forward. Fails if @m@</span><span>
</span><span id="line-360"></span><span class="hs-comment">-- advances the offset beyond the isolated region.</span><span>
</span><span id="line-361"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#isolate"><span class="hs-pragma hs-type">isolate</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-362"></span><span id="local-6989586621679540785"><span class="annot"><a href="Data.Store.Internal.html#isolate"><span class="hs-identifier hs-type">isolate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Peek</span></span><span> </span><span class="annot"><a href="#local-6989586621679540785"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Peek</span></span><span> </span><span class="annot"><a href="#local-6989586621679540785"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-363"></span><span id="isolate"><span class="annot"><span class="annottext">isolate :: Int -&gt; Peek a -&gt; Peek a
</span><a href="Data.Store.Internal.html#isolate"><span class="hs-identifier hs-var hs-var">isolate</span></a></span></span><span> </span><span id="local-6989586621679540784"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540784"><span class="hs-identifier hs-var">len</span></a></span></span><span> </span><span id="local-6989586621679540783"><span class="annot"><span class="annottext">Peek a
</span><a href="#local-6989586621679540783"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(PeekState -&gt; Ptr Word8 -&gt; IO (PeekResult a)) -&gt; Peek a
forall a. (PeekState -&gt; Ptr Word8 -&gt; IO (PeekResult a)) -&gt; Peek a
</span><span class="hs-identifier hs-var">Peek</span></span><span> </span><span class="annot"><span class="annottext">((PeekState -&gt; Ptr Word8 -&gt; IO (PeekResult a)) -&gt; Peek a)
-&gt; (PeekState -&gt; Ptr Word8 -&gt; IO (PeekResult a)) -&gt; Peek a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679540782"><span class="annot"><span class="annottext">PeekState
</span><a href="#local-6989586621679540782"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span id="local-6989586621679540781"><span class="annot"><span class="annottext">Ptr Word8
</span><a href="#local-6989586621679540781"><span class="hs-identifier hs-var">ptr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-364"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679540780"><span class="annot"><span class="annottext">end :: Ptr Word8
</span><a href="#local-6989586621679540780"><span class="hs-identifier hs-var hs-var">end</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PeekState -&gt; Ptr Word8
</span><span class="hs-identifier hs-var hs-var">peekStateEndPtr</span></span><span> </span><span class="annot"><span class="annottext">PeekState
</span><a href="#local-6989586621679540782"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-365"></span><span>        </span><span id="local-6989586621679540779"><span class="annot"><span class="annottext">ptr2 :: Ptr Word8
</span><a href="#local-6989586621679540779"><span class="hs-identifier hs-var hs-var">ptr2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ptr Word8
</span><a href="#local-6989586621679540781"><span class="hs-identifier hs-var">ptr</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr Word8 -&gt; Int -&gt; Ptr Word8
forall a b. Ptr a -&gt; Int -&gt; Ptr b
</span><span class="hs-operator hs-var">`plusPtr`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540784"><span class="hs-identifier hs-var">len</span></a></span><span>
</span><span id="line-366"></span><span>        </span><span id="local-6989586621679540778"><span class="annot"><span class="annottext">remaining :: Int
</span><a href="#local-6989586621679540778"><span class="hs-identifier hs-var hs-var">remaining</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ptr Word8
</span><a href="#local-6989586621679540780"><span class="hs-identifier hs-var">end</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr Word8 -&gt; Ptr Word8 -&gt; Int
forall a b. Ptr a -&gt; Ptr b -&gt; Int
</span><span class="hs-operator hs-var">`minusPtr`</span></span><span> </span><span class="annot"><span class="annottext">Ptr Word8
</span><a href="#local-6989586621679540781"><span class="hs-identifier hs-var">ptr</span></a></span><span>
</span><span id="line-367"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; IO () -&gt; IO ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540784"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540778"><span class="hs-identifier hs-var">remaining</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ()) -&gt; IO () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-comment">-- Do not perform the check on the new pointer, since it could have overflowed</span><span>
</span><span id="line-368"></span><span>        </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; String -&gt; IO ()
forall void. Int -&gt; Int -&gt; String -&gt; IO void
</span><span class="hs-identifier hs-var">tooManyBytes</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540784"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540778"><span class="hs-identifier hs-var">remaining</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;isolate&quot;</span></span><span>
</span><span id="line-369"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">PeekResult</span></span><span> </span><span id="local-6989586621679540777"><span class="annot"><span class="annottext">Ptr Word8
</span><a href="#local-6989586621679540777"><span class="hs-identifier hs-var">ptr'</span></a></span></span><span> </span><span id="local-6989586621679540776"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679540776"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Peek a -&gt; PeekState -&gt; Ptr Word8 -&gt; IO (PeekResult a)
forall a. Peek a -&gt; PeekState -&gt; Ptr Word8 -&gt; IO (PeekResult a)
</span><span class="hs-identifier hs-var hs-var">runPeek</span></span><span> </span><span class="annot"><span class="annottext">Peek a
</span><a href="#local-6989586621679540783"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">PeekState
</span><a href="#local-6989586621679540782"><span class="hs-identifier hs-var">ps</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr Word8
</span><a href="#local-6989586621679540781"><span class="hs-identifier hs-var">ptr</span></a></span><span>
</span><span id="line-370"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; IO () -&gt; IO ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ptr Word8
</span><a href="#local-6989586621679540777"><span class="hs-identifier hs-var">ptr'</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr Word8 -&gt; Ptr Word8 -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Ptr Word8
</span><a href="#local-6989586621679540780"><span class="hs-identifier hs-var">end</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ()) -&gt; IO () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-371"></span><span>        </span><span class="annot"><span class="annottext">PeekException -&gt; IO ()
forall e a. Exception e =&gt; e -&gt; IO a
</span><span class="hs-identifier hs-var">throwIO</span></span><span> </span><span class="annot"><span class="annottext">(PeekException -&gt; IO ()) -&gt; PeekException -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Text -&gt; PeekException
</span><span class="hs-identifier hs-var">PeekException</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ptr Word8
</span><a href="#local-6989586621679540777"><span class="hs-identifier hs-var">ptr'</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr Word8 -&gt; Ptr Word8 -&gt; Int
forall a b. Ptr a -&gt; Ptr b -&gt; Int
</span><span class="hs-operator hs-var">`minusPtr`</span></span><span> </span><span class="annot"><span class="annottext">Ptr Word8
</span><a href="#local-6989586621679540780"><span class="hs-identifier hs-var">end</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Overshot end of isolated bytes&quot;</span></span><span>
</span><span id="line-372"></span><span>    </span><span class="annot"><span class="annottext">PeekResult a -&gt; IO (PeekResult a)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(PeekResult a -&gt; IO (PeekResult a))
-&gt; PeekResult a -&gt; IO (PeekResult a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Ptr Word8 -&gt; a -&gt; PeekResult a
forall a. Ptr Word8 -&gt; a -&gt; PeekResult a
</span><span class="hs-identifier hs-var">PeekResult</span></span><span> </span><span class="annot"><span class="annottext">Ptr Word8
</span><a href="#local-6989586621679540779"><span class="hs-identifier hs-var">ptr2</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679540776"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-373"></span><span>
</span><span id="line-374"></span><span class="hs-comment">------------------------------------------------------------------------</span><span>
</span><span id="line-375"></span><span class="hs-comment">-- Instances for types based on flat representations</span><span>
</span><span id="line-376"></span><span>
</span><span id="line-377"></span><span id="local-6989586621679540774"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540774"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">V.Vector</span></span><span> </span><span class="annot"><a href="#local-6989586621679540774"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-378"></span><span>    </span><span id="local-6989586621679540770"><span class="annot"><span class="annottext">size :: Size (Vector a)
</span><a href="#local-6989586621679540770"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Size (Vector a)
forall t. (IsSequence t, Store (Element t)) =&gt; Size t
</span><a href="Data.Store.Internal.html#sizeSequence"><span class="hs-identifier hs-var">sizeSequence</span></a></span><span>
</span><span id="line-379"></span><span>    </span><span id="local-6989586621679540769"><span class="annot"><span class="annottext">poke :: Vector a -&gt; Poke ()
</span><a href="#local-6989586621679540769"><span class="hs-identifier hs-var hs-var hs-var hs-var">poke</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Vector a -&gt; Poke ()
forall t. (IsSequence t, Store (Element t)) =&gt; t -&gt; Poke ()
</span><a href="Data.Store.Internal.html#pokeSequence"><span class="hs-identifier hs-var">pokeSequence</span></a></span><span>
</span><span id="line-380"></span><span>    </span><span id="local-6989586621679540768"><span class="annot"><span class="annottext">peek :: Peek (Vector a)
</span><a href="#local-6989586621679540768"><span class="hs-identifier hs-var hs-var hs-var hs-var">peek</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MVector RealWorld a -&gt; Peek (Vector a)
forall (m :: * -&gt; *) a.
PrimMonad m =&gt;
MVector (PrimState m) a -&gt; m (Vector a)
</span><span class="hs-identifier hs-var">V.unsafeFreeze</span></span><span> </span><span class="annot"><span class="annottext">(MVector RealWorld a -&gt; Peek (Vector a))
-&gt; Peek (MVector RealWorld a) -&gt; Peek (Vector a)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; IO (MVector RealWorld a))
-&gt; (MVector RealWorld a -&gt; Int -&gt; a -&gt; IO ())
-&gt; Peek (MVector RealWorld a)
forall a r.
Store a =&gt;
(Int -&gt; IO r) -&gt; (r -&gt; Int -&gt; a -&gt; IO ()) -&gt; Peek r
</span><a href="Data.Store.Internal.html#peekMutableSequence"><span class="hs-identifier hs-var">peekMutableSequence</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; IO (MVector RealWorld a)
forall (m :: * -&gt; *) a.
PrimMonad m =&gt;
Int -&gt; m (MVector (PrimState m) a)
</span><span class="hs-identifier hs-var">MV.new</span></span><span> </span><span class="annot"><span class="annottext">MVector RealWorld a -&gt; Int -&gt; a -&gt; IO ()
forall (m :: * -&gt; *) a.
PrimMonad m =&gt;
MVector (PrimState m) a -&gt; Int -&gt; a -&gt; m ()
</span><span class="hs-identifier hs-var">MV.write</span></span></span><span>
</span><span id="line-381"></span><span>
</span><span id="line-382"></span><span id="local-6989586621679540763"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Storable</span></span><span> </span><span class="annot"><a href="#local-6989586621679540763"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SV.Vector</span></span><span> </span><span class="annot"><a href="#local-6989586621679540763"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-383"></span><span>    </span><span id="local-6989586621679540759"><span class="annot"><span class="annottext">size :: Size (Vector a)
</span><a href="#local-6989586621679540759"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Vector a -&gt; Int) -&gt; Size (Vector a)
forall a. (a -&gt; Int) -&gt; Size a
</span><a href="Data.Store.Impl.html#VarSize"><span class="hs-identifier hs-var">VarSize</span></a></span><span> </span><span class="annot"><span class="annottext">((Vector a -&gt; Int) -&gt; Size (Vector a))
-&gt; (Vector a -&gt; Int) -&gt; Size (Vector a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679540758"><span class="annot"><span class="annottext">Vector a
</span><a href="#local-6989586621679540758"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-384"></span><span>        </span><span class="annot"><span class="annottext">Int -&gt; Int
forall a. Storable a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">sizeOf</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span>
</span><span id="line-385"></span><span>        </span><span class="annot"><span class="annottext">a -&gt; Int
forall a. Storable a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">sizeOf</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679540763"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">Vector a -&gt; Int
forall a. Storable a =&gt; Vector a -&gt; Int
</span><span class="hs-identifier hs-var">SV.length</span></span><span> </span><span class="annot"><span class="annottext">Vector a
</span><a href="#local-6989586621679540758"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-386"></span><span>    </span><span id="local-6989586621679540756"><span class="annot"><span class="annottext">poke :: Vector a -&gt; Poke ()
</span><a href="#local-6989586621679540756"><span class="hs-identifier hs-var hs-var hs-var hs-var">poke</span></a></span></span><span> </span><span id="local-6989586621679540755"><span class="annot"><span class="annottext">Vector a
</span><a href="#local-6989586621679540755"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-387"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679540754"><span class="annot"><span class="annottext">ForeignPtr a
</span><a href="#local-6989586621679540754"><span class="hs-identifier hs-var">fptr</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679540753"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540753"><span class="hs-identifier hs-var">len</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Vector a -&gt; (ForeignPtr a, Int)
forall a. Storable a =&gt; Vector a -&gt; (ForeignPtr a, Int)
</span><span class="hs-identifier hs-var">SV.unsafeToForeignPtr0</span></span><span> </span><span class="annot"><span class="annottext">Vector a
</span><a href="#local-6989586621679540755"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-388"></span><span>        </span><span class="annot"><span class="annottext">Int -&gt; Poke ()
forall a. Store a =&gt; a -&gt; Poke ()
</span><a href="Data.Store.Impl.html#poke"><span class="hs-identifier hs-var">poke</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540753"><span class="hs-identifier hs-var">len</span></a></span><span>
</span><span id="line-389"></span><span>        </span><span class="annot"><span class="annottext">ForeignPtr a -&gt; Int -&gt; Int -&gt; Poke ()
forall a. ForeignPtr a -&gt; Int -&gt; Int -&gt; Poke ()
</span><span class="hs-identifier hs-var">pokeFromForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr a
</span><a href="#local-6989586621679540754"><span class="hs-identifier hs-var">fptr</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Int
forall a. Storable a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">sizeOf</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679540763"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540753"><span class="hs-identifier hs-var">len</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-390"></span><span>    </span><span id="local-6989586621679540750"><span class="annot"><span class="annottext">peek :: Peek (Vector a)
</span><a href="#local-6989586621679540750"><span class="hs-identifier hs-var hs-var hs-var hs-var">peek</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-391"></span><span>        </span><span id="local-6989586621679540749"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540749"><span class="hs-identifier hs-var">len</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Peek Int
forall a. Store a =&gt; Peek a
</span><a href="Data.Store.Impl.html#peek"><span class="hs-identifier hs-var">peek</span></a></span><span>
</span><span id="line-392"></span><span>        </span><span id="local-6989586621679540748"><span class="annot"><span class="annottext">ForeignPtr a
</span><a href="#local-6989586621679540748"><span class="hs-identifier hs-var">fp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; Int -&gt; Peek (ForeignPtr a)
forall a. String -&gt; Int -&gt; Peek (ForeignPtr a)
</span><span class="hs-identifier hs-var">peekToPlainForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Data.Storable.Vector.Vector&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Int
forall a. Storable a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">sizeOf</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679540763"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540749"><span class="hs-identifier hs-var">len</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-393"></span><span>        </span><span class="annot"><span class="annottext">IO (Vector a) -&gt; Peek (Vector a)
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO (Vector a) -&gt; Peek (Vector a))
-&gt; IO (Vector a) -&gt; Peek (Vector a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">MVector (PrimState IO) a -&gt; IO (Vector a)
forall a (m :: * -&gt; *).
(Storable a, PrimMonad m) =&gt;
MVector (PrimState m) a -&gt; m (Vector a)
</span><span class="hs-identifier hs-var">SV.unsafeFreeze</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; ForeignPtr a -&gt; MVector RealWorld a
forall s a. Int -&gt; ForeignPtr a -&gt; MVector s a
</span><span class="hs-identifier hs-var">MSV.MVector</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540749"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="annot"><span class="annottext">ForeignPtr a
</span><a href="#local-6989586621679540748"><span class="hs-identifier hs-var">fp</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-394"></span><span>
</span><span id="line-395"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">BS.ByteString</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-396"></span><span>    </span><span id="local-6989586621679540741"><span class="annot"><span class="annottext">size :: Size ByteString
</span><a href="#local-6989586621679540741"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Int) -&gt; Size ByteString
forall a. (a -&gt; Int) -&gt; Size a
</span><a href="Data.Store.Impl.html#VarSize"><span class="hs-identifier hs-var">VarSize</span></a></span><span> </span><span class="annot"><span class="annottext">((ByteString -&gt; Int) -&gt; Size ByteString)
-&gt; (ByteString -&gt; Int) -&gt; Size ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679540740"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679540740"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-397"></span><span>        </span><span class="annot"><span class="annottext">Int -&gt; Int
forall a. Storable a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">sizeOf</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span>
</span><span id="line-398"></span><span>        </span><span class="annot"><span class="annottext">ByteString -&gt; Int
</span><span class="hs-identifier hs-var">BS.length</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679540740"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-399"></span><span>    </span><span id="local-6989586621679540738"><span class="annot"><span class="annottext">poke :: ByteString -&gt; Poke ()
</span><a href="#local-6989586621679540738"><span class="hs-identifier hs-var hs-var hs-var hs-var">poke</span></a></span></span><span> </span><span id="local-6989586621679540737"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679540737"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-400"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679540736"><span class="annot"><span class="annottext">ForeignPtr Word8
</span><a href="#local-6989586621679540736"><span class="hs-identifier hs-var">sourceFp</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679540735"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540735"><span class="hs-identifier hs-var">sourceOffset</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679540734"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540734"><span class="hs-identifier hs-var">sourceLength</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; (ForeignPtr Word8, Int, Int)
</span><span class="hs-identifier hs-var">BS.toForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679540737"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-401"></span><span>        </span><span class="annot"><span class="annottext">Int -&gt; Poke ()
forall a. Store a =&gt; a -&gt; Poke ()
</span><a href="Data.Store.Impl.html#poke"><span class="hs-identifier hs-var">poke</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540734"><span class="hs-identifier hs-var">sourceLength</span></a></span><span>
</span><span id="line-402"></span><span>        </span><span class="annot"><span class="annottext">ForeignPtr Word8 -&gt; Int -&gt; Int -&gt; Poke ()
forall a. ForeignPtr a -&gt; Int -&gt; Int -&gt; Poke ()
</span><span class="hs-identifier hs-var">pokeFromForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr Word8
</span><a href="#local-6989586621679540736"><span class="hs-identifier hs-var">sourceFp</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540735"><span class="hs-identifier hs-var">sourceOffset</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540734"><span class="hs-identifier hs-var">sourceLength</span></a></span><span>
</span><span id="line-403"></span><span>    </span><span id="local-6989586621679540732"><span class="annot"><span class="annottext">peek :: Peek ByteString
</span><a href="#local-6989586621679540732"><span class="hs-identifier hs-var hs-var hs-var hs-var">peek</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-404"></span><span>        </span><span id="local-6989586621679540731"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540731"><span class="hs-identifier hs-var">len</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Peek Int
forall a. Store a =&gt; Peek a
</span><a href="Data.Store.Impl.html#peek"><span class="hs-identifier hs-var">peek</span></a></span><span>
</span><span id="line-405"></span><span>        </span><span id="local-6989586621679540730"><span class="annot"><span class="annottext">ForeignPtr Word8
</span><a href="#local-6989586621679540730"><span class="hs-identifier hs-var">fp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; Int -&gt; Peek (ForeignPtr Word8)
forall a. String -&gt; Int -&gt; Peek (ForeignPtr a)
</span><span class="hs-identifier hs-var">peekToPlainForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Data.ByteString.ByteString&quot;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540731"><span class="hs-identifier hs-var">len</span></a></span><span>
</span><span id="line-406"></span><span>        </span><span class="annot"><span class="annottext">ByteString -&gt; Peek ByteString
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ForeignPtr Word8 -&gt; Int -&gt; Int -&gt; ByteString
</span><span class="hs-identifier hs-var">BS.PS</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr Word8
</span><a href="#local-6989586621679540730"><span class="hs-identifier hs-var">fp</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540731"><span class="hs-identifier hs-var">len</span></a></span><span class="hs-special">)</span><span class="hs-cpp">

#if MIN_VERSION_template_haskell(2,16,0)
</span><span class="hs-comment">-- | Template Haskell Bytes are nearly identical to ByteString, but it</span><span>
</span><span id="line-410"></span><span class="hs-comment">-- can't depend on ByteString.</span><span>
</span><span id="line-411"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bytes</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-412"></span><span>    </span><span id="local-6989586621679540725"><span class="annot"><span class="annottext">size :: Size Bytes
</span><a href="#local-6989586621679540725"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Bytes -&gt; Int) -&gt; Size Bytes
forall a. (a -&gt; Int) -&gt; Size a
</span><a href="Data.Store.Impl.html#VarSize"><span class="hs-identifier hs-var">VarSize</span></a></span><span> </span><span class="annot"><span class="annottext">((Bytes -&gt; Int) -&gt; Size Bytes) -&gt; (Bytes -&gt; Int) -&gt; Size Bytes
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679540724"><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679540724"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-413"></span><span>        </span><span class="annot"><span class="annottext">Int -&gt; Int
forall a. Storable a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">sizeOf</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span>
</span><span id="line-414"></span><span>        </span><span class="annot"><span class="annottext">Word -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bytes -&gt; Word
</span><span class="hs-identifier hs-var hs-var">bytesSize</span></span><span> </span><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679540724"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-415"></span><span>    </span><span id="local-6989586621679540722"><span class="annot"><span class="annottext">poke :: Bytes -&gt; Poke ()
</span><a href="#local-6989586621679540722"><span class="hs-identifier hs-var hs-var hs-var hs-var">poke</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Bytes</span></span><span> </span><span id="local-6989586621679540720"><span class="annot"><span class="annottext">ForeignPtr Word8
</span><a href="#local-6989586621679540720"><span class="hs-identifier hs-var">sourceFp</span></a></span></span><span> </span><span id="local-6989586621679540719"><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679540719"><span class="hs-identifier hs-var">sourceOffset</span></a></span></span><span> </span><span id="local-6989586621679540718"><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679540718"><span class="hs-identifier hs-var">sourceLength</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-416"></span><span>        </span><span class="annot"><span class="annottext">Word -&gt; Poke ()
forall a. Store a =&gt; a -&gt; Poke ()
</span><a href="Data.Store.Impl.html#poke"><span class="hs-identifier hs-var">poke</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679540718"><span class="hs-identifier hs-var">sourceLength</span></a></span><span>
</span><span id="line-417"></span><span>        </span><span class="annot"><span class="annottext">ForeignPtr Word8 -&gt; Int -&gt; Int -&gt; Poke ()
forall a. ForeignPtr a -&gt; Int -&gt; Int -&gt; Poke ()
</span><span class="hs-identifier hs-var">pokeFromForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr Word8
</span><a href="#local-6989586621679540720"><span class="hs-identifier hs-var">sourceFp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679540719"><span class="hs-identifier hs-var">sourceOffset</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679540718"><span class="hs-identifier hs-var">sourceLength</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-418"></span><span>    </span><span id="local-6989586621679540717"><span class="annot"><span class="annottext">peek :: Peek Bytes
</span><a href="#local-6989586621679540717"><span class="hs-identifier hs-var hs-var hs-var hs-var">peek</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-419"></span><span>        </span><span id="local-6989586621679540716"><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679540716"><span class="hs-identifier hs-var">len</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Peek Word
forall a. Store a =&gt; Peek a
</span><a href="Data.Store.Impl.html#peek"><span class="hs-identifier hs-var">peek</span></a></span><span>
</span><span id="line-420"></span><span>        </span><span id="local-6989586621679540715"><span class="annot"><span class="annottext">ForeignPtr Word8
</span><a href="#local-6989586621679540715"><span class="hs-identifier hs-var">fp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; Int -&gt; Peek (ForeignPtr Word8)
forall a. String -&gt; Int -&gt; Peek (ForeignPtr a)
</span><span class="hs-identifier hs-var">peekToPlainForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Data.ByteString.ByteString&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679540716"><span class="hs-identifier hs-var">len</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-421"></span><span>        </span><span class="annot"><span class="annottext">Bytes -&gt; Peek Bytes
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ForeignPtr Word8 -&gt; Word -&gt; Word -&gt; Bytes
</span><span class="hs-identifier hs-var">Bytes</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr Word8
</span><a href="#local-6989586621679540715"><span class="hs-identifier hs-var">fp</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679540716"><span class="hs-identifier hs-var">len</span></a></span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-424"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">SBS.ShortByteString</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-425"></span><span>    </span><span id="local-6989586621679540711"><span class="annot"><span class="annottext">size :: Size ShortByteString
</span><a href="#local-6989586621679540711"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ShortByteString -&gt; Int) -&gt; Size ShortByteString
forall a. (a -&gt; Int) -&gt; Size a
</span><a href="Data.Store.Impl.html#VarSize"><span class="hs-identifier hs-var">VarSize</span></a></span><span> </span><span class="annot"><span class="annottext">((ShortByteString -&gt; Int) -&gt; Size ShortByteString)
-&gt; (ShortByteString -&gt; Int) -&gt; Size ShortByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679540710"><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679540710"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-426"></span><span>         </span><span class="annot"><span class="annottext">Int -&gt; Int
forall a. Storable a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">sizeOf</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span>
</span><span id="line-427"></span><span>         </span><span class="annot"><span class="annottext">ShortByteString -&gt; Int
</span><span class="hs-identifier hs-var">SBS.length</span></span><span> </span><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679540710"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-428"></span><span>    </span><span id="local-6989586621679540708"><span class="annot"><span class="annottext">poke :: ShortByteString -&gt; Poke ()
</span><a href="#local-6989586621679540708"><span class="hs-identifier hs-var hs-var hs-var hs-var">poke</span></a></span></span><span> </span><span id="local-6989586621679540707"><span class="annot"><span class="annottext">x :: ShortByteString
</span><a href="#local-6989586621679540707"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SBS.SBS</span></span><span> </span><span id="local-6989586621679540705"><span class="annot"><span class="annottext">ByteArray#
</span><a href="#local-6989586621679540705"><span class="hs-identifier hs-var">arr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-429"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679540704"><span class="annot"><span class="annottext">len :: Int
</span><a href="#local-6989586621679540704"><span class="hs-identifier hs-var hs-var">len</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShortByteString -&gt; Int
</span><span class="hs-identifier hs-var">SBS.length</span></span><span> </span><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679540707"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-430"></span><span>        </span><span class="annot"><span class="annottext">Int -&gt; Poke ()
forall a. Store a =&gt; a -&gt; Poke ()
</span><a href="Data.Store.Impl.html#poke"><span class="hs-identifier hs-var">poke</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540704"><span class="hs-identifier hs-var">len</span></a></span><span>
</span><span id="line-431"></span><span>        </span><span class="annot"><span class="annottext">ByteArray# -&gt; Int -&gt; Int -&gt; Poke ()
</span><span class="hs-identifier hs-var">pokeFromByteArray</span></span><span> </span><span class="annot"><span class="annottext">ByteArray#
</span><a href="#local-6989586621679540705"><span class="hs-identifier hs-var">arr</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540704"><span class="hs-identifier hs-var">len</span></a></span><span>
</span><span id="line-432"></span><span>    </span><span id="local-6989586621679540702"><span class="annot"><span class="annottext">peek :: Peek ShortByteString
</span><a href="#local-6989586621679540702"><span class="hs-identifier hs-var hs-var hs-var hs-var">peek</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-433"></span><span>        </span><span id="local-6989586621679540701"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540701"><span class="hs-identifier hs-var">len</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Peek Int
forall a. Store a =&gt; Peek a
</span><a href="Data.Store.Impl.html#peek"><span class="hs-identifier hs-var">peek</span></a></span><span>
</span><span id="line-434"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">ByteArray</span></span><span> </span><span id="local-6989586621679540699"><span class="annot"><span class="annottext">ByteArray#
</span><a href="#local-6989586621679540699"><span class="hs-identifier hs-var">array</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; Int -&gt; Peek ByteArray
</span><span class="hs-identifier hs-var">peekToByteArray</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Data.ByteString.Short.ShortByteString&quot;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540701"><span class="hs-identifier hs-var">len</span></a></span><span>
</span><span id="line-435"></span><span>        </span><span class="annot"><span class="annottext">ShortByteString -&gt; Peek ShortByteString
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteArray# -&gt; ShortByteString
</span><span class="hs-identifier hs-var">SBS.SBS</span></span><span> </span><span class="annot"><span class="annottext">ByteArray#
</span><a href="#local-6989586621679540699"><span class="hs-identifier hs-var">array</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-436"></span><span>
</span><span id="line-437"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LBS.ByteString</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-438"></span><span>    </span><span id="local-6989586621679540694"><span class="annot"><span class="annottext">size :: Size ByteString
</span><a href="#local-6989586621679540694"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Int) -&gt; Size ByteString
forall a. (a -&gt; Int) -&gt; Size a
</span><a href="Data.Store.Impl.html#VarSize"><span class="hs-identifier hs-var">VarSize</span></a></span><span> </span><span class="annot"><span class="annottext">((ByteString -&gt; Int) -&gt; Size ByteString)
-&gt; (ByteString -&gt; Int) -&gt; Size ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679540693"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679540693"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-439"></span><span>         </span><span class="annot"><span class="annottext">Int -&gt; Int
forall a. Storable a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">sizeOf</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span>
</span><span id="line-440"></span><span>         </span><span class="annot"><span class="annottext">Int64 -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; Int64
</span><span class="hs-identifier hs-var">LBS.length</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679540693"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-441"></span><span>    </span><span class="hs-comment">-- TODO: more efficient implementation that avoids the double copy</span><span>
</span><span id="line-442"></span><span>    </span><span id="local-6989586621679540691"><span class="annot"><span class="annottext">poke :: ByteString -&gt; Poke ()
</span><a href="#local-6989586621679540691"><span class="hs-identifier hs-var hs-var hs-var hs-var">poke</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Poke ()
forall a. Store a =&gt; a -&gt; Poke ()
</span><a href="Data.Store.Impl.html#poke"><span class="hs-identifier hs-var">poke</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Poke ())
-&gt; (ByteString -&gt; ByteString) -&gt; ByteString -&gt; Poke ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><span class="hs-identifier hs-var">LBS.toStrict</span></span><span>
</span><span id="line-443"></span><span>    </span><span id="local-6989586621679540689"><span class="annot"><span class="annottext">peek :: Peek ByteString
</span><a href="#local-6989586621679540689"><span class="hs-identifier hs-var hs-var hs-var hs-var">peek</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; ByteString) -&gt; Peek ByteString -&gt; Peek ByteString
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><span class="hs-identifier hs-var">LBS.fromStrict</span></span><span> </span><span class="annot"><span class="annottext">Peek ByteString
forall a. Store a =&gt; Peek a
</span><a href="Data.Store.Impl.html#peek"><span class="hs-identifier hs-var">peek</span></a></span><span>
</span><span id="line-444"></span><span>
</span><span id="line-445"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span> </span><span class="hs-keyword">where</span><span class="hs-cpp">
#if MIN_VERSION_text(2,0,0)
</span><span>    </span><span id="local-6989586621679540684"><span class="annot"><span class="annottext">size :: Size Text
</span><a href="#local-6989586621679540684"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Int) -&gt; Size Text
forall a. (a -&gt; Int) -&gt; Size a
</span><a href="Data.Store.Impl.html#VarSize"><span class="hs-identifier hs-var">VarSize</span></a></span><span> </span><span class="annot"><span class="annottext">((Text -&gt; Int) -&gt; Size Text) -&gt; (Text -&gt; Int) -&gt; Size Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679540683"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679540683"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-448"></span><span>        </span><span class="annot"><span class="annottext">Int -&gt; Int
forall a. Storable a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">sizeOf</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span>
</span><span id="line-449"></span><span>        </span><span class="annot"><span class="annottext">Text -&gt; Int
</span><span class="hs-identifier hs-var">T.lengthWord8</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679540683"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-450"></span><span>    </span><span id="local-6989586621679540681"><span class="annot"><span class="annottext">poke :: Text -&gt; Poke ()
</span><a href="#local-6989586621679540681"><span class="hs-identifier hs-var hs-var hs-var hs-var">poke</span></a></span></span><span> </span><span id="local-6989586621679540680"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679540680"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-451"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TA.ByteArray</span></span><span> </span><span id="local-6989586621679540677"><span class="annot"><span class="annottext">ByteArray#
</span><a href="#local-6989586621679540677"><span class="hs-identifier hs-var">array</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679540676"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540676"><span class="hs-identifier hs-var">w8Off</span></a></span></span><span> </span><span id="local-6989586621679540675"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540675"><span class="hs-identifier hs-var">w8Len</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679540680"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-452"></span><span>        </span><span class="annot"><span class="annottext">Int -&gt; Poke ()
forall a. Store a =&gt; a -&gt; Poke ()
</span><a href="Data.Store.Impl.html#poke"><span class="hs-identifier hs-var">poke</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540675"><span class="hs-identifier hs-var">w8Len</span></a></span><span>
</span><span id="line-453"></span><span>        </span><span class="annot"><span class="annottext">ByteArray# -&gt; Int -&gt; Int -&gt; Poke ()
</span><span class="hs-identifier hs-var">pokeFromByteArray</span></span><span> </span><span class="annot"><span class="annottext">ByteArray#
</span><a href="#local-6989586621679540677"><span class="hs-identifier hs-var">array</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540676"><span class="hs-identifier hs-var">w8Off</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540675"><span class="hs-identifier hs-var">w8Len</span></a></span><span>
</span><span id="line-454"></span><span>    </span><span id="local-6989586621679540674"><span class="annot"><span class="annottext">peek :: Peek Text
</span><a href="#local-6989586621679540674"><span class="hs-identifier hs-var hs-var hs-var hs-var">peek</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-455"></span><span>        </span><span id="local-6989586621679540673"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540673"><span class="hs-identifier hs-var">w8Len</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Peek Int
forall a. Store a =&gt; Peek a
</span><a href="Data.Store.Impl.html#peek"><span class="hs-identifier hs-var">peek</span></a></span><span>
</span><span id="line-456"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">ByteArray</span></span><span> </span><span id="local-6989586621679540672"><span class="annot"><span class="annottext">ByteArray#
</span><a href="#local-6989586621679540672"><span class="hs-identifier hs-var">array</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; Int -&gt; Peek ByteArray
</span><span class="hs-identifier hs-var">peekToByteArray</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Data.Text.Text&quot;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540673"><span class="hs-identifier hs-var">w8Len</span></a></span><span>
</span><span id="line-457"></span><span>        </span><span class="annot"><span class="annottext">Text -&gt; Peek Text
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Array -&gt; Int -&gt; Int -&gt; Text
</span><span class="hs-identifier hs-var">T.Text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteArray# -&gt; Array
</span><span class="hs-identifier hs-var">TA.ByteArray</span></span><span> </span><span class="annot"><span class="annottext">ByteArray#
</span><a href="#local-6989586621679540672"><span class="hs-identifier hs-var">array</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540673"><span class="hs-identifier hs-var">w8Len</span></a></span><span class="hs-special">)</span><span class="hs-cpp">
#else
</span><span>    </span><span class="hs-identifier">size</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">VarSize</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">x</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-460"></span><span>        </span><span class="hs-identifier">sizeOf</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">undefined</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">)</span><span> </span><span class="hs-operator">+</span><span>
</span><span id="line-461"></span><span>        </span><span class="hs-number">2</span><span> </span><span class="hs-operator">*</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">T.lengthWord16</span><span> </span><span class="hs-identifier">x</span><span class="hs-special">)</span><span>
</span><span id="line-462"></span><span>    </span><span class="hs-identifier">poke</span><span> </span><span class="hs-identifier">x</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-463"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="hs-identifier">T.Text</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">TA.Array</span><span> </span><span class="hs-identifier">array</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">w16Off</span><span> </span><span class="hs-identifier">w16Len</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">x</span><span>
</span><span id="line-464"></span><span>        </span><span class="hs-identifier">poke</span><span> </span><span class="hs-identifier">w16Len</span><span>
</span><span id="line-465"></span><span>        </span><span class="hs-identifier">pokeFromByteArray</span><span> </span><span class="hs-identifier">array</span><span> </span><span class="hs-special">(</span><span class="hs-number">2</span><span> </span><span class="hs-operator">*</span><span> </span><span class="hs-identifier">w16Off</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-number">2</span><span> </span><span class="hs-operator">*</span><span> </span><span class="hs-identifier">w16Len</span><span class="hs-special">)</span><span>
</span><span id="line-466"></span><span>    </span><span class="hs-identifier">peek</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-467"></span><span>        </span><span class="hs-identifier">w16Len</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">peek</span><span>
</span><span id="line-468"></span><span>        </span><span class="hs-identifier">ByteArray</span><span> </span><span class="hs-identifier">array</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">peekToByteArray</span><span> </span><span class="hs-string">&quot;Data.Text.Text&quot;</span><span> </span><span class="hs-special">(</span><span class="hs-number">2</span><span> </span><span class="hs-operator">*</span><span> </span><span class="hs-identifier">w16Len</span><span class="hs-special">)</span><span>
</span><span id="line-469"></span><span>        </span><span class="hs-identifier">return</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">T.Text</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">TA.Array</span><span> </span><span class="hs-identifier">array</span><span class="hs-special">)</span><span> </span><span class="hs-number">0</span><span> </span><span class="hs-identifier">w16Len</span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-472"></span><span class="hs-comment">------------------------------------------------------------------------</span><span>
</span><span id="line-473"></span><span class="hs-comment">-- Known size instances</span><span>
</span><span id="line-474"></span><span>
</span><span id="line-475"></span><span id="local-6989586621679540670"><span id="local-6989586621679540671"></span></span><span class="hs-keyword">newtype</span><span> </span><span id="StaticSize"><span class="annot"><a href="Data.Store.Internal.html#StaticSize"><span class="hs-identifier hs-var">StaticSize</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679541318"><span class="annot"><a href="#local-6989586621679541318"><span class="hs-identifier hs-type">n</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nat</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679541319"><span class="annot"><a href="#local-6989586621679541319"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="StaticSize"><span class="annot"><a href="Data.Store.Internal.html#StaticSize"><span class="hs-identifier hs-var">StaticSize</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unStaticSize"><span class="annot"><span class="annottext">StaticSize n a -&gt; a
</span><a href="Data.Store.Internal.html#unStaticSize"><span class="hs-identifier hs-var hs-var">unStaticSize</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679541319"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-476"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679540664"><span id="local-6989586621679540666"><span class="annot"><span class="annottext">StaticSize n a -&gt; StaticSize n a -&gt; Bool
(StaticSize n a -&gt; StaticSize n a -&gt; Bool)
-&gt; (StaticSize n a -&gt; StaticSize n a -&gt; Bool)
-&gt; Eq (StaticSize n a)
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
forall (n :: Nat) a.
Eq a =&gt;
StaticSize n a -&gt; StaticSize n a -&gt; Bool
/= :: StaticSize n a -&gt; StaticSize n a -&gt; Bool
$c/= :: forall (n :: Nat) a.
Eq a =&gt;
StaticSize n a -&gt; StaticSize n a -&gt; Bool
== :: StaticSize n a -&gt; StaticSize n a -&gt; Bool
$c== :: forall (n :: Nat) a.
Eq a =&gt;
StaticSize n a -&gt; StaticSize n a -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679540657"><span id="local-6989586621679540659"><span id="local-6989586621679540661"><span class="annot"><span class="annottext">Int -&gt; StaticSize n a -&gt; String -&gt; String
[StaticSize n a] -&gt; String -&gt; String
StaticSize n a -&gt; String
(Int -&gt; StaticSize n a -&gt; String -&gt; String)
-&gt; (StaticSize n a -&gt; String)
-&gt; ([StaticSize n a] -&gt; String -&gt; String)
-&gt; Show (StaticSize n a)
forall a.
(Int -&gt; a -&gt; String -&gt; String)
-&gt; (a -&gt; String) -&gt; ([a] -&gt; String -&gt; String) -&gt; Show a
forall (n :: Nat) a.
Show a =&gt;
Int -&gt; StaticSize n a -&gt; String -&gt; String
forall (n :: Nat) a. Show a =&gt; [StaticSize n a] -&gt; String -&gt; String
forall (n :: Nat) a. Show a =&gt; StaticSize n a -&gt; String
showList :: [StaticSize n a] -&gt; String -&gt; String
$cshowList :: forall (n :: Nat) a. Show a =&gt; [StaticSize n a] -&gt; String -&gt; String
show :: StaticSize n a -&gt; String
$cshow :: forall (n :: Nat) a. Show a =&gt; StaticSize n a -&gt; String
showsPrec :: Int -&gt; StaticSize n a -&gt; String -&gt; String
$cshowsPrec :: forall (n :: Nat) a.
Show a =&gt;
Int -&gt; StaticSize n a -&gt; String -&gt; String
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679540641"><span id="local-6989586621679540643"><span id="local-6989586621679540645"><span id="local-6989586621679540647"><span id="local-6989586621679540649"><span id="local-6989586621679540651"><span id="local-6989586621679540653"><span class="annot"><span class="annottext">Eq (StaticSize n a)
Eq (StaticSize n a)
-&gt; (StaticSize n a -&gt; StaticSize n a -&gt; Ordering)
-&gt; (StaticSize n a -&gt; StaticSize n a -&gt; Bool)
-&gt; (StaticSize n a -&gt; StaticSize n a -&gt; Bool)
-&gt; (StaticSize n a -&gt; StaticSize n a -&gt; Bool)
-&gt; (StaticSize n a -&gt; StaticSize n a -&gt; Bool)
-&gt; (StaticSize n a -&gt; StaticSize n a -&gt; StaticSize n a)
-&gt; (StaticSize n a -&gt; StaticSize n a -&gt; StaticSize n a)
-&gt; Ord (StaticSize n a)
StaticSize n a -&gt; StaticSize n a -&gt; Bool
StaticSize n a -&gt; StaticSize n a -&gt; Ordering
StaticSize n a -&gt; StaticSize n a -&gt; StaticSize n a
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
forall (n :: Nat) a. Ord a =&gt; Eq (StaticSize n a)
forall (n :: Nat) a.
Ord a =&gt;
StaticSize n a -&gt; StaticSize n a -&gt; Bool
forall (n :: Nat) a.
Ord a =&gt;
StaticSize n a -&gt; StaticSize n a -&gt; Ordering
forall (n :: Nat) a.
Ord a =&gt;
StaticSize n a -&gt; StaticSize n a -&gt; StaticSize n a
min :: StaticSize n a -&gt; StaticSize n a -&gt; StaticSize n a
$cmin :: forall (n :: Nat) a.
Ord a =&gt;
StaticSize n a -&gt; StaticSize n a -&gt; StaticSize n a
max :: StaticSize n a -&gt; StaticSize n a -&gt; StaticSize n a
$cmax :: forall (n :: Nat) a.
Ord a =&gt;
StaticSize n a -&gt; StaticSize n a -&gt; StaticSize n a
&gt;= :: StaticSize n a -&gt; StaticSize n a -&gt; Bool
$c&gt;= :: forall (n :: Nat) a.
Ord a =&gt;
StaticSize n a -&gt; StaticSize n a -&gt; Bool
&gt; :: StaticSize n a -&gt; StaticSize n a -&gt; Bool
$c&gt; :: forall (n :: Nat) a.
Ord a =&gt;
StaticSize n a -&gt; StaticSize n a -&gt; Bool
&lt;= :: StaticSize n a -&gt; StaticSize n a -&gt; Bool
$c&lt;= :: forall (n :: Nat) a.
Ord a =&gt;
StaticSize n a -&gt; StaticSize n a -&gt; Bool
&lt; :: StaticSize n a -&gt; StaticSize n a -&gt; Bool
$c&lt; :: forall (n :: Nat) a.
Ord a =&gt;
StaticSize n a -&gt; StaticSize n a -&gt; Bool
compare :: StaticSize n a -&gt; StaticSize n a -&gt; Ordering
$ccompare :: forall (n :: Nat) a.
Ord a =&gt;
StaticSize n a -&gt; StaticSize n a -&gt; Ordering
$cp1Ord :: forall (n :: Nat) a. Ord a =&gt; Eq (StaticSize n a)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="%24cStaticSize"><span id="%24tStaticSize"><span id="local-6989586621679540611"><span id="local-6989586621679540613"><span id="local-6989586621679540615"><span id="local-6989586621679540617"><span id="local-6989586621679540619"><span id="local-6989586621679540621"><span id="local-6989586621679540623"><span id="local-6989586621679540625"><span id="local-6989586621679540627"><span id="local-6989586621679540629"><span id="local-6989586621679540631"><span id="local-6989586621679540633"><span id="local-6989586621679540635"><span id="local-6989586621679540637"><span class="annot"><span class="annottext">Typeable (StaticSize n a)
DataType
Constr
Typeable (StaticSize n a)
-&gt; (forall (c :: * -&gt; *).
    (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
    -&gt; (forall g. g -&gt; c g) -&gt; StaticSize n a -&gt; c (StaticSize n a))
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c (StaticSize n a))
-&gt; (StaticSize n a -&gt; Constr)
-&gt; (StaticSize n a -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c (StaticSize n a)))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e))
    -&gt; Maybe (c (StaticSize n a)))
-&gt; ((forall b. Data b =&gt; b -&gt; b)
    -&gt; StaticSize n a -&gt; StaticSize n a)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; StaticSize n a -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; StaticSize n a -&gt; r)
-&gt; (forall u.
    (forall d. Data d =&gt; d -&gt; u) -&gt; StaticSize n a -&gt; [u])
-&gt; (forall u.
    Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; StaticSize n a -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d)
    -&gt; StaticSize n a -&gt; m (StaticSize n a))
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d)
    -&gt; StaticSize n a -&gt; m (StaticSize n a))
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d)
    -&gt; StaticSize n a -&gt; m (StaticSize n a))
-&gt; Data (StaticSize n a)
StaticSize n a -&gt; DataType
StaticSize n a -&gt; Constr
(forall b. Data b =&gt; b -&gt; b) -&gt; StaticSize n a -&gt; StaticSize n a
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; StaticSize n a -&gt; c (StaticSize n a)
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c (StaticSize n a)
forall a.
Typeable a
-&gt; (forall (c :: * -&gt; *).
    (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
    -&gt; (forall g. g -&gt; c g) -&gt; a -&gt; c a)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c a)
-&gt; (a -&gt; Constr)
-&gt; (a -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c a))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c a))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; a -&gt; a)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; [u])
-&gt; (forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; Data a
forall u.
Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; StaticSize n a -&gt; u
forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; StaticSize n a -&gt; [u]
forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; StaticSize n a -&gt; r
forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; StaticSize n a -&gt; r
forall (n :: Nat) a.
(KnownNat n, Data a) =&gt;
Typeable (StaticSize n a)
forall (n :: Nat) a.
(KnownNat n, Data a) =&gt;
StaticSize n a -&gt; DataType
forall (n :: Nat) a.
(KnownNat n, Data a) =&gt;
StaticSize n a -&gt; Constr
forall (n :: Nat) a.
(KnownNat n, Data a) =&gt;
(forall b. Data b =&gt; b -&gt; b) -&gt; StaticSize n a -&gt; StaticSize n a
forall (n :: Nat) a u.
(KnownNat n, Data a) =&gt;
Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; StaticSize n a -&gt; u
forall (n :: Nat) a u.
(KnownNat n, Data a) =&gt;
(forall d. Data d =&gt; d -&gt; u) -&gt; StaticSize n a -&gt; [u]
forall (n :: Nat) a r r'.
(KnownNat n, Data a) =&gt;
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; StaticSize n a -&gt; r
forall (n :: Nat) a r r'.
(KnownNat n, Data a) =&gt;
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; StaticSize n a -&gt; r
forall (n :: Nat) a (m :: * -&gt; *).
(KnownNat n, Data a, Monad m) =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; StaticSize n a -&gt; m (StaticSize n a)
forall (n :: Nat) a (m :: * -&gt; *).
(KnownNat n, Data a, MonadPlus m) =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; StaticSize n a -&gt; m (StaticSize n a)
forall (n :: Nat) a (c :: * -&gt; *).
(KnownNat n, Data a) =&gt;
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c (StaticSize n a)
forall (n :: Nat) a (c :: * -&gt; *).
(KnownNat n, Data a) =&gt;
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; StaticSize n a -&gt; c (StaticSize n a)
forall (n :: Nat) a (t :: * -&gt; *) (c :: * -&gt; *).
(KnownNat n, Data a, Typeable t) =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c (StaticSize n a))
forall (n :: Nat) a (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
(KnownNat n, Data a, Typeable t) =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c (StaticSize n a))
forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; StaticSize n a -&gt; m (StaticSize n a)
forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; StaticSize n a -&gt; m (StaticSize n a)
forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c (StaticSize n a)
forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; StaticSize n a -&gt; c (StaticSize n a)
forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c (StaticSize n a))
forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c (StaticSize n a))
$cStaticSize :: Constr
$tStaticSize :: DataType
gmapMo :: (forall d. Data d =&gt; d -&gt; m d)
-&gt; StaticSize n a -&gt; m (StaticSize n a)
$cgmapMo :: forall (n :: Nat) a (m :: * -&gt; *).
(KnownNat n, Data a, MonadPlus m) =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; StaticSize n a -&gt; m (StaticSize n a)
gmapMp :: (forall d. Data d =&gt; d -&gt; m d)
-&gt; StaticSize n a -&gt; m (StaticSize n a)
$cgmapMp :: forall (n :: Nat) a (m :: * -&gt; *).
(KnownNat n, Data a, MonadPlus m) =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; StaticSize n a -&gt; m (StaticSize n a)
gmapM :: (forall d. Data d =&gt; d -&gt; m d)
-&gt; StaticSize n a -&gt; m (StaticSize n a)
$cgmapM :: forall (n :: Nat) a (m :: * -&gt; *).
(KnownNat n, Data a, Monad m) =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; StaticSize n a -&gt; m (StaticSize n a)
gmapQi :: Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; StaticSize n a -&gt; u
$cgmapQi :: forall (n :: Nat) a u.
(KnownNat n, Data a) =&gt;
Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; StaticSize n a -&gt; u
gmapQ :: (forall d. Data d =&gt; d -&gt; u) -&gt; StaticSize n a -&gt; [u]
$cgmapQ :: forall (n :: Nat) a u.
(KnownNat n, Data a) =&gt;
(forall d. Data d =&gt; d -&gt; u) -&gt; StaticSize n a -&gt; [u]
gmapQr :: (r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; StaticSize n a -&gt; r
$cgmapQr :: forall (n :: Nat) a r r'.
(KnownNat n, Data a) =&gt;
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; StaticSize n a -&gt; r
gmapQl :: (r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; StaticSize n a -&gt; r
$cgmapQl :: forall (n :: Nat) a r r'.
(KnownNat n, Data a) =&gt;
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; StaticSize n a -&gt; r
gmapT :: (forall b. Data b =&gt; b -&gt; b) -&gt; StaticSize n a -&gt; StaticSize n a
$cgmapT :: forall (n :: Nat) a.
(KnownNat n, Data a) =&gt;
(forall b. Data b =&gt; b -&gt; b) -&gt; StaticSize n a -&gt; StaticSize n a
dataCast2 :: (forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c (StaticSize n a))
$cdataCast2 :: forall (n :: Nat) a (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
(KnownNat n, Data a, Typeable t) =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c (StaticSize n a))
dataCast1 :: (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c (StaticSize n a))
$cdataCast1 :: forall (n :: Nat) a (t :: * -&gt; *) (c :: * -&gt; *).
(KnownNat n, Data a, Typeable t) =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c (StaticSize n a))
dataTypeOf :: StaticSize n a -&gt; DataType
$cdataTypeOf :: forall (n :: Nat) a.
(KnownNat n, Data a) =&gt;
StaticSize n a -&gt; DataType
toConstr :: StaticSize n a -&gt; Constr
$ctoConstr :: forall (n :: Nat) a.
(KnownNat n, Data a) =&gt;
StaticSize n a -&gt; Constr
gunfold :: (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c (StaticSize n a)
$cgunfold :: forall (n :: Nat) a (c :: * -&gt; *).
(KnownNat n, Data a) =&gt;
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c (StaticSize n a)
gfoldl :: (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; StaticSize n a -&gt; c (StaticSize n a)
$cgfoldl :: forall (n :: Nat) a (c :: * -&gt; *).
(KnownNat n, Data a) =&gt;
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; StaticSize n a -&gt; c (StaticSize n a)
$cp1Data :: forall (n :: Nat) a.
(KnownNat n, Data a) =&gt;
Typeable (StaticSize n a)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Data</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. StaticSize n a -&gt; Rep (StaticSize n a) x)
-&gt; (forall x. Rep (StaticSize n a) x -&gt; StaticSize n a)
-&gt; Generic (StaticSize n a)
forall x. Rep (StaticSize n a) x -&gt; StaticSize n a
forall x. StaticSize n a -&gt; Rep (StaticSize n a) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (n :: Nat) a x. Rep (StaticSize n a) x -&gt; StaticSize n a
forall (n :: Nat) a x. StaticSize n a -&gt; Rep (StaticSize n a) x
$cto :: forall (n :: Nat) a x. Rep (StaticSize n a) x -&gt; StaticSize n a
$cfrom :: forall (n :: Nat) a x. StaticSize n a -&gt; Rep (StaticSize n a) x
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></span><span class="hs-special">)</span><span>
</span><span id="line-477"></span><span>
</span><span id="line-478"></span><span id="local-6989586621679540603"><span id="local-6989586621679540604"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679540601"><span class="annot"><span class="hs-identifier hs-type">NFData</span></span><span> </span><span class="annot"><a href="#local-6989586621679540604"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NFData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Store.Internal.html#StaticSize"><span class="hs-identifier hs-type">StaticSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540603"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540604"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-479"></span><span>
</span><span id="line-480"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><span class="hs-identifier hs-type">KnownNat</span></span><span> </span><span class="annot"><a href="#local-6989586621679541331"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="IsStaticSize"><span class="annot"><a href="Data.Store.Internal.html#IsStaticSize"><span class="hs-identifier hs-var">IsStaticSize</span></a></span></span><span> </span><span id="local-6989586621679541331"><span class="annot"><a href="#local-6989586621679541331"><span class="hs-identifier hs-type">n</span></a></span></span><span> </span><span id="local-6989586621679541330"><span class="annot"><a href="#local-6989586621679541330"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-481"></span><span>    </span><span id="toStaticSize"><span class="annot"><a href="Data.Store.Internal.html#toStaticSize"><span class="hs-identifier hs-type">toStaticSize</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679541330"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Store.Internal.html#StaticSize"><span class="hs-identifier hs-type">StaticSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679541331"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679541330"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-482"></span><span>
</span><span id="line-483"></span><span id="local-6989586621679540597"><span id="local-6989586621679540598"><span class="annot"><a href="Data.Store.Internal.html#toStaticSizeEx"><span class="hs-identifier hs-type">toStaticSizeEx</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#IsStaticSize"><span class="hs-identifier hs-type">IsStaticSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540598"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540597"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679540597"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#StaticSize"><span class="hs-identifier hs-type">StaticSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540598"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540597"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-484"></span><span id="toStaticSizeEx"><span class="annot"><span class="annottext">toStaticSizeEx :: a -&gt; StaticSize n a
</span><a href="Data.Store.Internal.html#toStaticSizeEx"><span class="hs-identifier hs-var hs-var">toStaticSizeEx</span></a></span></span><span> </span><span id="local-6989586621679540596"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679540596"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-485"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe (StaticSize n a)
forall (n :: Nat) a.
IsStaticSize n a =&gt;
a -&gt; Maybe (StaticSize n a)
</span><a href="Data.Store.Internal.html#toStaticSize"><span class="hs-identifier hs-var">toStaticSize</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679540596"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-486"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679540595"><span class="annot"><span class="annottext">StaticSize n a
</span><a href="#local-6989586621679540595"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">StaticSize n a
</span><a href="#local-6989586621679540595"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-487"></span><span>        </span><span class="annot"><span class="annottext">Maybe (StaticSize n a)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; StaticSize n a
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Failed to assert a static size via toStaticSizeEx&quot;</span></span><span>
</span><span id="line-488"></span><span>
</span><span id="line-489"></span><span id="local-6989586621679540593"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">KnownNat</span></span><span> </span><span class="annot"><a href="#local-6989586621679540593"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#IsStaticSize"><span class="hs-identifier hs-type">IsStaticSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540593"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">BS.ByteString</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-490"></span><span>    </span><span id="local-6989586621679540589"><span class="annot"><span class="annottext">toStaticSize :: ByteString -&gt; Maybe (StaticSize n ByteString)
</span><a href="#local-6989586621679540589"><span class="hs-identifier hs-var hs-var hs-var hs-var">toStaticSize</span></a></span></span><span> </span><span id="local-6989586621679540588"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679540588"><span class="hs-identifier hs-var">bs</span></a></span></span><span>
</span><span id="line-491"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Int
</span><span class="hs-identifier hs-var">BS.length</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679540588"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy n -&gt; Integer
forall (n :: Nat) (proxy :: Nat -&gt; *).
KnownNat n =&gt;
proxy n -&gt; Integer
</span><span class="hs-identifier hs-var">natVal</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy n
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679540593"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StaticSize n ByteString -&gt; Maybe (StaticSize n ByteString)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; StaticSize n ByteString
forall (n :: Nat) a. a -&gt; StaticSize n a
</span><a href="Data.Store.Internal.html#StaticSize"><span class="hs-identifier hs-var">StaticSize</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679540588"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-492"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (StaticSize n ByteString)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span></span><span>
</span><span id="line-493"></span><span>
</span><span id="line-494"></span><span id="local-6989586621679540585"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">KnownNat</span></span><span> </span><span class="annot"><a href="#local-6989586621679540585"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Store.Internal.html#StaticSize"><span class="hs-identifier hs-type">StaticSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540585"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">BS.ByteString</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-495"></span><span>    </span><span id="local-6989586621679540581"><span class="annot"><span class="annottext">size :: Size (StaticSize n ByteString)
</span><a href="#local-6989586621679540581"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Size (StaticSize n ByteString)
forall a. Int -&gt; Size a
</span><a href="Data.Store.Impl.html#ConstSize"><span class="hs-identifier hs-var">ConstSize</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy n -&gt; Integer
forall (n :: Nat) (proxy :: Nat -&gt; *).
KnownNat n =&gt;
proxy n -&gt; Integer
</span><span class="hs-identifier hs-var">natVal</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy n
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679540585"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-496"></span><span>    </span><span id="local-6989586621679540580"><span class="annot"><span class="annottext">poke :: StaticSize n ByteString -&gt; Poke ()
</span><a href="#local-6989586621679540580"><span class="hs-identifier hs-var hs-var hs-var hs-var">poke</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Store.Internal.html#StaticSize"><span class="hs-identifier hs-type">StaticSize</span></a></span><span> </span><span id="local-6989586621679540579"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679540579"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-497"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679540578"><span class="annot"><span class="annottext">ForeignPtr Word8
</span><a href="#local-6989586621679540578"><span class="hs-identifier hs-var">sourceFp</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679540577"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540577"><span class="hs-identifier hs-var">sourceOffset</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679540576"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540576"><span class="hs-identifier hs-var">sourceLength</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; (ForeignPtr Word8, Int, Int)
</span><span class="hs-identifier hs-var">BS.toForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679540579"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-498"></span><span>        </span><span class="annot"><span class="annottext">ForeignPtr Word8 -&gt; Int -&gt; Int -&gt; Poke ()
forall a. ForeignPtr a -&gt; Int -&gt; Int -&gt; Poke ()
</span><span class="hs-identifier hs-var">pokeFromForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr Word8
</span><a href="#local-6989586621679540578"><span class="hs-identifier hs-var">sourceFp</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540577"><span class="hs-identifier hs-var">sourceOffset</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540576"><span class="hs-identifier hs-var">sourceLength</span></a></span><span>
</span><span id="line-499"></span><span>    </span><span id="local-6989586621679540575"><span class="annot"><span class="annottext">peek :: Peek (StaticSize n ByteString)
</span><a href="#local-6989586621679540575"><span class="hs-identifier hs-var hs-var hs-var hs-var">peek</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-500"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679540574"><span class="annot"><span class="annottext">len :: Int
</span><a href="#local-6989586621679540574"><span class="hs-identifier hs-var hs-var">len</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy n -&gt; Integer
forall (n :: Nat) (proxy :: Nat -&gt; *).
KnownNat n =&gt;
proxy n -&gt; Integer
</span><span class="hs-identifier hs-var">natVal</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy n
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679540585"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-501"></span><span>        </span><span id="local-6989586621679540573"><span class="annot"><span class="annottext">ForeignPtr Word8
</span><a href="#local-6989586621679540573"><span class="hs-identifier hs-var">fp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; Int -&gt; Peek (ForeignPtr Word8)
forall a. String -&gt; Int -&gt; Peek (ForeignPtr a)
</span><span class="hs-identifier hs-var">peekToPlainForeignPtr</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;StaticSize &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540574"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; Data.ByteString.ByteString&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540574"><span class="hs-identifier hs-var">len</span></a></span><span>
</span><span id="line-502"></span><span>        </span><span class="annot"><span class="annottext">StaticSize n ByteString -&gt; Peek (StaticSize n ByteString)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; StaticSize n ByteString
forall (n :: Nat) a. a -&gt; StaticSize n a
</span><a href="Data.Store.Internal.html#StaticSize"><span class="hs-identifier hs-var">StaticSize</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ForeignPtr Word8 -&gt; Int -&gt; Int -&gt; ByteString
</span><span class="hs-identifier hs-var">BS.PS</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr Word8
</span><a href="#local-6989586621679540573"><span class="hs-identifier hs-var">fp</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540574"><span class="hs-identifier hs-var">len</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-503"></span><span>
</span><span id="line-504"></span><span class="hs-comment">-- NOTE: this could be a 'Lift' instance, but we can't use type holes in</span><span>
</span><span id="line-505"></span><span class="hs-comment">-- TH. Alternatively we'd need a (TypeRep -&gt; Type) function and Typeable</span><span>
</span><span id="line-506"></span><span class="hs-comment">-- constraint.</span><span>
</span><span id="line-507"></span><span class="annot"><a href="Data.Store.Internal.html#liftStaticSize"><span class="hs-identifier hs-type">liftStaticSize</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679540572"><span class="annot"><a href="#local-6989586621679540572"><span class="hs-identifier hs-type">n</span></a></span></span><span> </span><span id="local-6989586621679540571"><span class="annot"><a href="#local-6989586621679540571"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">KnownNat</span></span><span> </span><span class="annot"><a href="#local-6989586621679540572"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Lift</span></span><span> </span><span class="annot"><a href="#local-6989586621679540571"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TypeQ</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#StaticSize"><span class="hs-identifier hs-type">StaticSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540572"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540571"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ExpQ</span></span><span>
</span><span id="line-508"></span><span id="liftStaticSize"><span class="annot"><span class="annottext">liftStaticSize :: TypeQ -&gt; StaticSize n a -&gt; ExpQ
</span><a href="Data.Store.Internal.html#liftStaticSize"><span class="hs-identifier hs-var hs-var">liftStaticSize</span></a></span></span><span> </span><span id="local-6989586621679540570"><span class="annot"><span class="annottext">TypeQ
</span><a href="#local-6989586621679540570"><span class="hs-identifier hs-var">tyq</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Store.Internal.html#StaticSize"><span class="hs-identifier hs-type">StaticSize</span></a></span><span> </span><span id="local-6989586621679540569"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679540569"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-509"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679540568"><span class="annot"><span class="annottext">numTy :: TypeQ
</span><a href="#local-6989586621679540568"><span class="hs-identifier hs-var hs-var">numTy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyLitQ -&gt; TypeQ
</span><span class="hs-identifier hs-var">litT</span></span><span> </span><span class="annot"><span class="annottext">(TyLitQ -&gt; TypeQ) -&gt; TyLitQ -&gt; TypeQ
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; TyLitQ
</span><span class="hs-identifier hs-var">numTyLit</span></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; TyLitQ) -&gt; Integer -&gt; TyLitQ
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Proxy n -&gt; Integer
forall (n :: Nat) (proxy :: Nat -&gt; *).
KnownNat n =&gt;
proxy n -&gt; Integer
</span><span class="hs-identifier hs-var">natVal</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy n
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679540572"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-510"></span><span>    </span><span class="hs-special">[|</span><span> </span><span class="hs-identifier">StaticSize</span><span> </span><span class="hs-special">$(</span><span class="hs-identifier">lift</span><span> </span><span class="hs-identifier">x</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">StaticSize</span><span> </span><span class="hs-special">$(</span><span class="hs-identifier">numTy</span><span class="hs-special">)</span><span> </span><span class="hs-special">$(</span><span class="hs-identifier">tyq</span><span class="hs-special">)</span><span> </span><span class="hs-special">|]</span><span class="hs-cpp">

#if MIN_VERSION_template_haskell(2,17,0)
</span><span class="hs-identifier">staticByteStringExp</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Quote</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">BS.ByteString</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-identifier">Exp</span><span class="hs-cpp">
#else
</span><span class="annot"><a href="Data.Store.Internal.html#staticByteStringExp"><span class="hs-identifier hs-type">staticByteStringExp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BS.ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ExpQ</span></span><span class="hs-cpp">
#endif
</span><span id="staticByteStringExp"><span class="annot"><span class="annottext">staticByteStringExp :: ByteString -&gt; ExpQ
</span><a href="Data.Store.Internal.html#staticByteStringExp"><span class="hs-identifier hs-var hs-var">staticByteStringExp</span></a></span></span><span> </span><span id="local-6989586621679540567"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679540567"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-518"></span><span>    </span><span class="hs-special">[|</span><span> </span><span class="hs-identifier">StaticSize</span><span> </span><span class="hs-identifier">bs</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">StaticSize</span><span> </span><span class="hs-special">$(</span><span class="hs-identifier">litT</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">numTyLit</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">fromIntegral</span><span> </span><span class="hs-identifier">len</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">BS.ByteString</span><span> </span><span class="hs-special">|]</span><span>
</span><span id="line-519"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-520"></span><span>    </span><span id="local-6989586621679540566"><span class="annot"><span class="annottext">len :: Int
</span><a href="#local-6989586621679540566"><span class="hs-identifier hs-var hs-var">len</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Int
</span><span class="hs-identifier hs-var">BS.length</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679540567"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-521"></span><span>
</span><span id="line-522"></span><span class="hs-comment">------------------------------------------------------------------------</span><span>
</span><span id="line-523"></span><span class="hs-comment">-- containers instances</span><span>
</span><span id="line-524"></span><span>
</span><span id="line-525"></span><span id="local-6989586621679540565"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540565"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679540565"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-526"></span><span>    </span><span id="local-6989586621679540561"><span class="annot"><span class="annottext">size :: Size [a]
</span><a href="#local-6989586621679540561"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Size [a]
forall t. (IsSequence t, Store (Element t)) =&gt; Size t
</span><a href="Data.Store.Internal.html#sizeSequence"><span class="hs-identifier hs-var">sizeSequence</span></a></span><span>
</span><span id="line-527"></span><span>    </span><span id="local-6989586621679540560"><span class="annot"><span class="annottext">poke :: [a] -&gt; Poke ()
</span><a href="#local-6989586621679540560"><span class="hs-identifier hs-var hs-var hs-var hs-var">poke</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; Poke ()
forall t. (IsSequence t, Store (Element t)) =&gt; t -&gt; Poke ()
</span><a href="Data.Store.Internal.html#pokeSequence"><span class="hs-identifier hs-var">pokeSequence</span></a></span><span>
</span><span id="line-528"></span><span>    </span><span id="local-6989586621679540559"><span class="annot"><span class="annottext">peek :: Peek [a]
</span><a href="#local-6989586621679540559"><span class="hs-identifier hs-var hs-var hs-var hs-var">peek</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Peek [a]
forall t.
(IsSequence t, Store (Element t), Index t ~ Int) =&gt;
Peek t
</span><a href="Data.Store.Internal.html#peekSequence"><span class="hs-identifier hs-var">peekSequence</span></a></span></span><span>
</span><span id="line-529"></span><span>
</span><span id="line-530"></span><span id="local-6989586621679540558"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679540552"><span id="local-6989586621679540554"><span id="local-6989586621679540556"><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540558"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NE.NonEmpty</span></span><span> </span><span class="annot"><a href="#local-6989586621679540558"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-531"></span><span>
</span><span id="line-532"></span><span id="local-6989586621679540551"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540551"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Seq</span></span><span> </span><span class="annot"><a href="#local-6989586621679540551"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-533"></span><span>    </span><span id="local-6989586621679540547"><span class="annot"><span class="annottext">size :: Size (Seq a)
</span><a href="#local-6989586621679540547"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Size (Seq a)
forall t. (IsSequence t, Store (Element t)) =&gt; Size t
</span><a href="Data.Store.Internal.html#sizeSequence"><span class="hs-identifier hs-var">sizeSequence</span></a></span><span>
</span><span id="line-534"></span><span>    </span><span id="local-6989586621679540546"><span class="annot"><span class="annottext">poke :: Seq a -&gt; Poke ()
</span><a href="#local-6989586621679540546"><span class="hs-identifier hs-var hs-var hs-var hs-var">poke</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Seq a -&gt; Poke ()
forall t. (IsSequence t, Store (Element t)) =&gt; t -&gt; Poke ()
</span><a href="Data.Store.Internal.html#pokeSequence"><span class="hs-identifier hs-var">pokeSequence</span></a></span><span>
</span><span id="line-535"></span><span>    </span><span id="local-6989586621679540545"><span class="annot"><span class="annottext">peek :: Peek (Seq a)
</span><a href="#local-6989586621679540545"><span class="hs-identifier hs-var hs-var hs-var hs-var">peek</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Peek (Seq a)
forall t.
(IsSequence t, Store (Element t), Index t ~ Int) =&gt;
Peek t
</span><a href="Data.Store.Internal.html#peekSequence"><span class="hs-identifier hs-var">peekSequence</span></a></span></span><span>
</span><span id="line-536"></span><span>
</span><span id="line-537"></span><span id="local-6989586621679540544"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540544"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679540544"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Set</span></span><span> </span><span class="annot"><a href="#local-6989586621679540544"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-538"></span><span>    </span><span id="local-6989586621679540540"><span class="annot"><span class="annottext">size :: Size (Set a)
</span><a href="#local-6989586621679540540"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-539"></span><span>        </span><span class="annot"><span class="annottext">(Set a -&gt; Int) -&gt; Size (Set a)
forall a. (a -&gt; Int) -&gt; Size a
</span><a href="Data.Store.Impl.html#VarSize"><span class="hs-identifier hs-var">VarSize</span></a></span><span> </span><span class="annot"><span class="annottext">((Set a -&gt; Int) -&gt; Size (Set a)) -&gt; (Set a -&gt; Int) -&gt; Size (Set a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679540539"><span class="annot"><span class="annottext">Set a
</span><a href="#local-6989586621679540539"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-540"></span><span>            </span><span class="annot"><span class="annottext">Int -&gt; Int
forall a. Storable a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">sizeOf</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span>
</span><span id="line-541"></span><span>            </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Size a
forall a. Store a =&gt; Size a
</span><a href="Data.Store.Impl.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-542"></span><span>                </span><span class="annot"><a href="Data.Store.Impl.html#ConstSize"><span class="hs-identifier hs-type">ConstSize</span></a></span><span> </span><span id="local-6989586621679540538"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540538"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540538"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">Set a -&gt; Int
forall a. Set a -&gt; Int
</span><span class="hs-identifier hs-var">Set.size</span></span><span> </span><span class="annot"><span class="annottext">Set a
</span><a href="#local-6989586621679540539"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-543"></span><span>                </span><span class="annot"><a href="Data.Store.Impl.html#VarSize"><span class="hs-identifier hs-type">VarSize</span></a></span><span> </span><span id="local-6989586621679540536"><span class="annot"><span class="annottext">a -&gt; Int
</span><a href="#local-6989586621679540536"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; a -&gt; Int) -&gt; Int -&gt; Set a -&gt; Int
forall a b. (a -&gt; b -&gt; a) -&gt; a -&gt; Set b -&gt; a
</span><span class="hs-identifier hs-var">Set.foldl'</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679540534"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540534"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621679540533"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679540533"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540534"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Int
</span><a href="#local-6989586621679540536"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679540533"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Set a
</span><a href="#local-6989586621679540539"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-544"></span><span>    </span><span id="local-6989586621679540532"><span class="annot"><span class="annottext">poke :: Set a -&gt; Poke ()
</span><a href="#local-6989586621679540532"><span class="hs-identifier hs-var hs-var hs-var hs-var">poke</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set a -&gt; Poke ()
forall t. (IsSet t, Store (Element t)) =&gt; t -&gt; Poke ()
</span><a href="Data.Store.Internal.html#pokeSet"><span class="hs-identifier hs-var">pokeSet</span></a></span><span>
</span><span id="line-545"></span><span>    </span><span id="local-6989586621679540531"><span class="annot"><span class="annottext">peek :: Peek (Set a)
</span><a href="#local-6989586621679540531"><span class="hs-identifier hs-var hs-var hs-var hs-var">peek</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; Set a
forall a. [a] -&gt; Set a
</span><span class="hs-identifier hs-var">Set.fromDistinctAscList</span></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; Set a) -&gt; Peek [a] -&gt; Peek (Set a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Peek [a]
forall a. Store a =&gt; Peek a
</span><a href="Data.Store.Impl.html#peek"><span class="hs-identifier hs-var">peek</span></a></span></span><span>
</span><span id="line-546"></span><span>
</span><span id="line-547"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IntSet</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-548"></span><span>    </span><span id="local-6989586621679540526"><span class="annot"><span class="annottext">size :: Size IntSet
</span><a href="#local-6989586621679540526"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Size IntSet
forall t. (IsSet t, Store (Element t)) =&gt; Size t
</span><a href="Data.Store.Internal.html#sizeSet"><span class="hs-identifier hs-var">sizeSet</span></a></span><span>
</span><span id="line-549"></span><span>    </span><span id="local-6989586621679540525"><span class="annot"><span class="annottext">poke :: IntSet -&gt; Poke ()
</span><a href="#local-6989586621679540525"><span class="hs-identifier hs-var hs-var hs-var hs-var">poke</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntSet -&gt; Poke ()
forall t. (IsSet t, Store (Element t)) =&gt; t -&gt; Poke ()
</span><a href="Data.Store.Internal.html#pokeSet"><span class="hs-identifier hs-var">pokeSet</span></a></span><span>
</span><span id="line-550"></span><span>    </span><span id="local-6989586621679540524"><span class="annot"><span class="annottext">peek :: Peek IntSet
</span><a href="#local-6989586621679540524"><span class="hs-identifier hs-var hs-var hs-var hs-var">peek</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; IntSet
</span><span class="hs-identifier hs-var">IntSet.fromDistinctAscList</span></span><span> </span><span class="annot"><span class="annottext">([Int] -&gt; IntSet) -&gt; Peek [Int] -&gt; Peek IntSet
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Peek [Int]
forall a. Store a =&gt; Peek a
</span><a href="Data.Store.Impl.html#peek"><span class="hs-identifier hs-var">peek</span></a></span><span>
</span><span id="line-551"></span><span>
</span><span id="line-552"></span><span id="local-6989586621679540522"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540522"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IntMap</span></span><span> </span><span class="annot"><a href="#local-6989586621679540522"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-553"></span><span>    </span><span id="local-6989586621679540518"><span class="annot"><span class="annottext">size :: Size (IntMap a)
</span><a href="#local-6989586621679540518"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Size (IntMap a)
forall t.
(Store (ContainerKey t), Store (MapValue t), IsMap t) =&gt;
Size t
</span><a href="Data.Store.Internal.html#sizeOrdMap"><span class="hs-identifier hs-var">sizeOrdMap</span></a></span><span>
</span><span id="line-554"></span><span>    </span><span id="local-6989586621679540517"><span class="annot"><span class="annottext">poke :: IntMap a -&gt; Poke ()
</span><a href="#local-6989586621679540517"><span class="hs-identifier hs-var hs-var hs-var hs-var">poke</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntMap a -&gt; Poke ()
forall t.
(Store (ContainerKey t), Store (MapValue t), IsMap t) =&gt;
t -&gt; Poke ()
</span><a href="Data.Store.Internal.html#pokeOrdMap"><span class="hs-identifier hs-var">pokeOrdMap</span></a></span><span>
</span><span id="line-555"></span><span>    </span><span id="local-6989586621679540516"><span class="annot"><span class="annottext">peek :: Peek (IntMap a)
</span><a href="#local-6989586621679540516"><span class="hs-identifier hs-var hs-var hs-var hs-var">peek</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([(ContainerKey (IntMap a), MapValue (IntMap a))] -&gt; IntMap a)
-&gt; Peek (IntMap a)
forall t.
(Store (ContainerKey t), Store (MapValue t)) =&gt;
([(ContainerKey t, MapValue t)] -&gt; t) -&gt; Peek t
</span><a href="Data.Store.Internal.html#peekOrdMapWith"><span class="hs-identifier hs-var">peekOrdMapWith</span></a></span><span> </span><span class="annot"><span class="annottext">[(ContainerKey (IntMap a), MapValue (IntMap a))] -&gt; IntMap a
forall a. [(Int, a)] -&gt; IntMap a
</span><span class="hs-identifier hs-var">IntMap.fromDistinctAscList</span></span></span><span>
</span><span id="line-556"></span><span>
</span><span id="line-557"></span><span id="local-6989586621679540513"><span id="local-6989586621679540514"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679540514"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540514"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540513"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><a href="#local-6989586621679540514"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540513"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-558"></span><span>    </span><span id="local-6989586621679540509"><span class="annot"><span class="annottext">size :: Size (Map k a)
</span><a href="#local-6989586621679540509"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-559"></span><span>        </span><span class="annot"><span class="annottext">(Map k a -&gt; Int) -&gt; Size (Map k a)
forall a. (a -&gt; Int) -&gt; Size a
</span><a href="Data.Store.Impl.html#VarSize"><span class="hs-identifier hs-var">VarSize</span></a></span><span> </span><span class="annot"><span class="annottext">((Map k a -&gt; Int) -&gt; Size (Map k a))
-&gt; (Map k a -&gt; Int) -&gt; Size (Map k a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679540508"><span class="annot"><span class="annottext">Map k a
</span><a href="#local-6989586621679540508"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-560"></span><span>            </span><span class="annot"><span class="annottext">Word32 -&gt; Int
forall a. Storable a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">sizeOf</span></span><span> </span><span class="annot"><span class="annottext">Word32
</span><a href="Data.Store.Internal.html#markMapPokedInAscendingOrder"><span class="hs-identifier hs-var">markMapPokedInAscendingOrder</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int
forall a. Storable a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">sizeOf</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span>
</span><span id="line-561"></span><span>            </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Size k
forall a. Store a =&gt; Size a
</span><a href="Data.Store.Impl.html#size"><span class="hs-identifier hs-var">size</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Size a
forall a. Store a =&gt; Size a
</span><a href="Data.Store.Impl.html#size"><span class="hs-identifier hs-var">size</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-562"></span><span>                </span><span class="hs-special">(</span><span class="annot"><a href="Data.Store.Impl.html#ConstSize"><span class="hs-identifier hs-type">ConstSize</span></a></span><span> </span><span id="local-6989586621679540507"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540507"><span class="hs-identifier hs-var">nk</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#ConstSize"><span class="hs-identifier hs-type">ConstSize</span></a></span><span> </span><span id="local-6989586621679540506"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540506"><span class="hs-identifier hs-var">na</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540507"><span class="hs-identifier hs-var">nk</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540506"><span class="hs-identifier hs-var">na</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">Map k a -&gt; Int
forall k a. Map k a -&gt; Int
</span><span class="hs-identifier hs-var">Map.size</span></span><span> </span><span class="annot"><span class="annottext">Map k a
</span><a href="#local-6989586621679540508"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-563"></span><span>                </span><span class="hs-special">(</span><span id="local-6989586621679540504"><span class="annot"><span class="annottext">Size k
</span><a href="#local-6989586621679540504"><span class="hs-identifier hs-var">szk</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679540503"><span class="annot"><span class="annottext">Size a
</span><a href="#local-6989586621679540503"><span class="hs-identifier hs-var">sza</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-564"></span><span>                    </span><span class="annot"><span class="annottext">(Int -&gt; k -&gt; a -&gt; Int) -&gt; Int -&gt; Map k a -&gt; Int
forall a k b. (a -&gt; k -&gt; b -&gt; a) -&gt; a -&gt; Map k b -&gt; a
</span><span class="hs-identifier hs-var">Map.foldlWithKey'</span></span><span>
</span><span id="line-565"></span><span>                        </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679540501"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540501"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621679540500"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679540500"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679540499"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679540499"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540501"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Size k -&gt; k -&gt; Int
forall a. Size a -&gt; a -&gt; Int
</span><a href="Data.Store.Impl.html#getSizeWith"><span class="hs-identifier hs-var">getSizeWith</span></a></span><span> </span><span class="annot"><span class="annottext">Size k
</span><a href="#local-6989586621679540504"><span class="hs-identifier hs-var">szk</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679540500"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Size a -&gt; a -&gt; Int
forall a. Size a -&gt; a -&gt; Int
</span><a href="Data.Store.Impl.html#getSizeWith"><span class="hs-identifier hs-var">getSizeWith</span></a></span><span> </span><span class="annot"><span class="annottext">Size a
</span><a href="#local-6989586621679540503"><span class="hs-identifier hs-var">sza</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679540499"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-566"></span><span>                        </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-567"></span><span>                        </span><span class="annot"><span class="annottext">Map k a
</span><a href="#local-6989586621679540508"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-568"></span><span>    </span><span id="local-6989586621679540498"><span class="annot"><span class="annottext">poke :: Map k a -&gt; Poke ()
</span><a href="#local-6989586621679540498"><span class="hs-identifier hs-var hs-var hs-var hs-var">poke</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map k a -&gt; Poke ()
forall t.
(Store (ContainerKey t), Store (MapValue t), IsMap t) =&gt;
t -&gt; Poke ()
</span><a href="Data.Store.Internal.html#pokeOrdMap"><span class="hs-identifier hs-var">pokeOrdMap</span></a></span><span>
</span><span id="line-569"></span><span>    </span><span id="local-6989586621679540497"><span class="annot"><span class="annottext">peek :: Peek (Map k a)
</span><a href="#local-6989586621679540497"><span class="hs-identifier hs-var hs-var hs-var hs-var">peek</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([(ContainerKey (Map k a), MapValue (Map k a))] -&gt; Map k a)
-&gt; Peek (Map k a)
forall t.
(Store (ContainerKey t), Store (MapValue t)) =&gt;
([(ContainerKey t, MapValue t)] -&gt; t) -&gt; Peek t
</span><a href="Data.Store.Internal.html#peekOrdMapWith"><span class="hs-identifier hs-var">peekOrdMapWith</span></a></span><span> </span><span class="annot"><span class="annottext">[(ContainerKey (Map k a), MapValue (Map k a))] -&gt; Map k a
forall k a. [(k, a)] -&gt; Map k a
</span><span class="hs-identifier hs-var">Map.fromDistinctAscList</span></span></span></span><span>
</span><span id="line-570"></span><span>
</span><span id="line-571"></span><span id="local-6989586621679540494"><span id="local-6989586621679540495"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621679540495"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Hashable</span></span><span> </span><span class="annot"><a href="#local-6989586621679540495"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540495"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540494"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">HashMap</span></span><span> </span><span class="annot"><a href="#local-6989586621679540495"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540494"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-572"></span><span>    </span><span id="local-6989586621679540490"><span class="annot"><span class="annottext">size :: Size (HashMap k a)
</span><a href="#local-6989586621679540490"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Size (HashMap k a)
forall t.
(Store (ContainerKey t), Store (MapValue t), IsMap t) =&gt;
Size t
</span><a href="Data.Store.Internal.html#sizeMap"><span class="hs-identifier hs-var">sizeMap</span></a></span><span>
</span><span id="line-573"></span><span>    </span><span id="local-6989586621679540489"><span class="annot"><span class="annottext">poke :: HashMap k a -&gt; Poke ()
</span><a href="#local-6989586621679540489"><span class="hs-identifier hs-var hs-var hs-var hs-var">poke</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HashMap k a -&gt; Poke ()
forall t.
(Store (ContainerKey t), Store (MapValue t), IsMap t) =&gt;
t -&gt; Poke ()
</span><a href="Data.Store.Internal.html#pokeMap"><span class="hs-identifier hs-var">pokeMap</span></a></span><span>
</span><span id="line-574"></span><span>    </span><span id="local-6989586621679540488"><span class="annot"><span class="annottext">peek :: Peek (HashMap k a)
</span><a href="#local-6989586621679540488"><span class="hs-identifier hs-var hs-var hs-var hs-var">peek</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Peek (HashMap k a)
forall t.
(Store (ContainerKey t), Store (MapValue t), IsMap t) =&gt;
Peek t
</span><a href="Data.Store.Internal.html#peekMap"><span class="hs-identifier hs-var">peekMap</span></a></span></span></span><span>
</span><span id="line-575"></span><span>
</span><span id="line-576"></span><span id="local-6989586621679540487"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621679540487"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Hashable</span></span><span> </span><span class="annot"><a href="#local-6989586621679540487"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540487"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">HashSet</span></span><span> </span><span class="annot"><a href="#local-6989586621679540487"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-577"></span><span>    </span><span id="local-6989586621679540483"><span class="annot"><span class="annottext">size :: Size (HashSet a)
</span><a href="#local-6989586621679540483"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Size (HashSet a)
forall t. (IsSet t, Store (Element t)) =&gt; Size t
</span><a href="Data.Store.Internal.html#sizeSet"><span class="hs-identifier hs-var">sizeSet</span></a></span><span>
</span><span id="line-578"></span><span>    </span><span id="local-6989586621679540482"><span class="annot"><span class="annottext">poke :: HashSet a -&gt; Poke ()
</span><a href="#local-6989586621679540482"><span class="hs-identifier hs-var hs-var hs-var hs-var">poke</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HashSet a -&gt; Poke ()
forall t. (IsSet t, Store (Element t)) =&gt; t -&gt; Poke ()
</span><a href="Data.Store.Internal.html#pokeSet"><span class="hs-identifier hs-var">pokeSet</span></a></span><span>
</span><span id="line-579"></span><span>    </span><span id="local-6989586621679540481"><span class="annot"><span class="annottext">peek :: Peek (HashSet a)
</span><a href="#local-6989586621679540481"><span class="hs-identifier hs-var hs-var hs-var hs-var">peek</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Peek (HashSet a)
forall t. (IsSet t, Store (Element t)) =&gt; Peek t
</span><a href="Data.Store.Internal.html#peekSet"><span class="hs-identifier hs-var">peekSet</span></a></span></span><span>
</span><span id="line-580"></span><span>
</span><span id="line-581"></span><span id="local-6989586621679540479"><span id="local-6989586621679540480"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">A.Ix</span></span><span> </span><span class="annot"><a href="#local-6989586621679540480"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540480"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540479"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">A.Array</span></span><span> </span><span class="annot"><a href="#local-6989586621679540480"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540479"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-582"></span><span>    </span><span id="local-6989586621679540475"><span class="annot"><span class="annottext">size :: Size (Array i e)
</span><a href="#local-6989586621679540475"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Size (Array i e)
forall i (a :: * -&gt; * -&gt; *) e.
(Ix i, IArray a e, Store i, Store e) =&gt;
Size (a i e)
</span><a href="Data.Store.Internal.html#sizeArray"><span class="hs-identifier hs-var">sizeArray</span></a></span><span>
</span><span id="line-583"></span><span>    </span><span id="local-6989586621679540474"><span class="annot"><span class="annottext">poke :: Array i e -&gt; Poke ()
</span><a href="#local-6989586621679540474"><span class="hs-identifier hs-var hs-var hs-var hs-var">poke</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Array i e -&gt; Poke ()
forall i (a :: * -&gt; * -&gt; *) e.
(Ix i, IArray a e, Store i, Store e) =&gt;
a i e -&gt; Poke ()
</span><a href="Data.Store.Internal.html#pokeArray"><span class="hs-identifier hs-var">pokeArray</span></a></span><span>
</span><span id="line-584"></span><span>    </span><span id="local-6989586621679540473"><span class="annot"><span class="annottext">peek :: Peek (Array i e)
</span><a href="#local-6989586621679540473"><span class="hs-identifier hs-var hs-var hs-var hs-var">peek</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Peek (Array i e)
forall i (a :: * -&gt; * -&gt; *) e.
(Ix i, IArray a e, Store i, Store e) =&gt;
Peek (a i e)
</span><a href="Data.Store.Internal.html#peekArray"><span class="hs-identifier hs-var">peekArray</span></a></span></span></span><span>
</span><span id="line-585"></span><span>
</span><span id="line-586"></span><span id="local-6989586621679540471"><span id="local-6989586621679540472"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">A.Ix</span></span><span> </span><span class="annot"><a href="#local-6989586621679540472"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">A.IArray</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">A.UArray</span></span><span> </span><span class="annot"><a href="#local-6989586621679540471"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540472"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540471"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">A.UArray</span></span><span> </span><span class="annot"><a href="#local-6989586621679540472"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540471"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-587"></span><span>    </span><span id="local-6989586621679540467"><span class="annot"><span class="annottext">size :: Size (UArray i e)
</span><a href="#local-6989586621679540467"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Size (UArray i e)
forall i (a :: * -&gt; * -&gt; *) e.
(Ix i, IArray a e, Store i, Store e) =&gt;
Size (a i e)
</span><a href="Data.Store.Internal.html#sizeArray"><span class="hs-identifier hs-var">sizeArray</span></a></span><span>
</span><span id="line-588"></span><span>    </span><span id="local-6989586621679540466"><span class="annot"><span class="annottext">poke :: UArray i e -&gt; Poke ()
</span><a href="#local-6989586621679540466"><span class="hs-identifier hs-var hs-var hs-var hs-var">poke</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UArray i e -&gt; Poke ()
forall i (a :: * -&gt; * -&gt; *) e.
(Ix i, IArray a e, Store i, Store e) =&gt;
a i e -&gt; Poke ()
</span><a href="Data.Store.Internal.html#pokeArray"><span class="hs-identifier hs-var">pokeArray</span></a></span><span>
</span><span id="line-589"></span><span>    </span><span id="local-6989586621679540465"><span class="annot"><span class="annottext">peek :: Peek (UArray i e)
</span><a href="#local-6989586621679540465"><span class="hs-identifier hs-var hs-var hs-var hs-var">peek</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Peek (UArray i e)
forall i (a :: * -&gt; * -&gt; *) e.
(Ix i, IArray a e, Store i, Store e) =&gt;
Peek (a i e)
</span><a href="Data.Store.Internal.html#peekArray"><span class="hs-identifier hs-var">peekArray</span></a></span></span></span><span>
</span><span id="line-590"></span><span>
</span><span id="line-591"></span><span id="local-6989586621679541271"><span id="local-6989586621679541272"><span id="local-6989586621679541273"><span class="annot"><a href="Data.Store.Internal.html#sizeArray"><span class="hs-identifier hs-type">sizeArray</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">A.Ix</span></span><span> </span><span class="annot"><a href="#local-6989586621679541273"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">A.IArray</span></span><span> </span><span class="annot"><a href="#local-6989586621679541272"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679541271"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679541273"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679541271"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Size"><span class="hs-identifier hs-type">Size</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679541272"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679541273"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679541271"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-592"></span><span id="sizeArray"><span class="annot"><span class="annottext">sizeArray :: Size (a i e)
</span><a href="Data.Store.Internal.html#sizeArray"><span class="hs-identifier hs-var hs-var">sizeArray</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a i e -&gt; Int) -&gt; Size (a i e)
forall a. (a -&gt; Int) -&gt; Size a
</span><a href="Data.Store.Impl.html#VarSize"><span class="hs-identifier hs-var">VarSize</span></a></span><span> </span><span class="annot"><span class="annottext">((a i e -&gt; Int) -&gt; Size (a i e)) -&gt; (a i e -&gt; Int) -&gt; Size (a i e)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679540464"><span class="annot"><span class="annottext">a i e
</span><a href="#local-6989586621679540464"><span class="hs-identifier hs-var">arr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-593"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679540463"><span class="annot"><span class="annottext">bounds :: (i, i)
</span><a href="#local-6989586621679540463"><span class="hs-identifier hs-var hs-var">bounds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a i e -&gt; (i, i)
forall (a :: * -&gt; * -&gt; *) e i.
(IArray a e, Ix i) =&gt;
a i e -&gt; (i, i)
</span><span class="hs-identifier hs-var">A.bounds</span></span><span> </span><span class="annot"><span class="annottext">a i e
</span><a href="#local-6989586621679540464"><span class="hs-identifier hs-var">arr</span></a></span><span>
</span><span id="line-594"></span><span>    </span><span class="hs-keyword">in</span><span>  </span><span class="annot"><span class="annottext">(i, i) -&gt; Int
forall a. Store a =&gt; a -&gt; Int
</span><a href="Data.Store.Impl.html#getSize"><span class="hs-identifier hs-var">getSize</span></a></span><span> </span><span class="annot"><span class="annottext">(i, i)
</span><a href="#local-6989586621679540463"><span class="hs-identifier hs-var">bounds</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span>
</span><span id="line-595"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Size e
forall a. Store a =&gt; Size a
</span><a href="Data.Store.Impl.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-596"></span><span>            </span><span class="annot"><a href="Data.Store.Impl.html#ConstSize"><span class="hs-identifier hs-type">ConstSize</span></a></span><span> </span><span id="local-6989586621679540461"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540461"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>  </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540461"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">(i, i) -&gt; Int
forall a. Ix a =&gt; (a, a) -&gt; Int
</span><span class="hs-identifier hs-var">A.rangeSize</span></span><span> </span><span class="annot"><span class="annottext">(i, i)
</span><a href="#local-6989586621679540463"><span class="hs-identifier hs-var">bounds</span></a></span><span>
</span><span id="line-597"></span><span>            </span><span class="annot"><a href="Data.Store.Impl.html#VarSize"><span class="hs-identifier hs-type">VarSize</span></a></span><span> </span><span id="local-6989586621679540459"><span class="annot"><span class="annottext">e -&gt; Int
</span><a href="#local-6989586621679540459"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; e -&gt; Int) -&gt; Int -&gt; [e] -&gt; Int
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl'</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679540458"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540458"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621679540457"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679540457"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540458"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">e -&gt; Int
</span><a href="#local-6989586621679540459"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679540457"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a i e -&gt; [e]
forall (a :: * -&gt; * -&gt; *) e i. (IArray a e, Ix i) =&gt; a i e -&gt; [e]
</span><span class="hs-identifier hs-var">A.elems</span></span><span> </span><span class="annot"><span class="annottext">a i e
</span><a href="#local-6989586621679540464"><span class="hs-identifier hs-var">arr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-598"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#sizeArray"><span class="hs-pragma hs-type">sizeArray</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-599"></span><span>
</span><span id="line-600"></span><span id="local-6989586621679541267"><span id="local-6989586621679541268"><span id="local-6989586621679541269"><span class="annot"><a href="Data.Store.Internal.html#pokeArray"><span class="hs-identifier hs-type">pokeArray</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">A.Ix</span></span><span> </span><span class="annot"><a href="#local-6989586621679541269"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">A.IArray</span></span><span> </span><span class="annot"><a href="#local-6989586621679541268"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679541267"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679541269"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679541267"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679541268"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679541269"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679541267"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Poke</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-601"></span><span id="pokeArray"><span class="annot"><span class="annottext">pokeArray :: a i e -&gt; Poke ()
</span><a href="Data.Store.Internal.html#pokeArray"><span class="hs-identifier hs-var hs-var">pokeArray</span></a></span></span><span> </span><span id="local-6989586621679540455"><span class="annot"><span class="annottext">a i e
</span><a href="#local-6989586621679540455"><span class="hs-identifier hs-var">arr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-602"></span><span>    </span><span class="annot"><span class="annottext">(i, i) -&gt; Poke ()
forall a. Store a =&gt; a -&gt; Poke ()
</span><a href="Data.Store.Impl.html#poke"><span class="hs-identifier hs-var">poke</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a i e -&gt; (i, i)
forall (a :: * -&gt; * -&gt; *) e i.
(IArray a e, Ix i) =&gt;
a i e -&gt; (i, i)
</span><span class="hs-identifier hs-var">A.bounds</span></span><span> </span><span class="annot"><span class="annottext">a i e
</span><a href="#local-6989586621679540455"><span class="hs-identifier hs-var">arr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-603"></span><span>    </span><span class="annot"><span class="annottext">[e] -&gt; (e -&gt; Poke ()) -&gt; Poke ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m ()
</span><span class="hs-identifier hs-var">forM_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a i e -&gt; [e]
forall (a :: * -&gt; * -&gt; *) e i. (IArray a e, Ix i) =&gt; a i e -&gt; [e]
</span><span class="hs-identifier hs-var">A.elems</span></span><span> </span><span class="annot"><span class="annottext">a i e
</span><a href="#local-6989586621679540455"><span class="hs-identifier hs-var">arr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">e -&gt; Poke ()
forall a. Store a =&gt; a -&gt; Poke ()
</span><a href="Data.Store.Impl.html#poke"><span class="hs-identifier hs-var">poke</span></a></span><span>
</span><span id="line-604"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#pokeArray"><span class="hs-pragma hs-type">pokeArray</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-605"></span><span>
</span><span id="line-606"></span><span id="local-6989586621679541264"><span id="local-6989586621679541265"><span id="local-6989586621679541266"><span class="annot"><a href="Data.Store.Internal.html#peekArray"><span class="hs-identifier hs-type">peekArray</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">A.Ix</span></span><span> </span><span class="annot"><a href="#local-6989586621679541266"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">A.IArray</span></span><span> </span><span class="annot"><a href="#local-6989586621679541265"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679541264"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679541266"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679541264"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Peek</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679541265"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679541266"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679541264"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-607"></span><span id="peekArray"><span class="annot"><span class="annottext">peekArray :: Peek (a i e)
</span><a href="Data.Store.Internal.html#peekArray"><span class="hs-identifier hs-var hs-var">peekArray</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-608"></span><span>    </span><span id="local-6989586621679540454"><span class="annot"><span class="annottext">(i, i)
</span><a href="#local-6989586621679540454"><span class="hs-identifier hs-var">bounds</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Peek (i, i)
forall a. Store a =&gt; Peek a
</span><a href="Data.Store.Impl.html#peek"><span class="hs-identifier hs-var">peek</span></a></span><span>
</span><span id="line-609"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679540453"><span class="annot"><span class="annottext">len :: Int
</span><a href="#local-6989586621679540453"><span class="hs-identifier hs-var hs-var">len</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(i, i) -&gt; Int
forall a. Ix a =&gt; (a, a) -&gt; Int
</span><span class="hs-identifier hs-var">A.rangeSize</span></span><span> </span><span class="annot"><span class="annottext">(i, i)
</span><a href="#local-6989586621679540454"><span class="hs-identifier hs-var">bounds</span></a></span><span>
</span><span id="line-610"></span><span>    </span><span id="local-6989586621679540452"><span class="annot"><span class="annottext">[e]
</span><a href="#local-6989586621679540452"><span class="hs-identifier hs-var">elems</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Index [e] -&gt; Peek (Element [e]) -&gt; Peek [e]
forall seq (m :: * -&gt; *).
(IsSequence seq, Monad m) =&gt;
Index seq -&gt; m (Element seq) -&gt; m seq
</span><span class="hs-identifier hs-var">replicateM</span></span><span> </span><span class="annot"><span class="annottext">Int
Index [e]
</span><a href="#local-6989586621679540453"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="annot"><span class="annottext">Peek (Element [e])
forall a. Store a =&gt; Peek a
</span><a href="Data.Store.Impl.html#peek"><span class="hs-identifier hs-var">peek</span></a></span><span>
</span><span id="line-611"></span><span>    </span><span class="annot"><span class="annottext">a i e -&gt; Peek (a i e)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(i, i) -&gt; [e] -&gt; a i e
forall (a :: * -&gt; * -&gt; *) e i.
(IArray a e, Ix i) =&gt;
(i, i) -&gt; [e] -&gt; a i e
</span><span class="hs-identifier hs-var">A.listArray</span></span><span> </span><span class="annot"><span class="annottext">(i, i)
</span><a href="#local-6989586621679540454"><span class="hs-identifier hs-var">bounds</span></a></span><span> </span><span class="annot"><span class="annottext">[e]
</span><a href="#local-6989586621679540452"><span class="hs-identifier hs-var">elems</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-612"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Store.Internal.html#peekArray"><span class="hs-pragma hs-type">peekArray</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-613"></span><span>
</span><span id="line-614"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-keyword">where</span><span class="hs-cpp">
#ifdef INTEGER_GMP
</span><span class="hs-cpp">#if MIN_VERSION_integer_gmp(1,0,0)
</span><span>    </span><span id="local-6989586621679540447"><span class="annot"><span class="annottext">size :: Size Integer
</span><a href="#local-6989586621679540447"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Int) -&gt; Size Integer
forall a. (a -&gt; Int) -&gt; Size a
</span><a href="Data.Store.Impl.html#VarSize"><span class="hs-identifier hs-var">VarSize</span></a></span><span> </span><span class="annot"><span class="annottext">((Integer -&gt; Int) -&gt; Size Integer)
-&gt; (Integer -&gt; Int) -&gt; Size Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621679540446"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679540446"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-618"></span><span>        </span><span class="annot"><span class="annottext">Word8 -&gt; Int
forall a. Storable a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">sizeOf</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679540446"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-619"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">I.S#</span></span><span> </span><span class="annot"><span class="annottext">Int#
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int
forall a. Storable a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">sizeOf</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span>
</span><span id="line-620"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">I.Jp#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">I.BN#</span></span><span> </span><span id="local-6989586621679540443"><span class="annot"><span class="annottext">ByteArray#
</span><a href="#local-6989586621679540443"><span class="hs-identifier hs-var">arr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int
forall a. Storable a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">sizeOf</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Int# -&gt; Int
</span><span class="hs-identifier hs-var">I#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteArray# -&gt; Int#
</span><span class="hs-identifier hs-var">sizeofByteArray#</span></span><span> </span><span class="annot"><span class="annottext">ByteArray#
</span><a href="#local-6989586621679540443"><span class="hs-identifier hs-var">arr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-621"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">I.Jn#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">I.BN#</span></span><span> </span><span id="local-6989586621679540441"><span class="annot"><span class="annottext">ByteArray#
</span><a href="#local-6989586621679540441"><span class="hs-identifier hs-var">arr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int
forall a. Storable a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">sizeOf</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Int# -&gt; Int
</span><span class="hs-identifier hs-var">I#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteArray# -&gt; Int#
</span><span class="hs-identifier hs-var">sizeofByteArray#</span></span><span> </span><span class="annot"><span class="annottext">ByteArray#
</span><a href="#local-6989586621679540441"><span class="hs-identifier hs-var">arr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-622"></span><span>    </span><span id="local-6989586621679540440"><span class="annot"><span class="annottext">poke :: Integer -&gt; Poke ()
</span><a href="#local-6989586621679540440"><span class="hs-identifier hs-var hs-var hs-var hs-var">poke</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">I.S#</span></span><span> </span><span id="local-6989586621679540439"><span class="annot"><span class="annottext">Int#
</span><a href="#local-6989586621679540439"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Poke ()
forall a. Store a =&gt; a -&gt; Poke ()
</span><a href="Data.Store.Impl.html#poke"><span class="hs-identifier hs-var">poke</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Poke () -&gt; Poke () -&gt; Poke ()
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Poke ()
forall a. Store a =&gt; a -&gt; Poke ()
</span><a href="Data.Store.Impl.html#poke"><span class="hs-identifier hs-var">poke</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int# -&gt; Int
</span><span class="hs-identifier hs-var">I#</span></span><span> </span><span class="annot"><span class="annottext">Int#
</span><a href="#local-6989586621679540439"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-623"></span><span>    </span><span class="annot"><a href="Data.Store.Impl.html#poke"><span class="hs-identifier hs-var">poke</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">I.Jp#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">I.BN#</span></span><span> </span><span id="local-6989586621679540438"><span class="annot"><span class="annottext">ByteArray#
</span><a href="#local-6989586621679540438"><span class="hs-identifier hs-var">arr</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-624"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679540437"><span class="annot"><span class="annottext">len :: Int
</span><a href="#local-6989586621679540437"><span class="hs-identifier hs-var hs-var">len</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int# -&gt; Int
</span><span class="hs-identifier hs-var">I#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteArray# -&gt; Int#
</span><span class="hs-identifier hs-var">sizeofByteArray#</span></span><span> </span><span class="annot"><span class="annottext">ByteArray#
</span><a href="#local-6989586621679540438"><span class="hs-identifier hs-var">arr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-625"></span><span>        </span><span class="annot"><span class="annottext">Word8 -&gt; Poke ()
forall a. Store a =&gt; a -&gt; Poke ()
</span><a href="Data.Store.Impl.html#poke"><span class="hs-identifier hs-var">poke</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span class="hs-special">)</span><span>
</span><span id="line-626"></span><span>        </span><span class="annot"><span class="annottext">Int -&gt; Poke ()
forall a. Store a =&gt; a -&gt; Poke ()
</span><a href="Data.Store.Impl.html#poke"><span class="hs-identifier hs-var">poke</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540437"><span class="hs-identifier hs-var">len</span></a></span><span>
</span><span id="line-627"></span><span>        </span><span class="annot"><span class="annottext">ByteArray# -&gt; Int -&gt; Int -&gt; Poke ()
</span><span class="hs-identifier hs-var">pokeFromByteArray</span></span><span> </span><span class="annot"><span class="annottext">ByteArray#
</span><a href="#local-6989586621679540438"><span class="hs-identifier hs-var">arr</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540437"><span class="hs-identifier hs-var">len</span></a></span><span>
</span><span id="line-628"></span><span>    </span><span class="annot"><a href="Data.Store.Impl.html#poke"><span class="hs-identifier hs-var">poke</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">I.Jn#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">I.BN#</span></span><span> </span><span id="local-6989586621679540436"><span class="annot"><span class="annottext">ByteArray#
</span><a href="#local-6989586621679540436"><span class="hs-identifier hs-var">arr</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-629"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679540435"><span class="annot"><span class="annottext">len :: Int
</span><a href="#local-6989586621679540435"><span class="hs-identifier hs-var hs-var">len</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int# -&gt; Int
</span><span class="hs-identifier hs-var">I#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteArray# -&gt; Int#
</span><span class="hs-identifier hs-var">sizeofByteArray#</span></span><span> </span><span class="annot"><span class="annottext">ByteArray#
</span><a href="#local-6989586621679540436"><span class="hs-identifier hs-var">arr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-630"></span><span>        </span><span class="annot"><span class="annottext">Word8 -&gt; Poke ()
forall a. Store a =&gt; a -&gt; Poke ()
</span><a href="Data.Store.Impl.html#poke"><span class="hs-identifier hs-var">poke</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">2</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span class="hs-special">)</span><span>
</span><span id="line-631"></span><span>        </span><span class="annot"><span class="annottext">Int -&gt; Poke ()
forall a. Store a =&gt; a -&gt; Poke ()
</span><a href="Data.Store.Impl.html#poke"><span class="hs-identifier hs-var">poke</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540435"><span class="hs-identifier hs-var">len</span></a></span><span>
</span><span id="line-632"></span><span>        </span><span class="annot"><span class="annottext">ByteArray# -&gt; Int -&gt; Int -&gt; Poke ()
</span><span class="hs-identifier hs-var">pokeFromByteArray</span></span><span> </span><span class="annot"><span class="annottext">ByteArray#
</span><a href="#local-6989586621679540436"><span class="hs-identifier hs-var">arr</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540435"><span class="hs-identifier hs-var">len</span></a></span><span>
</span><span id="line-633"></span><span>    </span><span id="local-6989586621679540434"><span class="annot"><span class="annottext">peek :: Peek Integer
</span><a href="#local-6989586621679540434"><span class="hs-identifier hs-var hs-var hs-var hs-var">peek</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-634"></span><span>        </span><span id="local-6989586621679540433"><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679540433"><span class="hs-identifier hs-var">tag</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Peek Word8
forall a. Store a =&gt; Peek a
</span><a href="Data.Store.Impl.html#peek"><span class="hs-identifier hs-var">peek</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Peek</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span>
</span><span id="line-635"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679540433"><span class="hs-identifier hs-var">tag</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-636"></span><span>            </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Integer) -&gt; Peek Int -&gt; Peek Integer
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Peek Int
forall a. Store a =&gt; Peek a
</span><a href="Data.Store.Impl.html#peek"><span class="hs-identifier hs-var">peek</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Peek</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span>
</span><span id="line-637"></span><span>            </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">BigNat -&gt; Integer
</span><span class="hs-identifier hs-var">I.Jp#</span></span><span> </span><span class="annot"><span class="annottext">(BigNat -&gt; Integer) -&gt; Peek BigNat -&gt; Peek Integer
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Peek BigNat
</span><a href="#local-6989586621679540432"><span class="hs-identifier hs-var">peekBN</span></a></span><span>
</span><span id="line-638"></span><span>            </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">2</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">BigNat -&gt; Integer
</span><span class="hs-identifier hs-var">I.Jn#</span></span><span> </span><span class="annot"><span class="annottext">(BigNat -&gt; Integer) -&gt; Peek BigNat -&gt; Peek Integer
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Peek BigNat
</span><a href="#local-6989586621679540432"><span class="hs-identifier hs-var">peekBN</span></a></span><span>
</span><span id="line-639"></span><span>            </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Peek Integer
forall a. Text -&gt; Peek a
</span><span class="hs-identifier hs-var">peekException</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Invalid Integer tag&quot;</span></span><span>
</span><span id="line-640"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-641"></span><span>        </span><span id="local-6989586621679540432"><span class="annot"><span class="annottext">peekBN :: Peek BigNat
</span><a href="#local-6989586621679540432"><span class="hs-identifier hs-var hs-var">peekBN</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-642"></span><span>          </span><span id="local-6989586621679540431"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540431"><span class="hs-identifier hs-var">len</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Peek Int
forall a. Store a =&gt; Peek a
</span><a href="Data.Store.Impl.html#peek"><span class="hs-identifier hs-var">peek</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Peek</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-643"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">ByteArray</span></span><span> </span><span id="local-6989586621679540430"><span class="annot"><span class="annottext">ByteArray#
</span><a href="#local-6989586621679540430"><span class="hs-identifier hs-var">arr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; Int -&gt; Peek ByteArray
</span><span class="hs-identifier hs-var">peekToByteArray</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;GHC&gt;Integer&quot;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679540431"><span class="hs-identifier hs-var">len</span></a></span><span>
</span><span id="line-644"></span><span>          </span><span class="annot"><span class="annottext">BigNat -&gt; Peek BigNat
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(BigNat -&gt; Peek BigNat) -&gt; BigNat -&gt; Peek BigNat
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ByteArray# -&gt; BigNat
</span><span class="hs-identifier hs-var">I.BN#</span></span><span> </span><span class="annot"><span class="annottext">ByteArray#
</span><a href="#local-6989586621679540430"><span class="hs-identifier hs-var">arr</span></a></span><span class="hs-cpp">
#else
</span><span>    </span><span class="hs-comment">-- May as well put in the extra effort to use the same encoding as</span><span>
</span><span id="line-647"></span><span>    </span><span class="hs-comment">-- used for the newer integer-gmp.</span><span>
</span><span id="line-648"></span><span>    </span><span class="hs-identifier">size</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">VarSize</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-identifier">x</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-649"></span><span>        </span><span class="hs-identifier">sizeOf</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">undefined</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Word8</span><span class="hs-special">)</span><span> </span><span class="hs-operator">+</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">x</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-650"></span><span>            </span><span class="hs-identifier">I.S#</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">sizeOf</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">undefined</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">)</span><span>
</span><span id="line-651"></span><span>            </span><span class="hs-identifier">I.J#</span><span> </span><span class="hs-identifier">sz</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">sizeOf</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">undefined</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">)</span><span> </span><span class="hs-operator">+</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">I#</span><span> </span><span class="hs-identifier">sz</span><span class="hs-special">)</span><span> </span><span class="hs-operator">*</span><span> </span><span class="hs-identifier">sizeOf</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">undefined</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Word</span><span class="hs-special">)</span><span>
</span><span id="line-652"></span><span>    </span><span class="hs-identifier">poke</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">I.S#</span><span> </span><span class="hs-identifier">x</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">poke</span><span> </span><span class="hs-special">(</span><span class="hs-number">0</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Word8</span><span class="hs-special">)</span><span> </span><span class="hs-operator">&gt;&gt;</span><span> </span><span class="hs-identifier">poke</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">I#</span><span> </span><span class="hs-identifier">x</span><span class="hs-special">)</span><span>
</span><span id="line-653"></span><span>    </span><span class="hs-identifier">poke</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">I.J#</span><span> </span><span class="hs-identifier">sz</span><span> </span><span class="hs-identifier">arr</span><span class="hs-special">)</span><span>
</span><span id="line-654"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">I#</span><span> </span><span class="hs-identifier">sz</span><span class="hs-special">)</span><span> </span><span class="hs-operator">&gt;</span><span> </span><span class="hs-number">0</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-655"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span class="hs-identifier">len</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">I#</span><span> </span><span class="hs-identifier">sz</span><span> </span><span class="hs-operator">*</span><span> </span><span class="hs-identifier">sizeOf</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">undefined</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Word</span><span class="hs-special">)</span><span>
</span><span id="line-656"></span><span>            </span><span class="hs-identifier">poke</span><span> </span><span class="hs-special">(</span><span class="hs-number">1</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Word8</span><span class="hs-special">)</span><span>
</span><span id="line-657"></span><span>            </span><span class="hs-identifier">poke</span><span> </span><span class="hs-identifier">len</span><span>
</span><span id="line-658"></span><span>            </span><span class="hs-identifier">pokeFromByteArray</span><span> </span><span class="hs-identifier">arr</span><span> </span><span class="hs-number">0</span><span> </span><span class="hs-identifier">len</span><span>
</span><span id="line-659"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">I#</span><span> </span><span class="hs-identifier">sz</span><span class="hs-special">)</span><span> </span><span class="hs-operator">&lt;</span><span> </span><span class="hs-number">0</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-660"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span class="hs-identifier">len</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">negate</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">I#</span><span> </span><span class="hs-identifier">sz</span><span class="hs-special">)</span><span> </span><span class="hs-operator">*</span><span> </span><span class="hs-identifier">sizeOf</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">undefined</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Word</span><span class="hs-special">)</span><span>
</span><span id="line-661"></span><span>            </span><span class="hs-identifier">poke</span><span> </span><span class="hs-special">(</span><span class="hs-number">2</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Word8</span><span class="hs-special">)</span><span>
</span><span id="line-662"></span><span>            </span><span class="hs-identifier">poke</span><span> </span><span class="hs-identifier">len</span><span>
</span><span id="line-663"></span><span>            </span><span class="hs-identifier">pokeFromByteArray</span><span> </span><span class="hs-identifier">arr</span><span> </span><span class="hs-number">0</span><span> </span><span class="hs-identifier">len</span><span>
</span><span id="line-664"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">otherwise</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-665"></span><span>            </span><span class="hs-identifier">poke</span><span> </span><span class="hs-special">(</span><span class="hs-number">0</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Word8</span><span class="hs-special">)</span><span>
</span><span id="line-666"></span><span>            </span><span class="hs-identifier">poke</span><span> </span><span class="hs-special">(</span><span class="hs-number">0</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">)</span><span>
</span><span id="line-667"></span><span>    </span><span class="hs-identifier">peek</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-668"></span><span>        </span><span class="hs-identifier">tag</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">peek</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Peek</span><span> </span><span class="hs-identifier">Word8</span><span>
</span><span id="line-669"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">tag</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-670"></span><span>            </span><span class="hs-number">0</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">fromIntegral</span><span> </span><span class="hs-operator">&lt;$&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">peek</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Peek</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">)</span><span>
</span><span id="line-671"></span><span>            </span><span class="hs-number">1</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">peekJ</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-672"></span><span>            </span><span class="hs-number">2</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">peekJ</span><span> </span><span class="hs-identifier">True</span><span>
</span><span id="line-673"></span><span>            </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">peekException</span><span> </span><span class="hs-string">&quot;Invalid Integer tag&quot;</span><span>
</span><span id="line-674"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-675"></span><span>        </span><span class="hs-identifier">peekJ</span><span> </span><span class="hs-identifier">neg</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-676"></span><span>          </span><span class="hs-identifier">len</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">peek</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Peek</span><span> </span><span class="hs-identifier">Int</span><span>
</span><span id="line-677"></span><span>          </span><span class="hs-identifier">ByteArray</span><span> </span><span class="hs-identifier">arr</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">peekToByteArray</span><span> </span><span class="hs-string">&quot;GHC&gt;Integer&quot;</span><span> </span><span class="hs-identifier">len</span><span>
</span><span id="line-678"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">sz0</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">r</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">len</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">divMod</span><span class="hs-special">`</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">sizeOf</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">undefined</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Word</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-679"></span><span>              </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="hs-identifier">I#</span><span> </span><span class="hs-identifier">sz</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="hs-identifier">neg</span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-identifier">negate</span><span> </span><span class="hs-identifier">sz0</span><span> </span><span class="hs-keyword">else</span><span> </span><span class="hs-identifier">sz0</span><span>
</span><span id="line-680"></span><span>          </span><span class="hs-identifier">when</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">r</span><span> </span><span class="hs-operator">/=</span><span> </span><span class="hs-number">0</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">peekException</span><span> </span><span class="hs-string">&quot;Buffer size stored for encoded Integer not divisible by Word size (to get limb count).&quot;</span><span class="hs-special">)</span><span>
</span><span id="line-681"></span><span>          </span><span class="hs-identifier">return</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">I.J#</span><span> </span><span class="hs-identifier">sz</span><span> </span><span class="hs-identifier">arr</span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span class="hs-cpp">#else
</span><span>    </span><span class="hs-comment">-- NOTE: integer-simple uses a different encoding than GMP</span><span>
</span><span id="line-685"></span><span>    </span><span class="hs-identifier">size</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">VarSize</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-identifier">x</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-686"></span><span>        </span><span class="hs-identifier">sizeOf</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">undefined</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Word8</span><span class="hs-special">)</span><span> </span><span class="hs-operator">+</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">x</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-687"></span><span>            </span><span class="hs-identifier">I.Positive</span><span> </span><span class="hs-identifier">ds</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-number">1</span><span> </span><span class="hs-operator">+</span><span> </span><span class="hs-identifier">fromIntegral</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">numDigits</span><span> </span><span class="hs-identifier">ds</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-operator">*</span><span> </span><span class="hs-identifier">sizeOf</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">undefined</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Word</span><span class="hs-special">)</span><span>
</span><span id="line-688"></span><span>            </span><span class="hs-identifier">I.Negative</span><span> </span><span class="hs-identifier">ds</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-number">1</span><span> </span><span class="hs-operator">+</span><span> </span><span class="hs-identifier">fromIntegral</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">numDigits</span><span> </span><span class="hs-identifier">ds</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-operator">*</span><span> </span><span class="hs-identifier">sizeOf</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">undefined</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Word</span><span class="hs-special">)</span><span>
</span><span id="line-689"></span><span>            </span><span class="hs-identifier">I.Naught</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">0</span><span>
</span><span id="line-690"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-691"></span><span>    </span><span class="hs-identifier">poke</span><span> </span><span class="hs-identifier">x</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">x</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-692"></span><span>      </span><span class="hs-identifier">I.Naught</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">poke</span><span> </span><span class="hs-special">(</span><span class="hs-number">0</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Word8</span><span class="hs-special">)</span><span>
</span><span id="line-693"></span><span>      </span><span class="hs-identifier">I.Positive</span><span> </span><span class="hs-identifier">ds</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-694"></span><span>        </span><span class="hs-identifier">poke</span><span> </span><span class="hs-special">(</span><span class="hs-number">1</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Word8</span><span class="hs-special">)</span><span>
</span><span id="line-695"></span><span>        </span><span class="hs-identifier">poke</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">numDigits</span><span> </span><span class="hs-identifier">ds</span><span class="hs-special">)</span><span>
</span><span id="line-696"></span><span>        </span><span class="hs-identifier">pokeDigits</span><span> </span><span class="hs-identifier">ds</span><span>
</span><span id="line-697"></span><span>      </span><span class="hs-identifier">I.Negative</span><span> </span><span class="hs-identifier">ds</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-698"></span><span>        </span><span class="hs-identifier">poke</span><span> </span><span class="hs-special">(</span><span class="hs-number">2</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Word8</span><span class="hs-special">)</span><span>
</span><span id="line-699"></span><span>        </span><span class="hs-identifier">poke</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">numDigits</span><span> </span><span class="hs-identifier">ds</span><span class="hs-special">)</span><span>
</span><span id="line-700"></span><span>        </span><span class="hs-identifier">pokeDigits</span><span> </span><span class="hs-identifier">ds</span><span>
</span><span id="line-701"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-702"></span><span>        </span><span class="hs-identifier">pokeDigits</span><span> </span><span class="hs-identifier">I.None</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">pure</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-703"></span><span>        </span><span class="hs-identifier">pokeDigits</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">I.Some</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-identifier">ds</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">poke</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">W#</span><span> </span><span class="hs-identifier">d</span><span class="hs-special">)</span><span> </span><span class="hs-operator">*&gt;</span><span> </span><span class="hs-identifier">pokeDigits</span><span> </span><span class="hs-identifier">ds</span><span>
</span><span id="line-704"></span><span>    </span><span class="hs-identifier">peek</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-705"></span><span>      </span><span class="hs-identifier">tag</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">peek</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Peek</span><span> </span><span class="hs-identifier">Word8</span><span>
</span><span id="line-706"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">tag</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-707"></span><span>        </span><span class="hs-number">0</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">pure</span><span> </span><span class="hs-identifier">I.Naught</span><span>
</span><span id="line-708"></span><span>        </span><span class="hs-number">1</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-709"></span><span>          </span><span class="hs-identifier">len</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">peek</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Peek</span><span> </span><span class="hs-identifier">Word</span><span>
</span><span id="line-710"></span><span>          </span><span class="hs-identifier">I.Positive</span><span> </span><span class="hs-operator">&lt;$&gt;</span><span> </span><span class="hs-identifier">peekDigits</span><span> </span><span class="hs-identifier">len</span><span>
</span><span id="line-711"></span><span>        </span><span class="hs-number">2</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-712"></span><span>          </span><span class="hs-identifier">len</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">peek</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Peek</span><span> </span><span class="hs-identifier">Word</span><span>
</span><span id="line-713"></span><span>          </span><span class="hs-identifier">I.Negative</span><span> </span><span class="hs-operator">&lt;$&gt;</span><span> </span><span class="hs-identifier">peekDigits</span><span> </span><span class="hs-identifier">len</span><span>
</span><span id="line-714"></span><span>        </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">peekException</span><span> </span><span class="hs-string">&quot;Invalid Integer tag&quot;</span><span>
</span><span id="line-715"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-716"></span><span>        </span><span class="hs-identifier">peekDigits</span><span> </span><span class="hs-identifier">i</span><span>
</span><span id="line-717"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">i</span><span> </span><span class="hs-operator">&lt;=</span><span> </span><span class="hs-number">0</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">pure</span><span> </span><span class="hs-identifier">I.None</span><span>
</span><span id="line-718"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">otherwise</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-719"></span><span>              </span><span class="hs-identifier">W#</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">peek</span><span>
</span><span id="line-720"></span><span>              </span><span class="hs-identifier">ds</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">peekDigits</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">i</span><span> </span><span class="hs-glyph">-</span><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span>
</span><span id="line-721"></span><span>              </span><span class="hs-identifier">pure</span><span> </span><span class="hs-operator">$!</span><span> </span><span class="hs-identifier">I.Some</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-identifier">ds</span><span>
</span><span id="line-722"></span><span>
</span><span id="line-723"></span><span class="hs-identifier">numDigits</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">I.Digits</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Word</span><span>
</span><span id="line-724"></span><span class="hs-identifier">numDigits</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">go</span><span> </span><span class="hs-number">0</span><span>
</span><span id="line-725"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span class="hs-identifier">go</span><span> </span><span class="hs-glyph">!</span><span class="hs-identifier">acc</span><span> </span><span class="hs-identifier">I.None</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">acc</span><span>
</span><span id="line-726"></span><span>        </span><span class="hs-identifier">go</span><span> </span><span class="hs-glyph">!</span><span class="hs-identifier">acc</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">I.Some</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">ds</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">acc</span><span> </span><span class="hs-operator">+</span><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">ds</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-729"></span><span class="hs-comment">-- Piggybacks off of the Integer instance</span><span>
</span><span id="line-730"></span><span>
</span><span id="line-731"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Natural</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-732"></span><span>  </span><span id="local-6989586621679540426"><span class="annot"><span class="annottext">size :: Size Natural
</span><a href="#local-6989586621679540426"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Natural -&gt; Integer) -&gt; Size Integer -&gt; Size Natural
forall (f :: * -&gt; *) a b. Contravariant f =&gt; (a -&gt; b) -&gt; f b -&gt; f a
</span><span class="hs-identifier hs-var">contramap</span></span><span> </span><span class="annot"><span class="annottext">Natural -&gt; Integer
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Size Integer
forall a. Store a =&gt; Size a
</span><a href="Data.Store.Impl.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Size"><span class="hs-identifier hs-type">Size</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span class="hs-special">)</span><span>
</span><span id="line-733"></span><span>  </span><span id="local-6989586621679540424"><span class="annot"><span class="annottext">poke :: Natural -&gt; Poke ()
</span><a href="#local-6989586621679540424"><span class="hs-identifier hs-var hs-var hs-var hs-var">poke</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Poke ()
forall a. Store a =&gt; a -&gt; Poke ()
</span><a href="Data.Store.Impl.html#poke"><span class="hs-identifier hs-var">poke</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Poke ()) -&gt; (Natural -&gt; Integer) -&gt; Natural -&gt; Poke ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Natural -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">toInteger</span></span><span>
</span><span id="line-734"></span><span>  </span><span id="local-6989586621679540423"><span class="annot"><span class="annottext">peek :: Peek Natural
</span><a href="#local-6989586621679540423"><span class="hs-identifier hs-var hs-var hs-var hs-var">peek</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-735"></span><span>      </span><span id="local-6989586621679540422"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679540422"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Peek Integer
forall a. Store a =&gt; Peek a
</span><a href="Data.Store.Impl.html#peek"><span class="hs-identifier hs-var">peek</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Peek</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span>
</span><span id="line-736"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679540422"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span>
</span><span id="line-737"></span><span>          </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Peek Natural
forall a. Text -&gt; Peek a
</span><span class="hs-identifier hs-var">peekException</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Encountered negative integer when expecting a Natural&quot;</span></span><span>
</span><span id="line-738"></span><span>          </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Natural -&gt; Peek Natural
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Natural -&gt; Peek Natural) -&gt; Natural -&gt; Peek Natural
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Natural
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679540422"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-739"></span><span>
</span><span id="line-740"></span><span class="hs-comment">------------------------------------------------------------------------</span><span>
</span><span id="line-741"></span><span class="hs-comment">-- Other instances</span><span>
</span><span id="line-742"></span><span>
</span><span id="line-743"></span><span class="hs-comment">-- Manual implementation due to no Generic instance for Ratio. Also due</span><span>
</span><span id="line-744"></span><span class="hs-comment">-- to the instance for Storable erroring when the denominator is 0.</span><span>
</span><span id="line-745"></span><span class="hs-comment">-- Perhaps we should keep the behavior but instead a peekException?</span><span>
</span><span id="line-746"></span><span class="hs-comment">--</span><span>
</span><span id="line-747"></span><span class="hs-comment">-- In that case it should also error on poke.</span><span>
</span><span id="line-748"></span><span class="hs-comment">--</span><span>
</span><span id="line-749"></span><span class="hs-comment">-- I prefer being able to Store these, because they are constructable.</span><span>
</span><span id="line-750"></span><span>
</span><span id="line-751"></span><span id="local-6989586621679540420"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540420"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ratio</span></span><span> </span><span class="annot"><a href="#local-6989586621679540420"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-752"></span><span>    </span><span id="local-6989586621679540416"><span class="annot"><span class="annottext">size :: Size (Ratio a)
</span><a href="#local-6989586621679540416"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Ratio a -&gt; a) -&gt; (Ratio a -&gt; a) -&gt; Size (Ratio a)
forall a b c. (Store a, Store b) =&gt; (c -&gt; a) -&gt; (c -&gt; b) -&gt; Size c
</span><a href="Data.Store.Impl.html#combineSize"><span class="hs-identifier hs-var">combineSize</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679540415"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679540415"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:%</span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679540415"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:%</span></span><span> </span><span id="local-6989586621679540414"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679540414"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679540414"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-753"></span><span>    </span><span id="local-6989586621679540413"><span class="annot"><span class="annottext">poke :: Ratio a -&gt; Poke ()
</span><a href="#local-6989586621679540413"><span class="hs-identifier hs-var hs-var hs-var hs-var">poke</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679540412"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679540412"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:%</span></span><span> </span><span id="local-6989586621679540411"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679540411"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a, a) -&gt; Poke ()
forall a. Store a =&gt; a -&gt; Poke ()
</span><a href="Data.Store.Impl.html#poke"><span class="hs-identifier hs-var">poke</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679540412"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679540411"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-754"></span><span>    </span><span id="local-6989586621679540410"><span class="annot"><span class="annottext">peek :: Peek (Ratio a)
</span><a href="#local-6989586621679540410"><span class="hs-identifier hs-var hs-var hs-var hs-var">peek</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a -&gt; Ratio a) -&gt; (a, a) -&gt; Ratio a
forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span><span class="hs-identifier hs-var">uncurry</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Ratio a
forall a. a -&gt; a -&gt; Ratio a
</span><span class="hs-operator hs-var">(:%)</span></span><span> </span><span class="annot"><span class="annottext">((a, a) -&gt; Ratio a) -&gt; Peek (a, a) -&gt; Peek (Ratio a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Peek (a, a)
forall a. Store a =&gt; Peek a
</span><a href="Data.Store.Impl.html#peek"><span class="hs-identifier hs-var">peek</span></a></span></span><span>
</span><span id="line-755"></span><span>
</span><span id="line-756"></span><span class="hs-comment">-- Similarly, manual implementation due to no Generic instance for</span><span>
</span><span id="line-757"></span><span class="hs-comment">-- Complex and Identity in GHC-7.10 and earlier.</span><span>
</span><span id="line-758"></span><span>
</span><span id="line-759"></span><span class="hs-special">$(</span><span id="local-6989586621679540402"><span id="local-6989586621679540404"><span id="local-6989586621679540406"><span id="local-6989586621679540408"><span class="hs-special">$(</span><span class="hs-identifier">derive</span><span> </span><span class="hs-special">[d|</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Store</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Fixed</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">|]</span><span class="hs-special">)</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-760"></span><span>
</span><span id="line-761"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Time.DiffTime</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-762"></span><span>    </span><span id="local-6989586621679540398"><span class="annot"><span class="annottext">size :: Size DiffTime
</span><a href="#local-6989586621679540398"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(DiffTime -&gt; Pico) -&gt; Size Pico -&gt; Size DiffTime
forall (f :: * -&gt; *) a b. Contravariant f =&gt; (a -&gt; b) -&gt; f b -&gt; f a
</span><span class="hs-identifier hs-var">contramap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DiffTime -&gt; Pico
forall a b. (Real a, Fractional b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">realToFrac</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Time.DiffTime</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Pico</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Size Pico
forall a. Store a =&gt; Size a
</span><a href="Data.Store.Impl.html#size"><span class="hs-identifier hs-var">size</span></a></span><span>
</span><span id="line-763"></span><span>    </span><span id="local-6989586621679540397"><span class="annot"><span class="annottext">poke :: DiffTime -&gt; Poke ()
</span><a href="#local-6989586621679540397"><span class="hs-identifier hs-var hs-var hs-var hs-var">poke</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Pico -&gt; Poke ()
forall a. Store a =&gt; a -&gt; Poke ()
</span><a href="Data.Store.Impl.html#poke"><span class="hs-identifier hs-var">poke</span></a></span><span> </span><span class="annot"><span class="annottext">(Pico -&gt; Poke ()) -&gt; (DiffTime -&gt; Pico) -&gt; DiffTime -&gt; Poke ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DiffTime -&gt; Pico
forall a b. (Real a, Fractional b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">realToFrac</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Time.DiffTime</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Pico</span></span><span class="hs-special">)</span><span>
</span><span id="line-764"></span><span>    </span><span id="local-6989586621679540396"><span class="annot"><span class="annottext">peek :: Peek DiffTime
</span><a href="#local-6989586621679540396"><span class="hs-identifier hs-var hs-var hs-var hs-var">peek</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pico -&gt; DiffTime
forall a b. (Real a, Fractional b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">realToFrac</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Pico</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Time.DiffTime</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Pico -&gt; DiffTime) -&gt; Peek Pico -&gt; Peek DiffTime
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Peek Pico
forall a. Store a =&gt; Peek a
</span><a href="Data.Store.Impl.html#peek"><span class="hs-identifier hs-var">peek</span></a></span><span>
</span><span id="line-765"></span><span>
</span><span id="line-766"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Time.NominalDiffTime</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-767"></span><span>    </span><span id="local-6989586621679540392"><span class="annot"><span class="annottext">size :: Size NominalDiffTime
</span><a href="#local-6989586621679540392"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(NominalDiffTime -&gt; Pico) -&gt; Size Pico -&gt; Size NominalDiffTime
forall (f :: * -&gt; *) a b. Contravariant f =&gt; (a -&gt; b) -&gt; f b -&gt; f a
</span><span class="hs-identifier hs-var">contramap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NominalDiffTime -&gt; Pico
forall a b. (Real a, Fractional b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">realToFrac</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Time.NominalDiffTime</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Pico</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Size Pico
forall a. Store a =&gt; Size a
</span><a href="Data.Store.Impl.html#size"><span class="hs-identifier hs-var">size</span></a></span><span>
</span><span id="line-768"></span><span>    </span><span id="local-6989586621679540391"><span class="annot"><span class="annottext">poke :: NominalDiffTime -&gt; Poke ()
</span><a href="#local-6989586621679540391"><span class="hs-identifier hs-var hs-var hs-var hs-var">poke</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Pico -&gt; Poke ()
forall a. Store a =&gt; a -&gt; Poke ()
</span><a href="Data.Store.Impl.html#poke"><span class="hs-identifier hs-var">poke</span></a></span><span> </span><span class="annot"><span class="annottext">(Pico -&gt; Poke ())
-&gt; (NominalDiffTime -&gt; Pico) -&gt; NominalDiffTime -&gt; Poke ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NominalDiffTime -&gt; Pico
forall a b. (Real a, Fractional b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">realToFrac</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Time.NominalDiffTime</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Pico</span></span><span class="hs-special">)</span><span>
</span><span id="line-769"></span><span>    </span><span id="local-6989586621679540390"><span class="annot"><span class="annottext">peek :: Peek NominalDiffTime
</span><a href="#local-6989586621679540390"><span class="hs-identifier hs-var hs-var hs-var hs-var">peek</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pico -&gt; NominalDiffTime
forall a b. (Real a, Fractional b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">realToFrac</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Pico</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Time.NominalDiffTime</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Pico -&gt; NominalDiffTime) -&gt; Peek Pico -&gt; Peek NominalDiffTime
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Peek Pico
forall a. Store a =&gt; Peek a
</span><a href="Data.Store.Impl.html#peek"><span class="hs-identifier hs-var">peek</span></a></span><span>
</span><span id="line-770"></span><span>
</span><span id="line-771"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679540384"><span id="local-6989586621679540386"><span id="local-6989586621679540388"><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-772"></span><span id="local-6989586621679540383"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679540377"><span id="local-6989586621679540379"><span id="local-6989586621679540381"><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540383"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Dual</span></span><span> </span><span class="annot"><a href="#local-6989586621679540383"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-773"></span><span id="local-6989586621679540376"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679540370"><span id="local-6989586621679540372"><span id="local-6989586621679540374"><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540376"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Sum</span></span><span> </span><span class="annot"><a href="#local-6989586621679540376"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-774"></span><span id="local-6989586621679540369"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679540363"><span id="local-6989586621679540365"><span id="local-6989586621679540367"><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540369"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Product</span></span><span> </span><span class="annot"><a href="#local-6989586621679540369"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-775"></span><span id="local-6989586621679540362"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679540356"><span id="local-6989586621679540358"><span id="local-6989586621679540360"><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540362"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">First</span></span><span> </span><span class="annot"><a href="#local-6989586621679540362"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-776"></span><span id="local-6989586621679540355"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679540349"><span id="local-6989586621679540351"><span id="local-6989586621679540353"><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540355"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Last</span></span><span> </span><span class="annot"><a href="#local-6989586621679540355"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-777"></span><span id="local-6989586621679540348"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679540342"><span id="local-6989586621679540344"><span id="local-6989586621679540346"><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540348"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679540348"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-778"></span><span id="local-6989586621679540340"><span id="local-6989586621679540341"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679540334"><span id="local-6989586621679540336"><span id="local-6989586621679540338"><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540341"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Store.Impl.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Const</span></span><span> </span><span class="annot"><a href="#local-6989586621679540341"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679540340"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-779"></span><span>
</span><span id="line-780"></span><span class="hs-comment">------------------------------------------------------------------------</span><span>
</span><span id="line-781"></span><span class="hs-comment">-- Instances generated by TH</span><span>
</span><span id="line-782"></span><span>
</span><span id="line-783"></span><span class="hs-special">$(</span><span id="local-6989586621679540210"><span id="local-6989586621679540212"><span id="local-6989586621679540214"><span id="local-6989586621679540216"><span id="local-6989586621679540218"><span id="local-6989586621679540220"><span id="local-6989586621679540222"><span id="local-6989586621679540224"><span id="local-6989586621679540226"><span id="local-6989586621679540228"><span id="local-6989586621679540230"><span id="local-6989586621679540232"><span id="local-6989586621679540234"><span id="local-6989586621679540236"><span id="local-6989586621679540238"><span id="local-6989586621679540240"><span id="local-6989586621679540242"><span id="local-6989586621679540244"><span id="local-6989586621679540246"><span id="local-6989586621679540248"><span id="local-6989586621679540250"><span id="local-6989586621679540252"><span id="local-6989586621679540254"><span id="local-6989586621679540256"><span id="local-6989586621679540258"><span id="local-6989586621679540260"><span id="local-6989586621679540262"><span id="local-6989586621679540264"><span id="local-6989586621679540266"><span id="local-6989586621679540268"><span id="local-6989586621679540270"><span id="local-6989586621679540272"><span id="local-6989586621679540274"><span id="local-6989586621679540276"><span id="local-6989586621679540278"><span id="local-6989586621679540280"><span id="local-6989586621679540282"><span id="local-6989586621679540284"><span id="local-6989586621679540286"><span id="local-6989586621679540288"><span id="local-6989586621679540290"><span id="local-6989586621679540292"><span id="local-6989586621679540294"><span id="local-6989586621679540296"><span id="local-6989586621679540298"><span id="local-6989586621679540300"><span id="local-6989586621679540302"><span id="local-6989586621679540304"><span id="local-6989586621679540306"><span id="local-6989586621679540308"><span id="local-6989586621679540310"><span id="local-6989586621679540312"><span id="local-6989586621679540314"><span id="local-6989586621679540316"><span id="local-6989586621679540318"><span id="local-6989586621679540320"><span id="local-6989586621679540322"><span id="local-6989586621679540324"><span id="local-6989586621679540326"><span id="local-6989586621679540328"><span id="local-6989586621679540330"><span id="local-6989586621679540331"><span id="local-6989586621679540332"><span id="local-6989586621679540333"><span class="hs-special">$(</span><span class="hs-identifier">derive</span><span> </span><span class="hs-special">[d|</span><span>
</span><span id="line-784"></span><span>    </span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Store</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">Deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Store</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Complex</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-785"></span><span>    </span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Store</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">Deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Store</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Identity</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-786"></span><span>
</span><span id="line-787"></span><span>    </span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Store</span><span> </span><span class="hs-identifier">All</span><span class="hs-special">)</span><span>
</span><span id="line-788"></span><span>    </span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Store</span><span> </span><span class="hs-identifier">Any</span><span class="hs-special">)</span><span>
</span><span id="line-789"></span><span>    </span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Store</span><span> </span><span class="hs-identifier">Void</span><span class="hs-special">)</span><span>
</span><span id="line-790"></span><span>    </span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Store</span><span> </span><span class="hs-identifier">Bool</span><span class="hs-special">)</span><span>
</span><span id="line-791"></span><span>    </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Store</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Store</span><span> </span><span class="hs-identifier">b</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">Deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Store</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Either</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">b</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-792"></span><span>
</span><span id="line-793"></span><span>    </span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Store</span><span> </span><span class="hs-identifier">Time.AbsoluteTime</span><span class="hs-special">)</span><span>
</span><span id="line-794"></span><span>    </span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Store</span><span> </span><span class="hs-identifier">Time.Day</span><span class="hs-special">)</span><span>
</span><span id="line-795"></span><span>    </span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Store</span><span> </span><span class="hs-identifier">Time.LocalTime</span><span class="hs-special">)</span><span>
</span><span id="line-796"></span><span>    </span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Store</span><span> </span><span class="hs-identifier">Time.TimeOfDay</span><span class="hs-special">)</span><span>
</span><span id="line-797"></span><span>    </span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Store</span><span> </span><span class="hs-identifier">Time.TimeZone</span><span class="hs-special">)</span><span>
</span><span id="line-798"></span><span>    </span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Store</span><span> </span><span class="hs-identifier">Time.UTCTime</span><span class="hs-special">)</span><span>
</span><span id="line-799"></span><span>    </span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Store</span><span> </span><span class="hs-identifier">Time.UniversalTime</span><span class="hs-special">)</span><span>
</span><span id="line-800"></span><span>    </span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Store</span><span> </span><span class="hs-identifier">Time.ZonedTime</span><span class="hs-special">)</span><span>
</span><span id="line-801"></span><span>    </span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Store</span><span> </span><span class="hs-identifier">Time.TimeLocale</span><span class="hs-special">)</span><span class="hs-cpp">

#if MIN_VERSION_time(1,8,0)
</span><span>    </span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Store</span><span> </span><span class="hs-identifier">Time.SystemTime</span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span class="hs-cpp">
#if MIN_VERSION_time(1,9,0)
</span><span>    </span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Store</span><span> </span><span class="hs-identifier">Time.CalendarDiffDays</span><span class="hs-special">)</span><span>
</span><span id="line-809"></span><span>    </span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Store</span><span> </span><span class="hs-identifier">Time.CalendarDiffTime</span><span class="hs-special">)</span><span>
</span><span id="line-810"></span><span>    </span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Store</span><span> </span><span class="hs-identifier">Time.FormatExtension</span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span class="hs-cpp">
#if MIN_VERSION_time(1,11,0)
</span><span>    </span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Store</span><span> </span><span class="hs-identifier">Time.DayOfWeek</span><span class="hs-special">)</span><span>
</span><span id="line-815"></span><span>    </span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Store</span><span> </span><span class="hs-identifier">Time.FirstWeekType</span><span class="hs-special">)</span><span>
</span><span id="line-816"></span><span>    </span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Store</span><span> </span><span class="hs-identifier">Time.Quarter</span><span class="hs-special">)</span><span>
</span><span id="line-817"></span><span>    </span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Store</span><span> </span><span class="hs-identifier">Time.QuarterOfYear</span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-820"></span><span>    </span><span class="hs-special">|]</span><span class="hs-special">)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-821"></span><span>
</span><span id="line-822"></span><span class="hs-special">$(</span><span id="local-6989586621679539740"><span id="local-6989586621679539742"><span id="local-6989586621679539744"><span id="local-6989586621679539746"><span id="local-6989586621679539748"><span id="local-6989586621679539750"><span id="local-6989586621679539752"><span id="local-6989586621679539754"><span id="local-6989586621679539756"><span id="local-6989586621679539758"><span id="local-6989586621679539760"><span id="local-6989586621679539762"><span id="local-6989586621679539764"><span id="local-6989586621679539766"><span id="local-6989586621679539768"><span id="local-6989586621679539770"><span id="local-6989586621679539772"><span id="local-6989586621679539774"><span id="local-6989586621679539776"><span id="local-6989586621679539778"><span id="local-6989586621679539780"><span id="local-6989586621679539782"><span id="local-6989586621679539784"><span id="local-6989586621679539786"><span id="local-6989586621679539788"><span id="local-6989586621679539790"><span id="local-6989586621679539792"><span id="local-6989586621679539794"><span id="local-6989586621679539796"><span id="local-6989586621679539798"><span id="local-6989586621679539800"><span id="local-6989586621679539802"><span id="local-6989586621679539804"><span id="local-6989586621679539806"><span id="local-6989586621679539808"><span id="local-6989586621679539810"><span id="local-6989586621679539812"><span id="local-6989586621679539814"><span id="local-6989586621679539816"><span id="local-6989586621679539818"><span id="local-6989586621679539820"><span id="local-6989586621679539822"><span id="local-6989586621679539824"><span id="local-6989586621679539826"><span id="local-6989586621679539828"><span id="local-6989586621679539830"><span id="local-6989586621679539832"><span id="local-6989586621679539834"><span id="local-6989586621679539836"><span id="local-6989586621679539838"><span id="local-6989586621679539840"><span id="local-6989586621679539842"><span id="local-6989586621679539844"><span id="local-6989586621679539846"><span id="local-6989586621679539848"><span id="local-6989586621679539850"><span id="local-6989586621679539852"><span id="local-6989586621679539854"><span id="local-6989586621679539856"><span id="local-6989586621679539858"><span id="local-6989586621679539860"><span id="local-6989586621679539862"><span id="local-6989586621679539864"><span id="local-6989586621679539866"><span id="local-6989586621679539868"><span id="local-6989586621679539870"><span id="local-6989586621679539872"><span id="local-6989586621679539874"><span id="local-6989586621679539876"><span id="local-6989586621679539878"><span id="local-6989586621679539880"><span id="local-6989586621679539882"><span id="local-6989586621679539884"><span id="local-6989586621679539886"><span id="local-6989586621679539888"><span id="local-6989586621679539890"><span id="local-6989586621679539892"><span id="local-6989586621679539894"><span id="local-6989586621679539896"><span id="local-6989586621679539898"><span id="local-6989586621679539900"><span id="local-6989586621679539902"><span id="local-6989586621679539904"><span id="local-6989586621679539906"><span id="local-6989586621679539908"><span id="local-6989586621679539910"><span id="local-6989586621679539912"><span id="local-6989586621679539914"><span id="local-6989586621679539916"><span id="local-6989586621679539918"><span id="local-6989586621679539920"><span id="local-6989586621679539922"><span id="local-6989586621679539924"><span id="local-6989586621679539926"><span id="local-6989586621679539928"><span id="local-6989586621679539930"><span id="local-6989586621679539932"><span id="local-6989586621679539934"><span id="local-6989586621679539936"><span id="local-6989586621679539938"><span id="local-6989586621679539940"><span id="local-6989586621679539942"><span id="local-6989586621679539944"><span id="local-6989586621679539946"><span id="local-6989586621679539948"><span id="local-6989586621679539950"><span id="local-6989586621679539952"><span id="local-6989586621679539954"><span id="local-6989586621679539956"><span id="local-6989586621679539958"><span id="local-6989586621679539960"><span id="local-6989586621679539962"><span id="local-6989586621679539964"><span id="local-6989586621679539966"><span id="local-6989586621679539968"><span id="local-6989586621679539970"><span id="local-6989586621679539972"><span id="local-6989586621679539974"><span id="local-6989586621679539976"><span id="local-6989586621679539978"><span id="local-6989586621679539980"><span id="local-6989586621679539982"><span id="local-6989586621679539984"><span id="local-6989586621679539986"><span id="local-6989586621679539988"><span id="local-6989586621679539990"><span id="local-6989586621679539992"><span id="local-6989586621679539994"><span id="local-6989586621679539996"><span id="local-6989586621679539998"><span id="local-6989586621679540000"><span id="local-6989586621679540002"><span id="local-6989586621679540004"><span id="local-6989586621679540006"><span id="local-6989586621679540008"><span id="local-6989586621679540010"><span id="local-6989586621679540012"><span id="local-6989586621679540014"><span id="local-6989586621679540016"><span id="local-6989586621679540018"><span id="local-6989586621679540020"><span id="local-6989586621679540022"><span id="local-6989586621679540024"><span id="local-6989586621679540026"><span id="local-6989586621679540028"><span id="local-6989586621679540030"><span id="local-6989586621679540032"><span id="local-6989586621679540034"><span id="local-6989586621679540036"><span id="local-6989586621679540038"><span id="local-6989586621679540040"><span id="local-6989586621679540042"><span id="local-6989586621679540044"><span id="local-6989586621679540046"><span id="local-6989586621679540048"><span id="local-6989586621679540050"><span id="local-6989586621679540052"><span id="local-6989586621679540054"><span id="local-6989586621679540056"><span id="local-6989586621679540058"><span id="local-6989586621679540060"><span id="local-6989586621679540062"><span id="local-6989586621679540064"><span id="local-6989586621679540066"><span id="local-6989586621679540068"><span id="local-6989586621679540070"><span id="local-6989586621679540072"><span id="local-6989586621679540074"><span id="local-6989586621679540076"><span id="local-6989586621679540078"><span id="local-6989586621679540080"><span id="local-6989586621679540082"><span id="local-6989586621679540084"><span id="local-6989586621679540086"><span id="local-6989586621679540088"><span id="local-6989586621679540090"><span id="local-6989586621679540092"><span id="local-6989586621679540094"><span id="local-6989586621679540096"><span id="local-6989586621679540098"><span id="local-6989586621679540100"><span id="local-6989586621679540102"><span id="local-6989586621679540104"><span id="local-6989586621679540106"><span id="local-6989586621679540108"><span id="local-6989586621679540110"><span id="local-6989586621679540112"><span id="local-6989586621679540114"><span id="local-6989586621679540116"><span id="local-6989586621679540118"><span id="local-6989586621679540120"><span id="local-6989586621679540122"><span id="local-6989586621679540124"><span id="local-6989586621679540126"><span id="local-6989586621679540128"><span id="local-6989586621679540130"><span id="local-6989586621679540132"><span id="local-6989586621679540134"><span id="local-6989586621679540136"><span id="local-6989586621679540138"><span id="local-6989586621679540140"><span id="local-6989586621679540142"><span id="local-6989586621679540144"><span id="local-6989586621679540146"><span id="local-6989586621679540148"><span id="local-6989586621679540150"><span id="local-6989586621679540152"><span id="local-6989586621679540154"><span id="local-6989586621679540156"><span id="local-6989586621679540158"><span id="local-6989586621679540160"><span id="local-6989586621679540162"><span id="local-6989586621679540164"><span id="local-6989586621679540166"><span id="local-6989586621679540168"><span id="local-6989586621679540170"><span id="local-6989586621679540172"><span id="local-6989586621679540174"><span id="local-6989586621679540176"><span id="local-6989586621679540178"><span id="local-6989586621679540180"><span id="local-6989586621679540182"><span id="local-6989586621679540184"><span id="local-6989586621679540186"><span id="local-6989586621679540188"><span id="local-6989586621679540190"><span id="local-6989586621679540192"><span id="local-6989586621679540194"><span id="local-6989586621679540196"><span id="local-6989586621679540197"><span id="local-6989586621679540198"><span id="local-6989586621679540199"><span id="local-6989586621679540200"><span id="local-6989586621679540201"><span id="local-6989586621679540202"><span id="local-6989586621679540203"><span id="local-6989586621679540204"><span id="local-6989586621679540205"><span id="local-6989586621679540206"><span id="local-6989586621679540207"><span id="local-6989586621679540208"><span id="local-6989586621679540209"><span class="annot"><span class="annottext">Peek (Vector Char)
Peek (Vector Double)
Peek (Vector Float)
Peek (Vector Int)
Peek (Vector Int8)
Peek (Vector Int16)
Peek (Vector Int32)
Peek (Vector Int64)
Peek (Vector (StablePtr a))
Peek (Vector Word)
Peek (Vector Word8)
Peek (Vector Word16)
Peek (Vector Word32)
Peek (Vector Word64)
Peek (Vector (Ptr a))
Peek (Vector (FunPtr a))
Peek (Vector (Min a))
Peek (Vector (Max a))
Peek (Vector (First a))
Peek (Vector (Last a))
Peek (Vector (Identity a))
Peek (Vector CDev)
Peek (Vector CIno)
Peek (Vector CMode)
Peek (Vector COff)
Peek (Vector CPid)
Peek (Vector CSsize)
Peek (Vector CGid)
Peek (Vector CNlink)
Peek (Vector CUid)
Peek (Vector CCc)
Peek (Vector CSpeed)
Peek (Vector CTcflag)
Peek (Vector CRLim)
Peek (Vector CBlkSize)
Peek (Vector CBlkCnt)
Peek (Vector CClockId)
Peek (Vector CFsBlkCnt)
Peek (Vector CFsFilCnt)
Peek (Vector CId)
Peek (Vector CKey)
Peek (Vector CTimer)
Peek (Vector Fd)
Peek (Vector (Const a b))
Peek (Vector (Dual a))
Peek (Vector (Sum a))
Peek (Vector (Product a))
Peek (Vector (Down a))
Peek (Vector CChar)
Peek (Vector CSChar)
Peek (Vector CUChar)
Peek (Vector CShort)
Peek (Vector CUShort)
Peek (Vector CInt)
Peek (Vector CUInt)
Peek (Vector CLong)
Peek (Vector CULong)
Peek (Vector CLLong)
Peek (Vector CULLong)
Peek (Vector CBool)
Peek (Vector CFloat)
Peek (Vector CDouble)
Peek (Vector CPtrdiff)
Peek (Vector CSize)
Peek (Vector CWchar)
Peek (Vector CSigAtomic)
Peek (Vector CClock)
Peek (Vector CTime)
Peek (Vector CUSeconds)
Peek (Vector CSUSeconds)
Peek (Vector CIntPtr)
Peek (Vector CUIntPtr)
Peek (Vector CIntMax)
Peek (Vector CUIntMax)
Peek (Vector WordPtr)
Peek (Vector IntPtr)
Size (Vector Char)
Size (Vector Double)
Size (Vector Float)
Size (Vector Int)
Size (Vector Int8)
Size (Vector Int16)
Size (Vector Int32)
Size (Vector Int64)
Size (Vector (StablePtr a))
Size (Vector Word)
Size (Vector Word8)
Size (Vector Word16)
Size (Vector Word32)
Size (Vector Word64)
Size (Vector (Ptr a))
Size (Vector (FunPtr a))
Size (Vector (Min a))
Size (Vector (Max a))
Size (Vector (First a))
Size (Vector (Last a))
Size (Vector (Identity a))
Size (Vector CDev)
Size (Vector CIno)
Size (Vector CMode)
Size (Vector COff)
Size (Vector CPid)
Size (Vector CSsize)
Size (Vector CGid)
Size (Vector CNlink)
Size (Vector CUid)
Size (Vector CCc)
Size (Vector CSpeed)
Size (Vector CTcflag)
Size (Vector CRLim)
Size (Vector CBlkSize)
Size (Vector CBlkCnt)
Size (Vector CClockId)
Size (Vector CFsBlkCnt)
Size (Vector CFsFilCnt)
Size (Vector CId)
Size (Vector CKey)
Size (Vector CTimer)
Size (Vector Fd)
Size (Vector (Const a b))
Size (Vector (Dual a))
Size (Vector (Sum a))
Size (Vector (Product a))
Size (Vector (Down a))
Size (Vector CChar)
Size (Vector CSChar)
Size (Vector CUChar)
Size (Vector CShort)
Size (Vector CUShort)
Size (Vector CInt)
Size (Vector CUInt)
Size (Vector CLong)
Size (Vector CULong)
Size (Vector CLLong)
Size (Vector CULLong)
Size (Vector CBool)
Size (Vector CFloat)
Size (Vector CDouble)
Size (Vector CPtrdiff)
Size (Vector CSize)
Size (Vector CWchar)
Size (Vector CSigAtomic)
Size (Vector CClock)
Size (Vector CTime)
Size (Vector CUSeconds)
Size (Vector CSUSeconds)
Size (Vector CIntPtr)
Size (Vector CUIntPtr)
Size (Vector CIntMax)
Size (Vector CUIntMax)
Size (Vector WordPtr)
Size (Vector IntPtr)
Vector Char -&gt; Poke ()
Vector Double -&gt; Poke ()
Vector Float -&gt; Poke ()
Vector Int -&gt; Poke ()
Vector Int8 -&gt; Poke ()
Vector Int16 -&gt; Poke ()
Vector Int32 -&gt; Poke ()
Vector Int64 -&gt; Poke ()
Vector (StablePtr a) -&gt; Poke ()
Vector Word -&gt; Poke ()
Vector Word8 -&gt; Poke ()
Vector Word16 -&gt; Poke ()
Vector Word32 -&gt; Poke ()
Vector Word64 -&gt; Poke ()
Vector (Ptr a) -&gt; Poke ()
Vector (FunPtr a) -&gt; Poke ()
Vector (Min a) -&gt; Poke ()
Vector (Max a) -&gt; Poke ()
Vector (First a) -&gt; Poke ()
Vector (Last a) -&gt; Poke ()
Vector (Identity a) -&gt; Poke ()
Vector CDev -&gt; Poke ()
Vector CIno -&gt; Poke ()
Vector CMode -&gt; Poke ()
Vector COff -&gt; Poke ()
Vector CPid -&gt; Poke ()
Vector CSsize -&gt; Poke ()
Vector CGid -&gt; Poke ()
Vector CNlink -&gt; Poke ()
Vector CUid -&gt; Poke ()
Vector CCc -&gt; Poke ()
Vector CSpeed -&gt; Poke ()
Vector CTcflag -&gt; Poke ()
Vector CRLim -&gt; Poke ()
Vector CBlkSize -&gt; Poke ()
Vector CBlkCnt -&gt; Poke ()
Vector CClockId -&gt; Poke ()
Vector CFsBlkCnt -&gt; Poke ()
Vector CFsFilCnt -&gt; Poke ()
Vector CId -&gt; Poke ()
Vector CKey -&gt; Poke ()
Vector CTimer -&gt; Poke ()
Vector Fd -&gt; Poke ()
Vector (Const a b) -&gt; Poke ()
Vector (Dual a) -&gt; Poke ()
Vector (Sum a) -&gt; Poke ()
Vector (Product a) -&gt; Poke ()
Vector (Down a) -&gt; Poke ()
Vector CChar -&gt; Poke ()
Vector CSChar -&gt; Poke ()
Vector CUChar -&gt; Poke ()
Vector CShort -&gt; Poke ()
Vector CUShort -&gt; Poke ()
Vector CInt -&gt; Poke ()
Vector CUInt -&gt; Poke ()
Vector CLong -&gt; Poke ()
Vector CULong -&gt; Poke ()
Vector CLLong -&gt; Poke ()
Vector CULLong -&gt; Poke ()
Vector CBool -&gt; Poke ()
Vector CFloat -&gt; Poke ()
Vector CDouble -&gt; Poke ()
Vector CPtrdiff -&gt; Poke ()
Vector CSize -&gt; Poke ()
Vector CWchar -&gt; Poke ()
Vector CSigAtomic -&gt; Poke ()
Vector CClock -&gt; Poke ()
Vector CTime -&gt; Poke ()
Vector CUSeconds -&gt; Poke ()
Vector CSUSeconds -&gt; Poke ()
Vector CIntPtr -&gt; Poke ()
Vector CUIntPtr -&gt; Poke ()
Vector CIntMax -&gt; Poke ()
Vector CUIntMax -&gt; Poke ()
Vector WordPtr -&gt; Poke ()
Vector IntPtr -&gt; Poke ()
Size (Vector Char)
-&gt; (Vector Char -&gt; Poke ())
-&gt; Peek (Vector Char)
-&gt; Store (Vector Char)
Size (Vector Double)
-&gt; (Vector Double -&gt; Poke ())
-&gt; Peek (Vector Double)
-&gt; Store (Vector Double)
Size (Vector Float)
-&gt; (Vector Float -&gt; Poke ())
-&gt; Peek (Vector Float)
-&gt; Store (Vector Float)
Size (Vector Int)
-&gt; (Vector Int -&gt; Poke ())
-&gt; Peek (Vector Int)
-&gt; Store (Vector Int)
Size (Vector Int8)
-&gt; (Vector Int8 -&gt; Poke ())
-&gt; Peek (Vector Int8)
-&gt; Store (Vector Int8)
Size (Vector Int16)
-&gt; (Vector Int16 -&gt; Poke ())
-&gt; Peek (Vector Int16)
-&gt; Store (Vector Int16)
Size (Vector Int32)
-&gt; (Vector Int32 -&gt; Poke ())
-&gt; Peek (Vector Int32)
-&gt; Store (Vector Int32)
Size (Vector Int64)
-&gt; (Vector Int64 -&gt; Poke ())
-&gt; Peek (Vector Int64)
-&gt; Store (Vector Int64)
Size (Vector (StablePtr a))
-&gt; (Vector (StablePtr a) -&gt; Poke ())
-&gt; Peek (Vector (StablePtr a))
-&gt; Store (Vector (StablePtr a))
Size (Vector Word)
-&gt; (Vector Word -&gt; Poke ())
-&gt; Peek (Vector Word)
-&gt; Store (Vector Word)
Size (Vector Word8)
-&gt; (Vector Word8 -&gt; Poke ())
-&gt; Peek (Vector Word8)
-&gt; Store (Vector Word8)
Size (Vector Word16)
-&gt; (Vector Word16 -&gt; Poke ())
-&gt; Peek (Vector Word16)
-&gt; Store (Vector Word16)
Size (Vector Word32)
-&gt; (Vector Word32 -&gt; Poke ())
-&gt; Peek (Vector Word32)
-&gt; Store (Vector Word32)
Size (Vector Word64)
-&gt; (Vector Word64 -&gt; Poke ())
-&gt; Peek (Vector Word64)
-&gt; Store (Vector Word64)
Size (Vector (Ptr a))
-&gt; (Vector (Ptr a) -&gt; Poke ())
-&gt; Peek (Vector (Ptr a))
-&gt; Store (Vector (Ptr a))
Size (Vector (FunPtr a))
-&gt; (Vector (FunPtr a) -&gt; Poke ())
-&gt; Peek (Vector (FunPtr a))
-&gt; Store (Vector (FunPtr a))
Size (Vector (Min a))
-&gt; (Vector (Min a) -&gt; Poke ())
-&gt; Peek (Vector (Min a))
-&gt; Store (Vector (Min a))
Size (Vector (Max a))
-&gt; (Vector (Max a) -&gt; Poke ())
-&gt; Peek (Vector (Max a))
-&gt; Store (Vector (Max a))
Size (Vector (First a))
-&gt; (Vector (First a) -&gt; Poke ())
-&gt; Peek (Vector (First a))
-&gt; Store (Vector (First a))
Size (Vector (Last a))
-&gt; (Vector (Last a) -&gt; Poke ())
-&gt; Peek (Vector (Last a))
-&gt; Store (Vector (Last a))
Size (Vector (Identity a))
-&gt; (Vector (Identity a) -&gt; Poke ())
-&gt; Peek (Vector (Identity a))
-&gt; Store (Vector (Identity a))
Size (Vector CDev)
-&gt; (Vector CDev -&gt; Poke ())
-&gt; Peek (Vector CDev)
-&gt; Store (Vector CDev)
Size (Vector CIno)
-&gt; (Vector CIno -&gt; Poke ())
-&gt; Peek (Vector CIno)
-&gt; Store (Vector CIno)
Size (Vector CMode)
-&gt; (Vector CMode -&gt; Poke ())
-&gt; Peek (Vector CMode)
-&gt; Store (Vector CMode)
Size (Vector COff)
-&gt; (Vector COff -&gt; Poke ())
-&gt; Peek (Vector COff)
-&gt; Store (Vector COff)
Size (Vector CPid)
-&gt; (Vector CPid -&gt; Poke ())
-&gt; Peek (Vector CPid)
-&gt; Store (Vector CPid)
Size (Vector CSsize)
-&gt; (Vector CSsize -&gt; Poke ())
-&gt; Peek (Vector CSsize)
-&gt; Store (Vector CSsize)
Size (Vector CGid)
-&gt; (Vector CGid -&gt; Poke ())
-&gt; Peek (Vector CGid)
-&gt; Store (Vector CGid)
Size (Vector CNlink)
-&gt; (Vector CNlink -&gt; Poke ())
-&gt; Peek (Vector CNlink)
-&gt; Store (Vector CNlink)
Size (Vector CUid)
-&gt; (Vector CUid -&gt; Poke ())
-&gt; Peek (Vector CUid)
-&gt; Store (Vector CUid)
Size (Vector CCc)
-&gt; (Vector CCc -&gt; Poke ())
-&gt; Peek (Vector CCc)
-&gt; Store (Vector CCc)
Size (Vector CSpeed)
-&gt; (Vector CSpeed -&gt; Poke ())
-&gt; Peek (Vector CSpeed)
-&gt; Store (Vector CSpeed)
Size (Vector CTcflag)
-&gt; (Vector CTcflag -&gt; Poke ())
-&gt; Peek (Vector CTcflag)
-&gt; Store (Vector CTcflag)
Size (Vector CRLim)
-&gt; (Vector CRLim -&gt; Poke ())
-&gt; Peek (Vector CRLim)
-&gt; Store (Vector CRLim)
Size (Vector CBlkSize)
-&gt; (Vector CBlkSize -&gt; Poke ())
-&gt; Peek (Vector CBlkSize)
-&gt; Store (Vector CBlkSize)
Size (Vector CBlkCnt)
-&gt; (Vector CBlkCnt -&gt; Poke ())
-&gt; Peek (Vector CBlkCnt)
-&gt; Store (Vector CBlkCnt)
Size (Vector CClockId)
-&gt; (Vector CClockId -&gt; Poke ())
-&gt; Peek (Vector CClockId)
-&gt; Store (Vector CClockId)
Size (Vector CFsBlkCnt)
-&gt; (Vector CFsBlkCnt -&gt; Poke ())
-&gt; Peek (Vector CFsBlkCnt)
-&gt; Store (Vector CFsBlkCnt)
Size (Vector CFsFilCnt)
-&gt; (Vector CFsFilCnt -&gt; Poke ())
-&gt; Peek (Vector CFsFilCnt)
-&gt; Store (Vector CFsFilCnt)
Size (Vector CId)
-&gt; (Vector CId -&gt; Poke ())
-&gt; Peek (Vector CId)
-&gt; Store (Vector CId)
Size (Vector CKey)
-&gt; (Vector CKey -&gt; Poke ())
-&gt; Peek (Vector CKey)
-&gt; Store (Vector CKey)
Size (Vector CTimer)
-&gt; (Vector CTimer -&gt; Poke ())
-&gt; Peek (Vector CTimer)
-&gt; Store (Vector CTimer)
Size (Vector Fd)
-&gt; (Vector Fd -&gt; Poke ()) -&gt; Peek (Vector Fd) -&gt; Store (Vector Fd)
Size (Vector (Const a b))
-&gt; (Vector (Const a b) -&gt; Poke ())
-&gt; Peek (Vector (Const a b))
-&gt; Store (Vector (Const a b))
Size (Vector (Dual a))
-&gt; (Vector (Dual a) -&gt; Poke ())
-&gt; Peek (Vector (Dual a))
-&gt; Store (Vector (Dual a))
Size (Vector (Sum a))
-&gt; (Vector (Sum a) -&gt; Poke ())
-&gt; Peek (Vector (Sum a))
-&gt; Store (Vector (Sum a))
Size (Vector (Product a))
-&gt; (Vector (Product a) -&gt; Poke ())
-&gt; Peek (Vector (Product a))
-&gt; Store (Vector (Product a))
Size (Vector (Down a))
-&gt; (Vector (Down a) -&gt; Poke ())
-&gt; Peek (Vector (Down a))
-&gt; Store (Vector (Down a))
Size (Vector CChar)
-&gt; (Vector CChar -&gt; Poke ())
-&gt; Peek (Vector CChar)
-&gt; Store (Vector CChar)
Size (Vector CSChar)
-&gt; (Vector CSChar -&gt; Poke ())
-&gt; Peek (Vector CSChar)
-&gt; Store (Vector CSChar)
Size (Vector CUChar)
-&gt; (Vector CUChar -&gt; Poke ())
-&gt; Peek (Vector CUChar)
-&gt; Store (Vector CUChar)
Size (Vector CShort)
-&gt; (Vector CShort -&gt; Poke ())
-&gt; Peek (Vector CShort)
-&gt; Store (Vector CShort)
Size (Vector CUShort)
-&gt; (Vector CUShort -&gt; Poke ())
-&gt; Peek (Vector CUShort)
-&gt; Store (Vector CUShort)
Size (Vector CInt)
-&gt; (Vector CInt -&gt; Poke ())
-&gt; Peek (Vector CInt)
-&gt; Store (Vector CInt)
Size (Vector CUInt)
-&gt; (Vector CUInt -&gt; Poke ())
-&gt; Peek (Vector CUInt)
-&gt; Store (Vector CUInt)
Size (Vector CLong)
-&gt; (Vector CLong -&gt; Poke ())
-&gt; Peek (Vector CLong)
-&gt; Store (Vector CLong)
Size (Vector CULong)
-&gt; (Vector CULong -&gt; Poke ())
-&gt; Peek (Vector CULong)
-&gt; Store (Vector CULong)
Size (Vector CLLong)
-&gt; (Vector CLLong -&gt; Poke ())
-&gt; Peek (Vector CLLong)
-&gt; Store (Vector CLLong)
Size (Vector CULLong)
-&gt; (Vector CULLong -&gt; Poke ())
-&gt; Peek (Vector CULLong)
-&gt; Store (Vector CULLong)
Size (Vector CBool)
-&gt; (Vector CBool -&gt; Poke ())
-&gt; Peek (Vector CBool)
-&gt; Store (Vector CBool)
Size (Vector CFloat)
-&gt; (Vector CFloat -&gt; Poke ())
-&gt; Peek (Vector CFloat)
-&gt; Store (Vector CFloat)
Size (Vector CDouble)
-&gt; (Vector CDouble -&gt; Poke ())
-&gt; Peek (Vector CDouble)
-&gt; Store (Vector CDouble)
Size (Vector CPtrdiff)
-&gt; (Vector CPtrdiff -&gt; Poke ())
-&gt; Peek (Vector CPtrdiff)
-&gt; Store (Vector CPtrdiff)
Size (Vector CSize)
-&gt; (Vector CSize -&gt; Poke ())
-&gt; Peek (Vector CSize)
-&gt; Store (Vector CSize)
Size (Vector CWchar)
-&gt; (Vector CWchar -&gt; Poke ())
-&gt; Peek (Vector CWchar)
-&gt; Store (Vector CWchar)
Size (Vector CSigAtomic)
-&gt; (Vector CSigAtomic -&gt; Poke ())
-&gt; Peek (Vector CSigAtomic)
-&gt; Store (Vector CSigAtomic)
Size (Vector CClock)
-&gt; (Vector CClock -&gt; Poke ())
-&gt; Peek (Vector CClock)
-&gt; Store (Vector CClock)
Size (Vector CTime)
-&gt; (Vector CTime -&gt; Poke ())
-&gt; Peek (Vector CTime)
-&gt; Store (Vector CTime)
Size (Vector CUSeconds)
-&gt; (Vector CUSeconds -&gt; Poke ())
-&gt; Peek (Vector CUSeconds)
-&gt; Store (Vector CUSeconds)
Size (Vector CSUSeconds)
-&gt; (Vector CSUSeconds -&gt; Poke ())
-&gt; Peek (Vector CSUSeconds)
-&gt; Store (Vector CSUSeconds)
Size (Vector CIntPtr)
-&gt; (Vector CIntPtr -&gt; Poke ())
-&gt; Peek (Vector CIntPtr)
-&gt; Store (Vector CIntPtr)
Size (Vector CUIntPtr)
-&gt; (Vector CUIntPtr -&gt; Poke ())
-&gt; Peek (Vector CUIntPtr)
-&gt; Store (Vector CUIntPtr)
Size (Vector CIntMax)
-&gt; (Vector CIntMax -&gt; Poke ())
-&gt; Peek (Vector CIntMax)
-&gt; Store (Vector CIntMax)
Size (Vector CUIntMax)
-&gt; (Vector CUIntMax -&gt; Poke ())
-&gt; Peek (Vector CUIntMax)
-&gt; Store (Vector CUIntMax)
Size (Vector WordPtr)
-&gt; (Vector WordPtr -&gt; Poke ())
-&gt; Peek (Vector WordPtr)
-&gt; Store (Vector WordPtr)
Size (Vector IntPtr)
-&gt; (Vector IntPtr -&gt; Poke ())
-&gt; Peek (Vector IntPtr)
-&gt; Store (Vector IntPtr)
forall a. Peek (Vector (StablePtr a))
forall a. Peek (Vector (Ptr a))
forall a. Peek (Vector (FunPtr a))
forall a. Size (Vector (StablePtr a))
forall a. Size (Vector (Ptr a))
forall a. Size (Vector (FunPtr a))
forall a. Prim a =&gt; Peek (Vector (Min a))
forall a. Prim a =&gt; Peek (Vector (Max a))
forall a. Prim a =&gt; Peek (Vector (First a))
forall a. Prim a =&gt; Peek (Vector (Last a))
forall a. Prim a =&gt; Peek (Vector (Identity a))
forall a. Prim a =&gt; Peek (Vector (Dual a))
forall a. Prim a =&gt; Peek (Vector (Sum a))
forall a. Prim a =&gt; Peek (Vector (Product a))
forall a. Prim a =&gt; Peek (Vector (Down a))
forall a. Prim a =&gt; Size (Vector (Min a))
forall a. Prim a =&gt; Size (Vector (Max a))
forall a. Prim a =&gt; Size (Vector (First a))
forall a. Prim a =&gt; Size (Vector (Last a))
forall a. Prim a =&gt; Size (Vector (Identity a))
forall a. Prim a =&gt; Size (Vector (Dual a))
forall a. Prim a =&gt; Size (Vector (Sum a))
forall a. Prim a =&gt; Size (Vector (Product a))
forall a. Prim a =&gt; Size (Vector (Down a))
forall a. Prim a =&gt; Vector (Min a) -&gt; Poke ()
forall a. Prim a =&gt; Vector (Max a) -&gt; Poke ()
forall a. Prim a =&gt; Vector (First a) -&gt; Poke ()
forall a. Prim a =&gt; Vector (Last a) -&gt; Poke ()
forall a. Prim a =&gt; Vector (Identity a) -&gt; Poke ()
forall a. Prim a =&gt; Vector (Dual a) -&gt; Poke ()
forall a. Prim a =&gt; Vector (Sum a) -&gt; Poke ()
forall a. Prim a =&gt; Vector (Product a) -&gt; Poke ()
forall a. Prim a =&gt; Vector (Down a) -&gt; Poke ()
forall a. Vector (StablePtr a) -&gt; Poke ()
forall a. Vector (Ptr a) -&gt; Poke ()
forall a. Vector (FunPtr a) -&gt; Poke ()
forall a. Size a -&gt; (a -&gt; Poke ()) -&gt; Peek a -&gt; Store a
forall a b. Prim a =&gt; Peek (Vector (Const a b))
forall a b. Prim a =&gt; Size (Vector (Const a b))
forall a b. Prim a =&gt; Vector (Const a b) -&gt; Poke ()
peek :: Peek (Vector (Const a b))
$cpeek :: forall a b. Prim a =&gt; Peek (Vector (Const a b))
poke :: Vector (Const a b) -&gt; Poke ()
$cpoke :: forall a b. Prim a =&gt; Vector (Const a b) -&gt; Poke ()
size :: Size (Vector (Const a b))
$csize :: forall a b. Prim a =&gt; Size (Vector (Const a b))
peek :: Peek (Vector (Identity a))
$cpeek :: forall a. Prim a =&gt; Peek (Vector (Identity a))
poke :: Vector (Identity a) -&gt; Poke ()
$cpoke :: forall a. Prim a =&gt; Vector (Identity a) -&gt; Poke ()
size :: Size (Vector (Identity a))
$csize :: forall a. Prim a =&gt; Size (Vector (Identity a))
peek :: Peek (Vector (Down a))
$cpeek :: forall a. Prim a =&gt; Peek (Vector (Down a))
poke :: Vector (Down a) -&gt; Poke ()
$cpoke :: forall a. Prim a =&gt; Vector (Down a) -&gt; Poke ()
size :: Size (Vector (Down a))
$csize :: forall a. Prim a =&gt; Size (Vector (Down a))
peek :: Peek (Vector (First a))
$cpeek :: forall a. Prim a =&gt; Peek (Vector (First a))
poke :: Vector (First a) -&gt; Poke ()
$cpoke :: forall a. Prim a =&gt; Vector (First a) -&gt; Poke ()
size :: Size (Vector (First a))
$csize :: forall a. Prim a =&gt; Size (Vector (First a))
peek :: Peek (Vector (Last a))
$cpeek :: forall a. Prim a =&gt; Peek (Vector (Last a))
poke :: Vector (Last a) -&gt; Poke ()
$cpoke :: forall a. Prim a =&gt; Vector (Last a) -&gt; Poke ()
size :: Size (Vector (Last a))
$csize :: forall a. Prim a =&gt; Size (Vector (Last a))
peek :: Peek (Vector (Max a))
$cpeek :: forall a. Prim a =&gt; Peek (Vector (Max a))
poke :: Vector (Max a) -&gt; Poke ()
$cpoke :: forall a. Prim a =&gt; Vector (Max a) -&gt; Poke ()
size :: Size (Vector (Max a))
$csize :: forall a. Prim a =&gt; Size (Vector (Max a))
peek :: Peek (Vector (Min a))
$cpeek :: forall a. Prim a =&gt; Peek (Vector (Min a))
poke :: Vector (Min a) -&gt; Poke ()
$cpoke :: forall a. Prim a =&gt; Vector (Min a) -&gt; Poke ()
size :: Size (Vector (Min a))
$csize :: forall a. Prim a =&gt; Size (Vector (Min a))
peek :: Peek (Vector (Dual a))
$cpeek :: forall a. Prim a =&gt; Peek (Vector (Dual a))
poke :: Vector (Dual a) -&gt; Poke ()
$cpoke :: forall a. Prim a =&gt; Vector (Dual a) -&gt; Poke ()
size :: Size (Vector (Dual a))
$csize :: forall a. Prim a =&gt; Size (Vector (Dual a))
peek :: Peek (Vector (Product a))
$cpeek :: forall a. Prim a =&gt; Peek (Vector (Product a))
poke :: Vector (Product a) -&gt; Poke ()
$cpoke :: forall a. Prim a =&gt; Vector (Product a) -&gt; Poke ()
size :: Size (Vector (Product a))
$csize :: forall a. Prim a =&gt; Size (Vector (Product a))
peek :: Peek (Vector (Sum a))
$cpeek :: forall a. Prim a =&gt; Peek (Vector (Sum a))
poke :: Vector (Sum a) -&gt; Poke ()
$cpoke :: forall a. Prim a =&gt; Vector (Sum a) -&gt; Poke ()
size :: Size (Vector (Sum a))
$csize :: forall a. Prim a =&gt; Size (Vector (Sum a))
peek :: Peek (Vector CBool)
$cpeek :: Peek (Vector CBool)
poke :: Vector CBool -&gt; Poke ()
$cpoke :: Vector CBool -&gt; Poke ()
size :: Size (Vector CBool)
$csize :: Size (Vector CBool)
peek :: Peek (Vector CChar)
$cpeek :: Peek (Vector CChar)
poke :: Vector CChar -&gt; Poke ()
$cpoke :: Vector CChar -&gt; Poke ()
size :: Size (Vector CChar)
$csize :: Size (Vector CChar)
peek :: Peek (Vector CClock)
$cpeek :: Peek (Vector CClock)
poke :: Vector CClock -&gt; Poke ()
$cpoke :: Vector CClock -&gt; Poke ()
size :: Size (Vector CClock)
$csize :: Size (Vector CClock)
peek :: Peek (Vector CDouble)
$cpeek :: Peek (Vector CDouble)
poke :: Vector CDouble -&gt; Poke ()
$cpoke :: Vector CDouble -&gt; Poke ()
size :: Size (Vector CDouble)
$csize :: Size (Vector CDouble)
peek :: Peek (Vector CFloat)
$cpeek :: Peek (Vector CFloat)
poke :: Vector CFloat -&gt; Poke ()
$cpoke :: Vector CFloat -&gt; Poke ()
size :: Size (Vector CFloat)
$csize :: Size (Vector CFloat)
peek :: Peek (Vector CInt)
$cpeek :: Peek (Vector CInt)
poke :: Vector CInt -&gt; Poke ()
$cpoke :: Vector CInt -&gt; Poke ()
size :: Size (Vector CInt)
$csize :: Size (Vector CInt)
peek :: Peek (Vector CIntMax)
$cpeek :: Peek (Vector CIntMax)
poke :: Vector CIntMax -&gt; Poke ()
$cpoke :: Vector CIntMax -&gt; Poke ()
size :: Size (Vector CIntMax)
$csize :: Size (Vector CIntMax)
peek :: Peek (Vector CIntPtr)
$cpeek :: Peek (Vector CIntPtr)
poke :: Vector CIntPtr -&gt; Poke ()
$cpoke :: Vector CIntPtr -&gt; Poke ()
size :: Size (Vector CIntPtr)
$csize :: Size (Vector CIntPtr)
peek :: Peek (Vector CLLong)
$cpeek :: Peek (Vector CLLong)
poke :: Vector CLLong -&gt; Poke ()
$cpoke :: Vector CLLong -&gt; Poke ()
size :: Size (Vector CLLong)
$csize :: Size (Vector CLLong)
peek :: Peek (Vector CLong)
$cpeek :: Peek (Vector CLong)
poke :: Vector CLong -&gt; Poke ()
$cpoke :: Vector CLong -&gt; Poke ()
size :: Size (Vector CLong)
$csize :: Size (Vector CLong)
peek :: Peek (Vector CPtrdiff)
$cpeek :: Peek (Vector CPtrdiff)
poke :: Vector CPtrdiff -&gt; Poke ()
$cpoke :: Vector CPtrdiff -&gt; Poke ()
size :: Size (Vector CPtrdiff)
$csize :: Size (Vector CPtrdiff)
peek :: Peek (Vector CSChar)
$cpeek :: Peek (Vector CSChar)
poke :: Vector CSChar -&gt; Poke ()
$cpoke :: Vector CSChar -&gt; Poke ()
size :: Size (Vector CSChar)
$csize :: Size (Vector CSChar)
peek :: Peek (Vector CSUSeconds)
$cpeek :: Peek (Vector CSUSeconds)
poke :: Vector CSUSeconds -&gt; Poke ()
$cpoke :: Vector CSUSeconds -&gt; Poke ()
size :: Size (Vector CSUSeconds)
$csize :: Size (Vector CSUSeconds)
peek :: Peek (Vector CShort)
$cpeek :: Peek (Vector CShort)
poke :: Vector CShort -&gt; Poke ()
$cpoke :: Vector CShort -&gt; Poke ()
size :: Size (Vector CShort)
$csize :: Size (Vector CShort)
peek :: Peek (Vector CSigAtomic)
$cpeek :: Peek (Vector CSigAtomic)
poke :: Vector CSigAtomic -&gt; Poke ()
$cpoke :: Vector CSigAtomic -&gt; Poke ()
size :: Size (Vector CSigAtomic)
$csize :: Size (Vector CSigAtomic)
peek :: Peek (Vector CSize)
$cpeek :: Peek (Vector CSize)
poke :: Vector CSize -&gt; Poke ()
$cpoke :: Vector CSize -&gt; Poke ()
size :: Size (Vector CSize)
$csize :: Size (Vector CSize)
peek :: Peek (Vector CTime)
$cpeek :: Peek (Vector CTime)
poke :: Vector CTime -&gt; Poke ()
$cpoke :: Vector CTime -&gt; Poke ()
size :: Size (Vector CTime)
$csize :: Size (Vector CTime)
peek :: Peek (Vector CUChar)
$cpeek :: Peek (Vector CUChar)
poke :: Vector CUChar -&gt; Poke ()
$cpoke :: Vector CUChar -&gt; Poke ()
size :: Size (Vector CUChar)
$csize :: Size (Vector CUChar)
peek :: Peek (Vector CUInt)
$cpeek :: Peek (Vector CUInt)
poke :: Vector CUInt -&gt; Poke ()
$cpoke :: Vector CUInt -&gt; Poke ()
size :: Size (Vector CUInt)
$csize :: Size (Vector CUInt)
peek :: Peek (Vector CUIntMax)
$cpeek :: Peek (Vector CUIntMax)
poke :: Vector CUIntMax -&gt; Poke ()
$cpoke :: Vector CUIntMax -&gt; Poke ()
size :: Size (Vector CUIntMax)
$csize :: Size (Vector CUIntMax)
peek :: Peek (Vector CUIntPtr)
$cpeek :: Peek (Vector CUIntPtr)
poke :: Vector CUIntPtr -&gt; Poke ()
$cpoke :: Vector CUIntPtr -&gt; Poke ()
size :: Size (Vector CUIntPtr)
$csize :: Size (Vector CUIntPtr)
peek :: Peek (Vector CULLong)
$cpeek :: Peek (Vector CULLong)
poke :: Vector CULLong -&gt; Poke ()
$cpoke :: Vector CULLong -&gt; Poke ()
size :: Size (Vector CULLong)
$csize :: Size (Vector CULLong)
peek :: Peek (Vector CULong)
$cpeek :: Peek (Vector CULong)
poke :: Vector CULong -&gt; Poke ()
$cpoke :: Vector CULong -&gt; Poke ()
size :: Size (Vector CULong)
$csize :: Size (Vector CULong)
peek :: Peek (Vector CUSeconds)
$cpeek :: Peek (Vector CUSeconds)
poke :: Vector CUSeconds -&gt; Poke ()
$cpoke :: Vector CUSeconds -&gt; Poke ()
size :: Size (Vector CUSeconds)
$csize :: Size (Vector CUSeconds)
peek :: Peek (Vector CUShort)
$cpeek :: Peek (Vector CUShort)
poke :: Vector CUShort -&gt; Poke ()
$cpoke :: Vector CUShort -&gt; Poke ()
size :: Size (Vector CUShort)
$csize :: Size (Vector CUShort)
peek :: Peek (Vector CWchar)
$cpeek :: Peek (Vector CWchar)
poke :: Vector CWchar -&gt; Poke ()
$cpoke :: Vector CWchar -&gt; Poke ()
size :: Size (Vector CWchar)
$csize :: Size (Vector CWchar)
peek :: Peek (Vector IntPtr)
$cpeek :: Peek (Vector IntPtr)
poke :: Vector IntPtr -&gt; Poke ()
$cpoke :: Vector IntPtr -&gt; Poke ()
size :: Size (Vector IntPtr)
$csize :: Size (Vector IntPtr)
peek :: Peek (Vector WordPtr)
$cpeek :: Peek (Vector WordPtr)
poke :: Vector WordPtr -&gt; Poke ()
$cpoke :: Vector WordPtr -&gt; Poke ()
size :: Size (Vector WordPtr)
$csize :: Size (Vector WordPtr)
peek :: Peek (Vector Int16)
$cpeek :: Peek (Vector Int16)
poke :: Vector Int16 -&gt; Poke ()
$cpoke :: Vector Int16 -&gt; Poke ()
size :: Size (Vector Int16)
$csize :: Size (Vector Int16)
peek :: Peek (Vector Int32)
$cpeek :: Peek (Vector Int32)
poke :: Vector Int32 -&gt; Poke ()
$cpoke :: Vector Int32 -&gt; Poke ()
size :: Size (Vector Int32)
$csize :: Size (Vector Int32)
peek :: Peek (Vector Int64)
$cpeek :: Peek (Vector Int64)
poke :: Vector Int64 -&gt; Poke ()
$cpoke :: Vector Int64 -&gt; Poke ()
size :: Size (Vector Int64)
$csize :: Size (Vector Int64)
peek :: Peek (Vector Int8)
$cpeek :: Peek (Vector Int8)
poke :: Vector Int8 -&gt; Poke ()
$cpoke :: Vector Int8 -&gt; Poke ()
size :: Size (Vector Int8)
$csize :: Size (Vector Int8)
peek :: Peek (Vector (FunPtr a))
$cpeek :: forall a. Peek (Vector (FunPtr a))
poke :: Vector (FunPtr a) -&gt; Poke ()
$cpoke :: forall a. Vector (FunPtr a) -&gt; Poke ()
size :: Size (Vector (FunPtr a))
$csize :: forall a. Size (Vector (FunPtr a))
peek :: Peek (Vector (Ptr a))
$cpeek :: forall a. Peek (Vector (Ptr a))
poke :: Vector (Ptr a) -&gt; Poke ()
$cpoke :: forall a. Vector (Ptr a) -&gt; Poke ()
size :: Size (Vector (Ptr a))
$csize :: forall a. Size (Vector (Ptr a))
peek :: Peek (Vector (StablePtr a))
$cpeek :: forall a. Peek (Vector (StablePtr a))
poke :: Vector (StablePtr a) -&gt; Poke ()
$cpoke :: forall a. Vector (StablePtr a) -&gt; Poke ()
size :: Size (Vector (StablePtr a))
$csize :: forall a. Size (Vector (StablePtr a))
peek :: Peek (Vector Word16)
$cpeek :: Peek (Vector Word16)
poke :: Vector Word16 -&gt; Poke ()
$cpoke :: Vector Word16 -&gt; Poke ()
size :: Size (Vector Word16)
$csize :: Size (Vector Word16)
peek :: Peek (Vector Word32)
$cpeek :: Peek (Vector Word32)
poke :: Vector Word32 -&gt; Poke ()
$cpoke :: Vector Word32 -&gt; Poke ()
size :: Size (Vector Word32)
$csize :: Size (Vector Word32)
peek :: Peek (Vector Word64)
$cpeek :: Peek (Vector Word64)
poke :: Vector Word64 -&gt; Poke ()
$cpoke :: Vector Word64 -&gt; Poke ()
size :: Size (Vector Word64)
$csize :: Size (Vector Word64)
peek :: Peek (Vector Word8)
$cpeek :: Peek (Vector Word8)
poke :: Vector Word8 -&gt; Poke ()
$cpoke :: Vector Word8 -&gt; Poke ()
size :: Size (Vector Word8)
$csize :: Size (Vector Word8)
peek :: Peek (Vector CBlkCnt)
$cpeek :: Peek (Vector CBlkCnt)
poke :: Vector CBlkCnt -&gt; Poke ()
$cpoke :: Vector CBlkCnt -&gt; Poke ()
size :: Size (Vector CBlkCnt)
$csize :: Size (Vector CBlkCnt)
peek :: Peek (Vector CBlkSize)
$cpeek :: Peek (Vector CBlkSize)
poke :: Vector CBlkSize -&gt; Poke ()
$cpoke :: Vector CBlkSize -&gt; Poke ()
size :: Size (Vector CBlkSize)
$csize :: Size (Vector CBlkSize)
peek :: Peek (Vector CCc)
$cpeek :: Peek (Vector CCc)
poke :: Vector CCc -&gt; Poke ()
$cpoke :: Vector CCc -&gt; Poke ()
size :: Size (Vector CCc)
$csize :: Size (Vector CCc)
peek :: Peek (Vector CClockId)
$cpeek :: Peek (Vector CClockId)
poke :: Vector CClockId -&gt; Poke ()
$cpoke :: Vector CClockId -&gt; Poke ()
size :: Size (Vector CClockId)
$csize :: Size (Vector CClockId)
peek :: Peek (Vector CDev)
$cpeek :: Peek (Vector CDev)
poke :: Vector CDev -&gt; Poke ()
$cpoke :: Vector CDev -&gt; Poke ()
size :: Size (Vector CDev)
$csize :: Size (Vector CDev)
peek :: Peek (Vector CFsBlkCnt)
$cpeek :: Peek (Vector CFsBlkCnt)
poke :: Vector CFsBlkCnt -&gt; Poke ()
$cpoke :: Vector CFsBlkCnt -&gt; Poke ()
size :: Size (Vector CFsBlkCnt)
$csize :: Size (Vector CFsBlkCnt)
peek :: Peek (Vector CFsFilCnt)
$cpeek :: Peek (Vector CFsFilCnt)
poke :: Vector CFsFilCnt -&gt; Poke ()
$cpoke :: Vector CFsFilCnt -&gt; Poke ()
size :: Size (Vector CFsFilCnt)
$csize :: Size (Vector CFsFilCnt)
peek :: Peek (Vector CGid)
$cpeek :: Peek (Vector CGid)
poke :: Vector CGid -&gt; Poke ()
$cpoke :: Vector CGid -&gt; Poke ()
size :: Size (Vector CGid)
$csize :: Size (Vector CGid)
peek :: Peek (Vector CId)
$cpeek :: Peek (Vector CId)
poke :: Vector CId -&gt; Poke ()
$cpoke :: Vector CId -&gt; Poke ()
size :: Size (Vector CId)
$csize :: Size (Vector CId)
peek :: Peek (Vector CIno)
$cpeek :: Peek (Vector CIno)
poke :: Vector CIno -&gt; Poke ()
$cpoke :: Vector CIno -&gt; Poke ()
size :: Size (Vector CIno)
$csize :: Size (Vector CIno)
peek :: Peek (Vector CKey)
$cpeek :: Peek (Vector CKey)
poke :: Vector CKey -&gt; Poke ()
$cpoke :: Vector CKey -&gt; Poke ()
size :: Size (Vector CKey)
$csize :: Size (Vector CKey)
peek :: Peek (Vector CMode)
$cpeek :: Peek (Vector CMode)
poke :: Vector CMode -&gt; Poke ()
$cpoke :: Vector CMode -&gt; Poke ()
size :: Size (Vector CMode)
$csize :: Size (Vector CMode)
peek :: Peek (Vector CNlink)
$cpeek :: Peek (Vector CNlink)
poke :: Vector CNlink -&gt; Poke ()
$cpoke :: Vector CNlink -&gt; Poke ()
size :: Size (Vector CNlink)
$csize :: Size (Vector CNlink)
peek :: Peek (Vector COff)
$cpeek :: Peek (Vector COff)
poke :: Vector COff -&gt; Poke ()
$cpoke :: Vector COff -&gt; Poke ()
size :: Size (Vector COff)
$csize :: Size (Vector COff)
peek :: Peek (Vector CPid)
$cpeek :: Peek (Vector CPid)
poke :: Vector CPid -&gt; Poke ()
$cpoke :: Vector CPid -&gt; Poke ()
size :: Size (Vector CPid)
$csize :: Size (Vector CPid)
peek :: Peek (Vector CRLim)
$cpeek :: Peek (Vector CRLim)
poke :: Vector CRLim -&gt; Poke ()
$cpoke :: Vector CRLim -&gt; Poke ()
size :: Size (Vector CRLim)
$csize :: Size (Vector CRLim)
peek :: Peek (Vector CSpeed)
$cpeek :: Peek (Vector CSpeed)
poke :: Vector CSpeed -&gt; Poke ()
$cpoke :: Vector CSpeed -&gt; Poke ()
size :: Size (Vector CSpeed)
$csize :: Size (Vector CSpeed)
peek :: Peek (Vector CSsize)
$cpeek :: Peek (Vector CSsize)
poke :: Vector CSsize -&gt; Poke ()
$cpoke :: Vector CSsize -&gt; Poke ()
size :: Size (Vector CSsize)
$csize :: Size (Vector CSsize)
peek :: Peek (Vector CTcflag)
$cpeek :: Peek (Vector CTcflag)
poke :: Vector CTcflag -&gt; Poke ()
$cpoke :: Vector CTcflag -&gt; Poke ()
size :: Size (Vector CTcflag)
$csize :: Size (Vector CTcflag)
peek :: Peek (Vector CTimer)
$cpeek :: Peek (Vector CTimer)
poke :: Vector CTimer -&gt; Poke ()
$cpoke :: Vector CTimer -&gt; Poke ()
size :: Size (Vector CTimer)
$csize :: Size (Vector CTimer)
peek :: Peek (Vector CUid)
$cpeek :: Peek (Vector CUid)
poke :: Vector CUid -&gt; Poke ()
$cpoke :: Vector CUid -&gt; Poke ()
size :: Size (Vector CUid)
$csize :: Size (Vector CUid)
peek :: Peek (Vector Fd)
$cpeek :: Peek (Vector Fd)
poke :: Vector Fd -&gt; Poke ()
$cpoke :: Vector Fd -&gt; Poke ()
size :: Size (Vector Fd)
$csize :: Size (Vector Fd)
peek :: Peek (Vector Char)
$cpeek :: Peek (Vector Char)
poke :: Vector Char -&gt; Poke ()
$cpoke :: Vector Char -&gt; Poke ()
size :: Size (Vector Char)
$csize :: Size (Vector Char)
peek :: Peek (Vector Double)
$cpeek :: Peek (Vector Double)
poke :: Vector Double -&gt; Poke ()
$cpoke :: Vector Double -&gt; Poke ()
size :: Size (Vector Double)
$csize :: Size (Vector Double)
peek :: Peek (Vector Float)
$cpeek :: Peek (Vector Float)
poke :: Vector Float -&gt; Poke ()
$cpoke :: Vector Float -&gt; Poke ()
size :: Size (Vector Float)
$csize :: Size (Vector Float)
peek :: Peek (Vector Int)
$cpeek :: Peek (Vector Int)
poke :: Vector Int -&gt; Poke ()
$cpoke :: Vector Int -&gt; Poke ()
size :: Size (Vector Int)
$csize :: Size (Vector Int)
peek :: Peek (Vector Word)
$cpeek :: Peek (Vector Word)
poke :: Vector Word -&gt; Poke ()
$cpoke :: Vector Word -&gt; Poke ()
size :: Size (Vector Word)
$csize :: Size (Vector Word)
</span><a href="#local-6989586621679539740"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-var hs-var hs-var">deriveManyStorePrimVector</span></a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-823"></span><span>
</span><span id="line-824"></span><span class="hs-special">$(</span><span id="local-6989586621679539478"><span id="local-6989586621679539480"><span id="local-6989586621679539482"><span id="local-6989586621679539484"><span id="local-6989586621679539486"><span id="local-6989586621679539488"><span id="local-6989586621679539490"><span id="local-6989586621679539492"><span id="local-6989586621679539494"><span id="local-6989586621679539496"><span id="local-6989586621679539498"><span id="local-6989586621679539500"><span id="local-6989586621679539502"><span id="local-6989586621679539504"><span id="local-6989586621679539506"><span id="local-6989586621679539508"><span id="local-6989586621679539510"><span id="local-6989586621679539512"><span id="local-6989586621679539514"><span id="local-6989586621679539516"><span id="local-6989586621679539518"><span id="local-6989586621679539520"><span id="local-6989586621679539522"><span id="local-6989586621679539524"><span id="local-6989586621679539526"><span id="local-6989586621679539528"><span id="local-6989586621679539530"><span id="local-6989586621679539532"><span id="local-6989586621679539534"><span id="local-6989586621679539536"><span id="local-6989586621679539538"><span id="local-6989586621679539540"><span id="local-6989586621679539542"><span id="local-6989586621679539544"><span id="local-6989586621679539546"><span id="local-6989586621679539548"><span id="local-6989586621679539550"><span id="local-6989586621679539552"><span id="local-6989586621679539554"><span id="local-6989586621679539556"><span id="local-6989586621679539558"><span id="local-6989586621679539560"><span id="local-6989586621679539562"><span id="local-6989586621679539564"><span id="local-6989586621679539566"><span id="local-6989586621679539568"><span id="local-6989586621679539570"><span id="local-6989586621679539572"><span id="local-6989586621679539574"><span id="local-6989586621679539576"><span id="local-6989586621679539578"><span id="local-6989586621679539580"><span id="local-6989586621679539582"><span id="local-6989586621679539584"><span id="local-6989586621679539586"><span id="local-6989586621679539588"><span id="local-6989586621679539590"><span id="local-6989586621679539592"><span id="local-6989586621679539594"><span id="local-6989586621679539596"><span id="local-6989586621679539598"><span id="local-6989586621679539600"><span id="local-6989586621679539602"><span id="local-6989586621679539604"><span id="local-6989586621679539606"><span id="local-6989586621679539608"><span id="local-6989586621679539610"><span id="local-6989586621679539612"><span id="local-6989586621679539614"><span id="local-6989586621679539616"><span id="local-6989586621679539618"><span id="local-6989586621679539620"><span id="local-6989586621679539622"><span id="local-6989586621679539624"><span id="local-6989586621679539626"><span id="local-6989586621679539628"><span id="local-6989586621679539630"><span id="local-6989586621679539632"><span id="local-6989586621679539634"><span id="local-6989586621679539636"><span id="local-6989586621679539638"><span id="local-6989586621679539640"><span id="local-6989586621679539642"><span id="local-6989586621679539644"><span id="local-6989586621679539646"><span id="local-6989586621679539648"><span id="local-6989586621679539650"><span id="local-6989586621679539652"><span id="local-6989586621679539654"><span id="local-6989586621679539656"><span id="local-6989586621679539658"><span id="local-6989586621679539660"><span id="local-6989586621679539662"><span id="local-6989586621679539664"><span id="local-6989586621679539666"><span id="local-6989586621679539668"><span id="local-6989586621679539670"><span id="local-6989586621679539672"><span id="local-6989586621679539674"><span id="local-6989586621679539676"><span id="local-6989586621679539678"><span id="local-6989586621679539680"><span id="local-6989586621679539682"><span id="local-6989586621679539684"><span id="local-6989586621679539686"><span id="local-6989586621679539688"><span id="local-6989586621679539690"><span id="local-6989586621679539692"><span id="local-6989586621679539694"><span id="local-6989586621679539696"><span id="local-6989586621679539698"><span id="local-6989586621679539700"><span id="local-6989586621679539701"><span id="local-6989586621679539702"><span id="local-6989586621679539703"><span id="local-6989586621679539704"><span id="local-6989586621679539705"><span id="local-6989586621679539706"><span id="local-6989586621679539707"><span id="local-6989586621679539708"><span id="local-6989586621679539709"><span id="local-6989586621679539710"><span id="local-6989586621679539711"><span id="local-6989586621679539712"><span id="local-6989586621679539713"><span id="local-6989586621679539714"><span id="local-6989586621679539715"><span id="local-6989586621679539716"><span id="local-6989586621679539717"><span id="local-6989586621679539718"><span id="local-6989586621679539719"><span id="local-6989586621679539720"><span id="local-6989586621679539721"><span id="local-6989586621679539722"><span id="local-6989586621679539723"><span id="local-6989586621679539724"><span id="local-6989586621679539725"><span id="local-6989586621679539726"><span id="local-6989586621679539727"><span id="local-6989586621679539728"><span id="local-6989586621679539729"><span id="local-6989586621679539730"><span id="local-6989586621679539731"><span id="local-6989586621679539732"><span id="local-6989586621679539733"><span id="local-6989586621679539734"><span id="local-6989586621679539735"><span id="local-6989586621679539736"><span id="local-6989586621679539737"><span id="local-6989586621679539738"><span id="local-6989586621679539739"><span class="annot"><span class="annottext">Peek (Vector Bool)
Peek (Vector Char)
Peek (Vector Double)
Peek (Vector Float)
Peek (Vector Int)
Peek (Vector Int8)
Peek (Vector Int16)
Peek (Vector Int32)
Peek (Vector Int64)
Peek (Vector Word)
Peek (Vector Word8)
Peek (Vector Word16)
Peek (Vector Word32)
Peek (Vector Word64)
Peek (Vector ())
Peek (Vector (a, b))
Peek (Vector (a, b, c))
Peek (Vector (a, b, c, d))
Peek (Vector (a, b, c, d, e))
Peek (Vector (a, b, c, d, e, f))
Peek (Vector (Complex a))
Peek (Vector (Compose f g a))
Peek (Vector (Min a))
Peek (Vector (Max a))
Peek (Vector (Arg a b))
Peek (Vector (First a))
Peek (Vector (Last a))
Peek (Vector (WrappedMonoid a))
Peek (Vector (Identity a))
Peek (Vector (Const a b))
Peek (Vector (Dual a))
Peek (Vector All)
Peek (Vector Any)
Peek (Vector (Sum a))
Peek (Vector (Product a))
Peek (Vector (Alt f a))
Peek (Vector (Down a))
Size (Vector Bool)
Size (Vector Char)
Size (Vector Double)
Size (Vector Float)
Size (Vector Int)
Size (Vector Int8)
Size (Vector Int16)
Size (Vector Int32)
Size (Vector Int64)
Size (Vector Word)
Size (Vector Word8)
Size (Vector Word16)
Size (Vector Word32)
Size (Vector Word64)
Size (Vector ())
Size (Vector (a, b))
Size (Vector (a, b, c))
Size (Vector (a, b, c, d))
Size (Vector (a, b, c, d, e))
Size (Vector (a, b, c, d, e, f))
Size (Vector (Complex a))
Size (Vector (Compose f g a))
Size (Vector (Min a))
Size (Vector (Max a))
Size (Vector (Arg a b))
Size (Vector (First a))
Size (Vector (Last a))
Size (Vector (WrappedMonoid a))
Size (Vector (Identity a))
Size (Vector (Const a b))
Size (Vector (Dual a))
Size (Vector All)
Size (Vector Any)
Size (Vector (Sum a))
Size (Vector (Product a))
Size (Vector (Alt f a))
Size (Vector (Down a))
Vector Bool -&gt; Poke ()
Vector Char -&gt; Poke ()
Vector Double -&gt; Poke ()
Vector Float -&gt; Poke ()
Vector Int -&gt; Poke ()
Vector Int8 -&gt; Poke ()
Vector Int16 -&gt; Poke ()
Vector Int32 -&gt; Poke ()
Vector Int64 -&gt; Poke ()
Vector Word -&gt; Poke ()
Vector Word8 -&gt; Poke ()
Vector Word16 -&gt; Poke ()
Vector Word32 -&gt; Poke ()
Vector Word64 -&gt; Poke ()
Vector () -&gt; Poke ()
Vector (a, b) -&gt; Poke ()
Vector (a, b, c) -&gt; Poke ()
Vector (a, b, c, d) -&gt; Poke ()
Vector (a, b, c, d, e) -&gt; Poke ()
Vector (a, b, c, d, e, f) -&gt; Poke ()
Vector (Complex a) -&gt; Poke ()
Vector (Compose f g a) -&gt; Poke ()
Vector (Min a) -&gt; Poke ()
Vector (Max a) -&gt; Poke ()
Vector (Arg a b) -&gt; Poke ()
Vector (First a) -&gt; Poke ()
Vector (Last a) -&gt; Poke ()
Vector (WrappedMonoid a) -&gt; Poke ()
Vector (Identity a) -&gt; Poke ()
Vector (Const a b) -&gt; Poke ()
Vector (Dual a) -&gt; Poke ()
Vector All -&gt; Poke ()
Vector Any -&gt; Poke ()
Vector (Sum a) -&gt; Poke ()
Vector (Product a) -&gt; Poke ()
Vector (Alt f a) -&gt; Poke ()
Vector (Down a) -&gt; Poke ()
Size (Vector Bool)
-&gt; (Vector Bool -&gt; Poke ())
-&gt; Peek (Vector Bool)
-&gt; Store (Vector Bool)
Size (Vector Char)
-&gt; (Vector Char -&gt; Poke ())
-&gt; Peek (Vector Char)
-&gt; Store (Vector Char)
Size (Vector Double)
-&gt; (Vector Double -&gt; Poke ())
-&gt; Peek (Vector Double)
-&gt; Store (Vector Double)
Size (Vector Float)
-&gt; (Vector Float -&gt; Poke ())
-&gt; Peek (Vector Float)
-&gt; Store (Vector Float)
Size (Vector Int)
-&gt; (Vector Int -&gt; Poke ())
-&gt; Peek (Vector Int)
-&gt; Store (Vector Int)
Size (Vector Int8)
-&gt; (Vector Int8 -&gt; Poke ())
-&gt; Peek (Vector Int8)
-&gt; Store (Vector Int8)
Size (Vector Int16)
-&gt; (Vector Int16 -&gt; Poke ())
-&gt; Peek (Vector Int16)
-&gt; Store (Vector Int16)
Size (Vector Int32)
-&gt; (Vector Int32 -&gt; Poke ())
-&gt; Peek (Vector Int32)
-&gt; Store (Vector Int32)
Size (Vector Int64)
-&gt; (Vector Int64 -&gt; Poke ())
-&gt; Peek (Vector Int64)
-&gt; Store (Vector Int64)
Size (Vector Word)
-&gt; (Vector Word -&gt; Poke ())
-&gt; Peek (Vector Word)
-&gt; Store (Vector Word)
Size (Vector Word8)
-&gt; (Vector Word8 -&gt; Poke ())
-&gt; Peek (Vector Word8)
-&gt; Store (Vector Word8)
Size (Vector Word16)
-&gt; (Vector Word16 -&gt; Poke ())
-&gt; Peek (Vector Word16)
-&gt; Store (Vector Word16)
Size (Vector Word32)
-&gt; (Vector Word32 -&gt; Poke ())
-&gt; Peek (Vector Word32)
-&gt; Store (Vector Word32)
Size (Vector Word64)
-&gt; (Vector Word64 -&gt; Poke ())
-&gt; Peek (Vector Word64)
-&gt; Store (Vector Word64)
Size (Vector ())
-&gt; (Vector () -&gt; Poke ()) -&gt; Peek (Vector ()) -&gt; Store (Vector ())
Size (Vector (a, b))
-&gt; (Vector (a, b) -&gt; Poke ())
-&gt; Peek (Vector (a, b))
-&gt; Store (Vector (a, b))
Size (Vector (a, b, c))
-&gt; (Vector (a, b, c) -&gt; Poke ())
-&gt; Peek (Vector (a, b, c))
-&gt; Store (Vector (a, b, c))
Size (Vector (a, b, c, d))
-&gt; (Vector (a, b, c, d) -&gt; Poke ())
-&gt; Peek (Vector (a, b, c, d))
-&gt; Store (Vector (a, b, c, d))
Size (Vector (a, b, c, d, e))
-&gt; (Vector (a, b, c, d, e) -&gt; Poke ())
-&gt; Peek (Vector (a, b, c, d, e))
-&gt; Store (Vector (a, b, c, d, e))
Size (Vector (a, b, c, d, e, f))
-&gt; (Vector (a, b, c, d, e, f) -&gt; Poke ())
-&gt; Peek (Vector (a, b, c, d, e, f))
-&gt; Store (Vector (a, b, c, d, e, f))
Size (Vector (Complex a))
-&gt; (Vector (Complex a) -&gt; Poke ())
-&gt; Peek (Vector (Complex a))
-&gt; Store (Vector (Complex a))
Size (Vector (Compose f g a))
-&gt; (Vector (Compose f g a) -&gt; Poke ())
-&gt; Peek (Vector (Compose f g a))
-&gt; Store (Vector (Compose f g a))
Size (Vector (Min a))
-&gt; (Vector (Min a) -&gt; Poke ())
-&gt; Peek (Vector (Min a))
-&gt; Store (Vector (Min a))
Size (Vector (Max a))
-&gt; (Vector (Max a) -&gt; Poke ())
-&gt; Peek (Vector (Max a))
-&gt; Store (Vector (Max a))
Size (Vector (Arg a b))
-&gt; (Vector (Arg a b) -&gt; Poke ())
-&gt; Peek (Vector (Arg a b))
-&gt; Store (Vector (Arg a b))
Size (Vector (First a))
-&gt; (Vector (First a) -&gt; Poke ())
-&gt; Peek (Vector (First a))
-&gt; Store (Vector (First a))
Size (Vector (Last a))
-&gt; (Vector (Last a) -&gt; Poke ())
-&gt; Peek (Vector (Last a))
-&gt; Store (Vector (Last a))
Size (Vector (WrappedMonoid a))
-&gt; (Vector (WrappedMonoid a) -&gt; Poke ())
-&gt; Peek (Vector (WrappedMonoid a))
-&gt; Store (Vector (WrappedMonoid a))
Size (Vector (Identity a))
-&gt; (Vector (Identity a) -&gt; Poke ())
-&gt; Peek (Vector (Identity a))
-&gt; Store (Vector (Identity a))
Size (Vector (Const a b))
-&gt; (Vector (Const a b) -&gt; Poke ())
-&gt; Peek (Vector (Const a b))
-&gt; Store (Vector (Const a b))
Size (Vector (Dual a))
-&gt; (Vector (Dual a) -&gt; Poke ())
-&gt; Peek (Vector (Dual a))
-&gt; Store (Vector (Dual a))
Size (Vector All)
-&gt; (Vector All -&gt; Poke ())
-&gt; Peek (Vector All)
-&gt; Store (Vector All)
Size (Vector Any)
-&gt; (Vector Any -&gt; Poke ())
-&gt; Peek (Vector Any)
-&gt; Store (Vector Any)
Size (Vector (Sum a))
-&gt; (Vector (Sum a) -&gt; Poke ())
-&gt; Peek (Vector (Sum a))
-&gt; Store (Vector (Sum a))
Size (Vector (Product a))
-&gt; (Vector (Product a) -&gt; Poke ())
-&gt; Peek (Vector (Product a))
-&gt; Store (Vector (Product a))
Size (Vector (Alt f a))
-&gt; (Vector (Alt f a) -&gt; Poke ())
-&gt; Peek (Vector (Alt f a))
-&gt; Store (Vector (Alt f a))
Size (Vector (Down a))
-&gt; (Vector (Down a) -&gt; Poke ())
-&gt; Peek (Vector (Down a))
-&gt; Store (Vector (Down a))
forall a. Size a -&gt; (a -&gt; Poke ()) -&gt; Peek a -&gt; Store a
forall a. Store (Vector a) =&gt; Peek (Vector (Complex a))
forall a. Store (Vector a) =&gt; Peek (Vector (Min a))
forall a. Store (Vector a) =&gt; Peek (Vector (Max a))
forall a. Store (Vector a) =&gt; Peek (Vector (First a))
forall a. Store (Vector a) =&gt; Peek (Vector (Last a))
forall a. Store (Vector a) =&gt; Peek (Vector (WrappedMonoid a))
forall a. Store (Vector a) =&gt; Peek (Vector (Identity a))
forall a. Store (Vector a) =&gt; Peek (Vector (Dual a))
forall a. Store (Vector a) =&gt; Peek (Vector (Sum a))
forall a. Store (Vector a) =&gt; Peek (Vector (Product a))
forall a. Store (Vector a) =&gt; Peek (Vector (Down a))
forall a. Store (Vector a) =&gt; Size (Vector (Complex a))
forall a. Store (Vector a) =&gt; Size (Vector (Min a))
forall a. Store (Vector a) =&gt; Size (Vector (Max a))
forall a. Store (Vector a) =&gt; Size (Vector (First a))
forall a. Store (Vector a) =&gt; Size (Vector (Last a))
forall a. Store (Vector a) =&gt; Size (Vector (WrappedMonoid a))
forall a. Store (Vector a) =&gt; Size (Vector (Identity a))
forall a. Store (Vector a) =&gt; Size (Vector (Dual a))
forall a. Store (Vector a) =&gt; Size (Vector (Sum a))
forall a. Store (Vector a) =&gt; Size (Vector (Product a))
forall a. Store (Vector a) =&gt; Size (Vector (Down a))
forall a. Store (Vector a) =&gt; Vector (Complex a) -&gt; Poke ()
forall a. Store (Vector a) =&gt; Vector (Min a) -&gt; Poke ()
forall a. Store (Vector a) =&gt; Vector (Max a) -&gt; Poke ()
forall a. Store (Vector a) =&gt; Vector (First a) -&gt; Poke ()
forall a. Store (Vector a) =&gt; Vector (Last a) -&gt; Poke ()
forall a. Store (Vector a) =&gt; Vector (WrappedMonoid a) -&gt; Poke ()
forall a. Store (Vector a) =&gt; Vector (Identity a) -&gt; Poke ()
forall a. Store (Vector a) =&gt; Vector (Dual a) -&gt; Poke ()
forall a. Store (Vector a) =&gt; Vector (Sum a) -&gt; Poke ()
forall a. Store (Vector a) =&gt; Vector (Product a) -&gt; Poke ()
forall a. Store (Vector a) =&gt; Vector (Down a) -&gt; Poke ()
forall a b. Store (Vector a) =&gt; Peek (Vector (Const a b))
forall a b. Store (Vector a) =&gt; Size (Vector (Const a b))
forall a b. Store (Vector a) =&gt; Vector (Const a b) -&gt; Poke ()
forall a b.
(Store (Vector a), Store (Vector b)) =&gt;
Peek (Vector (a, b))
forall a b.
(Store (Vector a), Store (Vector b)) =&gt;
Peek (Vector (Arg a b))
forall a b.
(Store (Vector a), Store (Vector b)) =&gt;
Size (Vector (a, b))
forall a b.
(Store (Vector a), Store (Vector b)) =&gt;
Size (Vector (Arg a b))
forall a b.
(Store (Vector a), Store (Vector b)) =&gt;
Vector (a, b) -&gt; Poke ()
forall a b.
(Store (Vector a), Store (Vector b)) =&gt;
Vector (Arg a b) -&gt; Poke ()
forall a b c.
(Store (Vector a), Store (Vector b), Store (Vector c)) =&gt;
Peek (Vector (a, b, c))
forall a b c.
(Store (Vector a), Store (Vector b), Store (Vector c)) =&gt;
Size (Vector (a, b, c))
forall a b c.
(Store (Vector a), Store (Vector b), Store (Vector c)) =&gt;
Vector (a, b, c) -&gt; Poke ()
forall a b c d.
(Store (Vector a), Store (Vector b), Store (Vector c),
 Store (Vector d)) =&gt;
Peek (Vector (a, b, c, d))
forall a b c d.
(Store (Vector a), Store (Vector b), Store (Vector c),
 Store (Vector d)) =&gt;
Size (Vector (a, b, c, d))
forall a b c d.
(Store (Vector a), Store (Vector b), Store (Vector c),
 Store (Vector d)) =&gt;
Vector (a, b, c, d) -&gt; Poke ()
forall a b c d e.
(Store (Vector a), Store (Vector b), Store (Vector c),
 Store (Vector d), Store (Vector e)) =&gt;
Peek (Vector (a, b, c, d, e))
forall a b c d e.
(Store (Vector a), Store (Vector b), Store (Vector c),
 Store (Vector d), Store (Vector e)) =&gt;
Size (Vector (a, b, c, d, e))
forall a b c d e.
(Store (Vector a), Store (Vector b), Store (Vector c),
 Store (Vector d), Store (Vector e)) =&gt;
Vector (a, b, c, d, e) -&gt; Poke ()
forall a b c d e f.
(Store (Vector a), Store (Vector b), Store (Vector c),
 Store (Vector d), Store (Vector e), Store (Vector f)) =&gt;
Peek (Vector (a, b, c, d, e, f))
forall a b c d e f.
(Store (Vector a), Store (Vector b), Store (Vector c),
 Store (Vector d), Store (Vector e), Store (Vector f)) =&gt;
Size (Vector (a, b, c, d, e, f))
forall a b c d e f.
(Store (Vector a), Store (Vector b), Store (Vector c),
 Store (Vector d), Store (Vector e), Store (Vector f)) =&gt;
Vector (a, b, c, d, e, f) -&gt; Poke ()
forall (f :: * -&gt; *) a.
Store (Vector (f a)) =&gt;
Peek (Vector (Alt f a))
forall (f :: * -&gt; *) a.
Store (Vector (f a)) =&gt;
Size (Vector (Alt f a))
forall (f :: * -&gt; *) a.
Store (Vector (f a)) =&gt;
Vector (Alt f a) -&gt; Poke ()
forall (f :: * -&gt; *) (g :: * -&gt; *) a.
Store (Vector (f (g a))) =&gt;
Peek (Vector (Compose f g a))
forall (f :: * -&gt; *) (g :: * -&gt; *) a.
Store (Vector (f (g a))) =&gt;
Size (Vector (Compose f g a))
forall (f :: * -&gt; *) (g :: * -&gt; *) a.
Store (Vector (f (g a))) =&gt;
Vector (Compose f g a) -&gt; Poke ()
peek :: Peek (Vector (a, b, c, d, e, f))
$cpeek :: forall a b c d e f.
(Store (Vector a), Store (Vector b), Store (Vector c),
 Store (Vector d), Store (Vector e), Store (Vector f)) =&gt;
Peek (Vector (a, b, c, d, e, f))
poke :: Vector (a, b, c, d, e, f) -&gt; Poke ()
$cpoke :: forall a b c d e f.
(Store (Vector a), Store (Vector b), Store (Vector c),
 Store (Vector d), Store (Vector e), Store (Vector f)) =&gt;
Vector (a, b, c, d, e, f) -&gt; Poke ()
size :: Size (Vector (a, b, c, d, e, f))
$csize :: forall a b c d e f.
(Store (Vector a), Store (Vector b), Store (Vector c),
 Store (Vector d), Store (Vector e), Store (Vector f)) =&gt;
Size (Vector (a, b, c, d, e, f))
peek :: Peek (Vector (a, b, c, d, e))
$cpeek :: forall a b c d e.
(Store (Vector a), Store (Vector b), Store (Vector c),
 Store (Vector d), Store (Vector e)) =&gt;
Peek (Vector (a, b, c, d, e))
poke :: Vector (a, b, c, d, e) -&gt; Poke ()
$cpoke :: forall a b c d e.
(Store (Vector a), Store (Vector b), Store (Vector c),
 Store (Vector d), Store (Vector e)) =&gt;
Vector (a, b, c, d, e) -&gt; Poke ()
size :: Size (Vector (a, b, c, d, e))
$csize :: forall a b c d e.
(Store (Vector a), Store (Vector b), Store (Vector c),
 Store (Vector d), Store (Vector e)) =&gt;
Size (Vector (a, b, c, d, e))
peek :: Peek (Vector (a, b, c, d))
$cpeek :: forall a b c d.
(Store (Vector a), Store (Vector b), Store (Vector c),
 Store (Vector d)) =&gt;
Peek (Vector (a, b, c, d))
poke :: Vector (a, b, c, d) -&gt; Poke ()
$cpoke :: forall a b c d.
(Store (Vector a), Store (Vector b), Store (Vector c),
 Store (Vector d)) =&gt;
Vector (a, b, c, d) -&gt; Poke ()
size :: Size (Vector (a, b, c, d))
$csize :: forall a b c d.
(Store (Vector a), Store (Vector b), Store (Vector c),
 Store (Vector d)) =&gt;
Size (Vector (a, b, c, d))
peek :: Peek (Vector (Compose f g a))
$cpeek :: forall (f :: * -&gt; *) (g :: * -&gt; *) a.
Store (Vector (f (g a))) =&gt;
Peek (Vector (Compose f g a))
poke :: Vector (Compose f g a) -&gt; Poke ()
$cpoke :: forall (f :: * -&gt; *) (g :: * -&gt; *) a.
Store (Vector (f (g a))) =&gt;
Vector (Compose f g a) -&gt; Poke ()
size :: Size (Vector (Compose f g a))
$csize :: forall (f :: * -&gt; *) (g :: * -&gt; *) a.
Store (Vector (f (g a))) =&gt;
Size (Vector (Compose f g a))
peek :: Peek (Vector (a, b, c))
$cpeek :: forall a b c.
(Store (Vector a), Store (Vector b), Store (Vector c)) =&gt;
Peek (Vector (a, b, c))
poke :: Vector (a, b, c) -&gt; Poke ()
$cpoke :: forall a b c.
(Store (Vector a), Store (Vector b), Store (Vector c)) =&gt;
Vector (a, b, c) -&gt; Poke ()
size :: Size (Vector (a, b, c))
$csize :: forall a b c.
(Store (Vector a), Store (Vector b), Store (Vector c)) =&gt;
Size (Vector (a, b, c))
peek :: Peek (Vector (Const a b))
$cpeek :: forall a b. Store (Vector a) =&gt; Peek (Vector (Const a b))
poke :: Vector (Const a b) -&gt; Poke ()
$cpoke :: forall a b. Store (Vector a) =&gt; Vector (Const a b) -&gt; Poke ()
size :: Size (Vector (Const a b))
$csize :: forall a b. Store (Vector a) =&gt; Size (Vector (Const a b))
peek :: Peek (Vector (Arg a b))
$cpeek :: forall a b.
(Store (Vector a), Store (Vector b)) =&gt;
Peek (Vector (Arg a b))
poke :: Vector (Arg a b) -&gt; Poke ()
$cpoke :: forall a b.
(Store (Vector a), Store (Vector b)) =&gt;
Vector (Arg a b) -&gt; Poke ()
size :: Size (Vector (Arg a b))
$csize :: forall a b.
(Store (Vector a), Store (Vector b)) =&gt;
Size (Vector (Arg a b))
peek :: Peek (Vector (Alt f a))
$cpeek :: forall (f :: * -&gt; *) a.
Store (Vector (f a)) =&gt;
Peek (Vector (Alt f a))
poke :: Vector (Alt f a) -&gt; Poke ()
$cpoke :: forall (f :: * -&gt; *) a.
Store (Vector (f a)) =&gt;
Vector (Alt f a) -&gt; Poke ()
size :: Size (Vector (Alt f a))
$csize :: forall (f :: * -&gt; *) a.
Store (Vector (f a)) =&gt;
Size (Vector (Alt f a))
peek :: Peek (Vector (a, b))
$cpeek :: forall a b.
(Store (Vector a), Store (Vector b)) =&gt;
Peek (Vector (a, b))
poke :: Vector (a, b) -&gt; Poke ()
$cpoke :: forall a b.
(Store (Vector a), Store (Vector b)) =&gt;
Vector (a, b) -&gt; Poke ()
size :: Size (Vector (a, b))
$csize :: forall a b.
(Store (Vector a), Store (Vector b)) =&gt;
Size (Vector (a, b))
peek :: Peek (Vector (Complex a))
$cpeek :: forall a. Store (Vector a) =&gt; Peek (Vector (Complex a))
poke :: Vector (Complex a) -&gt; Poke ()
$cpoke :: forall a. Store (Vector a) =&gt; Vector (Complex a) -&gt; Poke ()
size :: Size (Vector (Complex a))
$csize :: forall a. Store (Vector a) =&gt; Size (Vector (Complex a))
peek :: Peek (Vector (Identity a))
$cpeek :: forall a. Store (Vector a) =&gt; Peek (Vector (Identity a))
poke :: Vector (Identity a) -&gt; Poke ()
$cpoke :: forall a. Store (Vector a) =&gt; Vector (Identity a) -&gt; Poke ()
size :: Size (Vector (Identity a))
$csize :: forall a. Store (Vector a) =&gt; Size (Vector (Identity a))
peek :: Peek (Vector (Down a))
$cpeek :: forall a. Store (Vector a) =&gt; Peek (Vector (Down a))
poke :: Vector (Down a) -&gt; Poke ()
$cpoke :: forall a. Store (Vector a) =&gt; Vector (Down a) -&gt; Poke ()
size :: Size (Vector (Down a))
$csize :: forall a. Store (Vector a) =&gt; Size (Vector (Down a))
peek :: Peek (Vector (First a))
$cpeek :: forall a. Store (Vector a) =&gt; Peek (Vector (First a))
poke :: Vector (First a) -&gt; Poke ()
$cpoke :: forall a. Store (Vector a) =&gt; Vector (First a) -&gt; Poke ()
size :: Size (Vector (First a))
$csize :: forall a. Store (Vector a) =&gt; Size (Vector (First a))
peek :: Peek (Vector (Last a))
$cpeek :: forall a. Store (Vector a) =&gt; Peek (Vector (Last a))
poke :: Vector (Last a) -&gt; Poke ()
$cpoke :: forall a. Store (Vector a) =&gt; Vector (Last a) -&gt; Poke ()
size :: Size (Vector (Last a))
$csize :: forall a. Store (Vector a) =&gt; Size (Vector (Last a))
peek :: Peek (Vector (Max a))
$cpeek :: forall a. Store (Vector a) =&gt; Peek (Vector (Max a))
poke :: Vector (Max a) -&gt; Poke ()
$cpoke :: forall a. Store (Vector a) =&gt; Vector (Max a) -&gt; Poke ()
size :: Size (Vector (Max a))
$csize :: forall a. Store (Vector a) =&gt; Size (Vector (Max a))
peek :: Peek (Vector (Min a))
$cpeek :: forall a. Store (Vector a) =&gt; Peek (Vector (Min a))
poke :: Vector (Min a) -&gt; Poke ()
$cpoke :: forall a. Store (Vector a) =&gt; Vector (Min a) -&gt; Poke ()
size :: Size (Vector (Min a))
$csize :: forall a. Store (Vector a) =&gt; Size (Vector (Min a))
peek :: Peek (Vector (WrappedMonoid a))
$cpeek :: forall a. Store (Vector a) =&gt; Peek (Vector (WrappedMonoid a))
poke :: Vector (WrappedMonoid a) -&gt; Poke ()
$cpoke :: forall a. Store (Vector a) =&gt; Vector (WrappedMonoid a) -&gt; Poke ()
size :: Size (Vector (WrappedMonoid a))
$csize :: forall a. Store (Vector a) =&gt; Size (Vector (WrappedMonoid a))
peek :: Peek (Vector (Dual a))
$cpeek :: forall a. Store (Vector a) =&gt; Peek (Vector (Dual a))
poke :: Vector (Dual a) -&gt; Poke ()
$cpoke :: forall a. Store (Vector a) =&gt; Vector (Dual a) -&gt; Poke ()
size :: Size (Vector (Dual a))
$csize :: forall a. Store (Vector a) =&gt; Size (Vector (Dual a))
peek :: Peek (Vector (Product a))
$cpeek :: forall a. Store (Vector a) =&gt; Peek (Vector (Product a))
poke :: Vector (Product a) -&gt; Poke ()
$cpoke :: forall a. Store (Vector a) =&gt; Vector (Product a) -&gt; Poke ()
size :: Size (Vector (Product a))
$csize :: forall a. Store (Vector a) =&gt; Size (Vector (Product a))
peek :: Peek (Vector (Sum a))
$cpeek :: forall a. Store (Vector a) =&gt; Peek (Vector (Sum a))
poke :: Vector (Sum a) -&gt; Poke ()
$cpoke :: forall a. Store (Vector a) =&gt; Vector (Sum a) -&gt; Poke ()
size :: Size (Vector (Sum a))
$csize :: forall a. Store (Vector a) =&gt; Size (Vector (Sum a))
peek :: Peek (Vector All)
$cpeek :: Peek (Vector All)
poke :: Vector All -&gt; Poke ()
$cpoke :: Vector All -&gt; Poke ()
size :: Size (Vector All)
$csize :: Size (Vector All)
peek :: Peek (Vector Any)
$cpeek :: Peek (Vector Any)
poke :: Vector Any -&gt; Poke ()
$cpoke :: Vector Any -&gt; Poke ()
size :: Size (Vector Any)
$csize :: Size (Vector Any)
peek :: Peek (Vector Int16)
$cpeek :: Peek (Vector Int16)
poke :: Vector Int16 -&gt; Poke ()
$cpoke :: Vector Int16 -&gt; Poke ()
size :: Size (Vector Int16)
$csize :: Size (Vector Int16)
peek :: Peek (Vector Int32)
$cpeek :: Peek (Vector Int32)
poke :: Vector Int32 -&gt; Poke ()
$cpoke :: Vector Int32 -&gt; Poke ()
size :: Size (Vector Int32)
$csize :: Size (Vector Int32)
peek :: Peek (Vector Int64)
$cpeek :: Peek (Vector Int64)
poke :: Vector Int64 -&gt; Poke ()
$cpoke :: Vector Int64 -&gt; Poke ()
size :: Size (Vector Int64)
$csize :: Size (Vector Int64)
peek :: Peek (Vector Int8)
$cpeek :: Peek (Vector Int8)
poke :: Vector Int8 -&gt; Poke ()
$cpoke :: Vector Int8 -&gt; Poke ()
size :: Size (Vector Int8)
$csize :: Size (Vector Int8)
peek :: Peek (Vector Word16)
$cpeek :: Peek (Vector Word16)
poke :: Vector Word16 -&gt; Poke ()
$cpoke :: Vector Word16 -&gt; Poke ()
size :: Size (Vector Word16)
$csize :: Size (Vector Word16)
peek :: Peek (Vector Word32)
$cpeek :: Peek (Vector Word32)
poke :: Vector Word32 -&gt; Poke ()
$cpoke :: Vector Word32 -&gt; Poke ()
size :: Size (Vector Word32)
$csize :: Size (Vector Word32)
peek :: Peek (Vector Word64)
$cpeek :: Peek (Vector Word64)
poke :: Vector Word64 -&gt; Poke ()
$cpoke :: Vector Word64 -&gt; Poke ()
size :: Size (Vector Word64)
$csize :: Size (Vector Word64)
peek :: Peek (Vector Word8)
$cpeek :: Peek (Vector Word8)
poke :: Vector Word8 -&gt; Poke ()
$cpoke :: Vector Word8 -&gt; Poke ()
size :: Size (Vector Word8)
$csize :: Size (Vector Word8)
peek :: Peek (Vector Bool)
$cpeek :: Peek (Vector Bool)
poke :: Vector Bool -&gt; Poke ()
$cpoke :: Vector Bool -&gt; Poke ()
size :: Size (Vector Bool)
$csize :: Size (Vector Bool)
peek :: Peek (Vector Char)
$cpeek :: Peek (Vector Char)
poke :: Vector Char -&gt; Poke ()
$cpoke :: Vector Char -&gt; Poke ()
size :: Size (Vector Char)
$csize :: Size (Vector Char)
peek :: Peek (Vector Double)
$cpeek :: Peek (Vector Double)
poke :: Vector Double -&gt; Poke ()
$cpoke :: Vector Double -&gt; Poke ()
size :: Size (Vector Double)
$csize :: Size (Vector Double)
peek :: Peek (Vector Float)
$cpeek :: Peek (Vector Float)
poke :: Vector Float -&gt; Poke ()
$cpoke :: Vector Float -&gt; Poke ()
size :: Size (Vector Float)
$csize :: Size (Vector Float)
peek :: Peek (Vector Int)
$cpeek :: Peek (Vector Int)
poke :: Vector Int -&gt; Poke ()
$cpoke :: Vector Int -&gt; Poke ()
size :: Size (Vector Int)
$csize :: Size (Vector Int)
peek :: Peek (Vector Word)
$cpeek :: Peek (Vector Word)
poke :: Vector Word -&gt; Poke ()
$cpoke :: Vector Word -&gt; Poke ()
size :: Size (Vector Word)
$csize :: Size (Vector Word)
peek :: Peek (Vector ())
$cpeek :: Peek (Vector ())
poke :: Vector () -&gt; Poke ()
$cpoke :: Vector () -&gt; Poke ()
size :: Size (Vector ())
$csize :: Size (Vector ())
</span><a href="#local-6989586621679539478"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-type hs-var hs-var hs-var hs-var">deriveManyStoreUnboxVector</span></a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-825"></span><span>
</span><span id="line-826"></span><span class="hs-special">$(</span><span id="local-6989586621679539078"><span id="local-6989586621679539080"><span id="local-6989586621679539082"><span id="local-6989586621679539084"><span id="local-6989586621679539086"><span id="local-6989586621679539088"><span id="local-6989586621679539090"><span id="local-6989586621679539092"><span id="local-6989586621679539094"><span id="local-6989586621679539096"><span id="local-6989586621679539098"><span id="local-6989586621679539100"><span id="local-6989586621679539102"><span id="local-6989586621679539104"><span id="local-6989586621679539106"><span id="local-6989586621679539108"><span id="local-6989586621679539110"><span id="local-6989586621679539112"><span id="local-6989586621679539114"><span id="local-6989586621679539116"><span id="local-6989586621679539118"><span id="local-6989586621679539120"><span id="local-6989586621679539122"><span id="local-6989586621679539124"><span id="local-6989586621679539126"><span id="local-6989586621679539128"><span id="local-6989586621679539130"><span id="local-6989586621679539132"><span id="local-6989586621679539134"><span id="local-6989586621679539136"><span id="local-6989586621679539138"><span id="local-6989586621679539140"><span id="local-6989586621679539142"><span id="local-6989586621679539144"><span id="local-6989586621679539146"><span id="local-6989586621679539148"><span id="local-6989586621679539150"><span id="local-6989586621679539152"><span id="local-6989586621679539154"><span id="local-6989586621679539156"><span id="local-6989586621679539158"><span id="local-6989586621679539160"><span id="local-6989586621679539162"><span id="local-6989586621679539164"><span id="local-6989586621679539166"><span id="local-6989586621679539168"><span id="local-6989586621679539170"><span id="local-6989586621679539172"><span id="local-6989586621679539174"><span id="local-6989586621679539176"><span id="local-6989586621679539178"><span id="local-6989586621679539180"><span id="local-6989586621679539182"><span id="local-6989586621679539184"><span id="local-6989586621679539186"><span id="local-6989586621679539188"><span id="local-6989586621679539190"><span id="local-6989586621679539192"><span id="local-6989586621679539194"><span id="local-6989586621679539196"><span id="local-6989586621679539198"><span id="local-6989586621679539200"><span id="local-6989586621679539202"><span id="local-6989586621679539204"><span id="local-6989586621679539206"><span id="local-6989586621679539208"><span id="local-6989586621679539210"><span id="local-6989586621679539212"><span id="local-6989586621679539214"><span id="local-6989586621679539216"><span id="local-6989586621679539218"><span id="local-6989586621679539220"><span id="local-6989586621679539222"><span id="local-6989586621679539224"><span id="local-6989586621679539226"><span id="local-6989586621679539228"><span id="local-6989586621679539230"><span id="local-6989586621679539232"><span id="local-6989586621679539234"><span id="local-6989586621679539236"><span id="local-6989586621679539238"><span id="local-6989586621679539240"><span id="local-6989586621679539242"><span id="local-6989586621679539244"><span id="local-6989586621679539246"><span id="local-6989586621679539248"><span id="local-6989586621679539250"><span id="local-6989586621679539252"><span id="local-6989586621679539254"><span id="local-6989586621679539256"><span id="local-6989586621679539258"><span id="local-6989586621679539260"><span id="local-6989586621679539262"><span id="local-6989586621679539264"><span id="local-6989586621679539266"><span id="local-6989586621679539268"><span id="local-6989586621679539270"><span id="local-6989586621679539272"><span id="local-6989586621679539274"><span id="local-6989586621679539276"><span id="local-6989586621679539278"><span id="local-6989586621679539280"><span id="local-6989586621679539282"><span id="local-6989586621679539284"><span id="local-6989586621679539286"><span id="local-6989586621679539288"><span id="local-6989586621679539290"><span id="local-6989586621679539292"><span id="local-6989586621679539294"><span id="local-6989586621679539296"><span id="local-6989586621679539298"><span id="local-6989586621679539300"><span id="local-6989586621679539302"><span id="local-6989586621679539304"><span id="local-6989586621679539306"><span id="local-6989586621679539308"><span id="local-6989586621679539310"><span id="local-6989586621679539312"><span id="local-6989586621679539314"><span id="local-6989586621679539316"><span id="local-6989586621679539318"><span id="local-6989586621679539320"><span id="local-6989586621679539322"><span id="local-6989586621679539324"><span id="local-6989586621679539326"><span id="local-6989586621679539328"><span id="local-6989586621679539330"><span id="local-6989586621679539332"><span id="local-6989586621679539334"><span id="local-6989586621679539336"><span id="local-6989586621679539338"><span id="local-6989586621679539340"><span id="local-6989586621679539342"><span id="local-6989586621679539344"><span id="local-6989586621679539346"><span id="local-6989586621679539348"><span id="local-6989586621679539350"><span id="local-6989586621679539352"><span id="local-6989586621679539354"><span id="local-6989586621679539356"><span id="local-6989586621679539358"><span id="local-6989586621679539360"><span id="local-6989586621679539362"><span id="local-6989586621679539364"><span id="local-6989586621679539366"><span id="local-6989586621679539368"><span id="local-6989586621679539370"><span id="local-6989586621679539372"><span id="local-6989586621679539374"><span id="local-6989586621679539376"><span id="local-6989586621679539378"><span id="local-6989586621679539380"><span id="local-6989586621679539382"><span id="local-6989586621679539384"><span id="local-6989586621679539386"><span id="local-6989586621679539388"><span id="local-6989586621679539390"><span id="local-6989586621679539392"><span id="local-6989586621679539394"><span id="local-6989586621679539396"><span id="local-6989586621679539398"><span id="local-6989586621679539400"><span id="local-6989586621679539402"><span id="local-6989586621679539404"><span id="local-6989586621679539406"><span id="local-6989586621679539408"><span id="local-6989586621679539410"><span id="local-6989586621679539412"><span id="local-6989586621679539414"><span id="local-6989586621679539416"><span id="local-6989586621679539418"><span id="local-6989586621679539420"><span id="local-6989586621679539422"><span id="local-6989586621679539424"><span id="local-6989586621679539426"><span id="local-6989586621679539428"><span id="local-6989586621679539430"><span id="local-6989586621679539432"><span id="local-6989586621679539434"><span id="local-6989586621679539436"><span id="local-6989586621679539438"><span id="local-6989586621679539440"><span id="local-6989586621679539442"><span id="local-6989586621679539444"><span id="local-6989586621679539446"><span id="local-6989586621679539448"><span id="local-6989586621679539450"><span id="local-6989586621679539452"><span id="local-6989586621679539454"><span id="local-6989586621679539456"><span id="local-6989586621679539458"><span id="local-6989586621679539460"><span id="local-6989586621679539462"><span id="local-6989586621679539464"><span id="local-6989586621679539466"><span id="local-6989586621679539468"><span id="local-6989586621679539470"><span id="local-6989586621679539472"><span id="local-6989586621679539474"><span id="local-6989586621679539475"><span id="local-6989586621679539476"><span id="local-6989586621679539477"><span class="hs-identifier">deriveManyStoreFromStorable</span><span>
</span><span id="line-827"></span><span>  </span><span class="hs-comment">-- TODO: Figure out why on GHC-8.2.1 this internal datatype is visible</span><span>
</span><span id="line-828"></span><span>  </span><span class="hs-comment">-- in the instances of Storable. Here's a gist of an attempt at</span><span>
</span><span id="line-829"></span><span>  </span><span class="hs-comment">-- debugging the issue:</span><span>
</span><span id="line-830"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-831"></span><span>  </span><span class="hs-comment">-- https://gist.github.com/mgsloan/a7c416b961015949d3b5674ce053bbf6</span><span>
</span><span id="line-832"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-833"></span><span>  </span><span class="hs-comment">-- The mysterious thing is why this is happening despite not having a</span><span>
</span><span id="line-834"></span><span>  </span><span class="hs-comment">-- direct import of Data.Text.Encoding.</span><span>
</span><span id="line-835"></span><span>  </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">ty</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-836"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">ty</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-837"></span><span>      </span><span class="hs-identifier">ConT</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">nameModule</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-operator">==</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-string">&quot;Data.Text.Encoding&quot;</span><span>
</span><span id="line-838"></span><span>            </span><span class="hs-operator">&amp;&amp;</span><span> </span><span class="hs-identifier">nameBase</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-operator">==</span><span> </span><span class="hs-string">&quot;DecoderState&quot;</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-839"></span><span>      </span><span class="hs-identifier">ConT</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">nameModule</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-operator">==</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-string">&quot;Data.Text.Encoding&quot;</span><span>
</span><span id="line-840"></span><span>            </span><span class="hs-operator">&amp;&amp;</span><span> </span><span class="hs-identifier">nameBase</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-operator">==</span><span> </span><span class="hs-string">&quot;CodePoint&quot;</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-841"></span><span>      </span><span class="hs-identifier">ConT</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">nameModule</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-operator">==</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-string">&quot;Network.Socket.Types&quot;</span><span>
</span><span id="line-842"></span><span>            </span><span class="hs-operator">&amp;&amp;</span><span> </span><span class="hs-identifier">nameBase</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-operator">==</span><span> </span><span class="hs-string">&quot;In6Addr&quot;</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-843"></span><span>      </span><span class="hs-comment">-- AddrInfo's Storable instance is lossy, so avoid having a Store</span><span>
</span><span id="line-844"></span><span>      </span><span class="hs-comment">-- instance for it.</span><span>
</span><span id="line-845"></span><span>      </span><span class="hs-identifier">ConT</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-operator">==</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">AddrInfo</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-846"></span><span>      </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">True</span><span>
</span><span id="line-847"></span><span>    </span><span class="hs-special">)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-848"></span><span>
</span><span id="line-849"></span><span class="hs-special">$(</span><span id="local-6989586621679539060"><span id="local-6989586621679539062"><span id="local-6989586621679539064"><span id="local-6989586621679539066"><span id="local-6989586621679539068"><span id="local-6989586621679539070"><span id="local-6989586621679539072"><span id="local-6989586621679539074"><span id="local-6989586621679539076"><span class="hs-identifier">reifyManyWithoutInstances</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">Store</span><span> </span><span class="hs-special">[</span><span class="hs-special">''</span><span class="hs-identifier">ModName</span><span class="hs-special">,</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">NameSpace</span><span class="hs-special">,</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">PkgName</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">const</span><span> </span><span class="hs-identifier">True</span><span class="hs-special">)</span><span> </span><span class="hs-operator">&gt;&gt;=</span><span>
</span><span id="line-850"></span><span>   </span><span class="hs-identifier">mapM</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">name</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">return</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">deriveGenericInstance</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">ConT</span><span> </span><span class="hs-identifier">name</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-851"></span><span>
</span><span id="line-852"></span><span class="hs-comment">-- Explicit definition needed because in template-haskell &lt;= 2.9 (GHC</span><span>
</span><span id="line-853"></span><span class="hs-comment">-- 7.8), NameFlavour contains unboxed values, causing generic deriving</span><span>
</span><span id="line-854"></span><span class="hs-comment">-- to fail.</span><span class="hs-cpp">
#if !MIN_VERSION_template_haskell(2,10,0)
</span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Store</span><span> </span><span class="hs-identifier">NameFlavour</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-857"></span><span>    </span><span class="hs-identifier">size</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">VarSize</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">x</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">getSize</span><span> </span><span class="hs-special">(</span><span class="hs-number">0</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Word8</span><span class="hs-special">)</span><span> </span><span class="hs-operator">+</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">x</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-858"></span><span>        </span><span class="hs-identifier">NameS</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">0</span><span>
</span><span id="line-859"></span><span>        </span><span class="hs-identifier">NameQ</span><span> </span><span class="hs-identifier">mn</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">getSize</span><span> </span><span class="hs-identifier">mn</span><span>
</span><span id="line-860"></span><span>        </span><span class="hs-identifier">NameU</span><span> </span><span class="hs-identifier">i</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">getSize</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">I#</span><span> </span><span class="hs-identifier">i</span><span class="hs-special">)</span><span>
</span><span id="line-861"></span><span>        </span><span class="hs-identifier">NameL</span><span> </span><span class="hs-identifier">i</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">getSize</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">I#</span><span> </span><span class="hs-identifier">i</span><span class="hs-special">)</span><span>
</span><span id="line-862"></span><span>        </span><span class="hs-identifier">NameG</span><span> </span><span class="hs-identifier">ns</span><span> </span><span class="hs-identifier">pn</span><span> </span><span class="hs-identifier">mn</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">getSize</span><span> </span><span class="hs-identifier">ns</span><span> </span><span class="hs-operator">+</span><span> </span><span class="hs-identifier">getSize</span><span> </span><span class="hs-identifier">pn</span><span> </span><span class="hs-operator">+</span><span> </span><span class="hs-identifier">getSize</span><span> </span><span class="hs-identifier">mn</span><span>
</span><span id="line-863"></span><span>    </span><span class="hs-identifier">poke</span><span> </span><span class="hs-identifier">NameS</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">poke</span><span> </span><span class="hs-special">(</span><span class="hs-number">0</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Word8</span><span class="hs-special">)</span><span>
</span><span id="line-864"></span><span>    </span><span class="hs-identifier">poke</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">NameQ</span><span> </span><span class="hs-identifier">mn</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-865"></span><span>        </span><span class="hs-identifier">poke</span><span> </span><span class="hs-special">(</span><span class="hs-number">1</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Word8</span><span class="hs-special">)</span><span>
</span><span id="line-866"></span><span>        </span><span class="hs-identifier">poke</span><span> </span><span class="hs-identifier">mn</span><span>
</span><span id="line-867"></span><span>    </span><span class="hs-identifier">poke</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">NameU</span><span> </span><span class="hs-identifier">i</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-868"></span><span>        </span><span class="hs-identifier">poke</span><span> </span><span class="hs-special">(</span><span class="hs-number">2</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Word8</span><span class="hs-special">)</span><span>
</span><span id="line-869"></span><span>        </span><span class="hs-identifier">poke</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">I#</span><span> </span><span class="hs-identifier">i</span><span class="hs-special">)</span><span>
</span><span id="line-870"></span><span>    </span><span class="hs-identifier">poke</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">NameL</span><span> </span><span class="hs-identifier">i</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-871"></span><span>        </span><span class="hs-identifier">poke</span><span> </span><span class="hs-special">(</span><span class="hs-number">3</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Word8</span><span class="hs-special">)</span><span>
</span><span id="line-872"></span><span>        </span><span class="hs-identifier">poke</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">I#</span><span> </span><span class="hs-identifier">i</span><span class="hs-special">)</span><span>
</span><span id="line-873"></span><span>    </span><span class="hs-identifier">poke</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">NameG</span><span> </span><span class="hs-identifier">ns</span><span> </span><span class="hs-identifier">pn</span><span> </span><span class="hs-identifier">mn</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-874"></span><span>        </span><span class="hs-identifier">poke</span><span> </span><span class="hs-special">(</span><span class="hs-number">4</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Word8</span><span class="hs-special">)</span><span>
</span><span id="line-875"></span><span>        </span><span class="hs-identifier">poke</span><span> </span><span class="hs-identifier">ns</span><span>
</span><span id="line-876"></span><span>        </span><span class="hs-identifier">poke</span><span> </span><span class="hs-identifier">pn</span><span>
</span><span id="line-877"></span><span>        </span><span class="hs-identifier">poke</span><span> </span><span class="hs-identifier">mn</span><span>
</span><span id="line-878"></span><span>    </span><span class="hs-identifier">peek</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-879"></span><span>        </span><span class="hs-identifier">tag</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">peek</span><span>
</span><span id="line-880"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">tag</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Word8</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-881"></span><span>            </span><span class="hs-number">0</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">return</span><span> </span><span class="hs-identifier">NameS</span><span>
</span><span id="line-882"></span><span>            </span><span class="hs-number">1</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">NameQ</span><span> </span><span class="hs-operator">&lt;$&gt;</span><span> </span><span class="hs-identifier">peek</span><span>
</span><span id="line-883"></span><span>            </span><span class="hs-number">2</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-884"></span><span>                </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="hs-identifier">I#</span><span> </span><span class="hs-identifier">i</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">peek</span><span>
</span><span id="line-885"></span><span>                </span><span class="hs-identifier">return</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">NameU</span><span> </span><span class="hs-identifier">i</span><span class="hs-special">)</span><span>
</span><span id="line-886"></span><span>            </span><span class="hs-number">3</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-887"></span><span>                </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="hs-identifier">I#</span><span> </span><span class="hs-identifier">i</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">peek</span><span>
</span><span id="line-888"></span><span>                </span><span class="hs-identifier">return</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">NameL</span><span> </span><span class="hs-identifier">i</span><span class="hs-special">)</span><span>
</span><span id="line-889"></span><span>            </span><span class="hs-number">4</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">NameG</span><span> </span><span class="hs-operator">&lt;$&gt;</span><span> </span><span class="hs-identifier">peek</span><span> </span><span class="hs-operator">&lt;*&gt;</span><span> </span><span class="hs-identifier">peek</span><span> </span><span class="hs-operator">&lt;*&gt;</span><span> </span><span class="hs-identifier">peek</span><span>
</span><span id="line-890"></span><span>            </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">peekException</span><span> </span><span class="hs-string">&quot;Invalid NameFlavour tag&quot;</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-893"></span><span class="hs-special">$(</span><span id="local-6989586621679538802"><span id="local-6989586621679538804"><span id="local-6989586621679538806"><span id="local-6989586621679538808"><span id="local-6989586621679538810"><span id="local-6989586621679538812"><span id="local-6989586621679538814"><span id="local-6989586621679538816"><span id="local-6989586621679538818"><span id="local-6989586621679538820"><span id="local-6989586621679538822"><span id="local-6989586621679538824"><span id="local-6989586621679538826"><span id="local-6989586621679538828"><span id="local-6989586621679538830"><span id="local-6989586621679538832"><span id="local-6989586621679538834"><span id="local-6989586621679538836"><span id="local-6989586621679538838"><span id="local-6989586621679538840"><span id="local-6989586621679538842"><span id="local-6989586621679538844"><span id="local-6989586621679538846"><span id="local-6989586621679538848"><span id="local-6989586621679538850"><span id="local-6989586621679538852"><span id="local-6989586621679538854"><span id="local-6989586621679538856"><span id="local-6989586621679538858"><span id="local-6989586621679538860"><span id="local-6989586621679538862"><span id="local-6989586621679538864"><span id="local-6989586621679538866"><span id="local-6989586621679538868"><span id="local-6989586621679538870"><span id="local-6989586621679538872"><span id="local-6989586621679538874"><span id="local-6989586621679538876"><span id="local-6989586621679538878"><span id="local-6989586621679538880"><span id="local-6989586621679538882"><span id="local-6989586621679538884"><span id="local-6989586621679538886"><span id="local-6989586621679538888"><span id="local-6989586621679538890"><span id="local-6989586621679538892"><span id="local-6989586621679538894"><span id="local-6989586621679538896"><span id="local-6989586621679538898"><span id="local-6989586621679538900"><span id="local-6989586621679538902"><span id="local-6989586621679538904"><span id="local-6989586621679538906"><span id="local-6989586621679538908"><span id="local-6989586621679538910"><span id="local-6989586621679538912"><span id="local-6989586621679538914"><span id="local-6989586621679538916"><span id="local-6989586621679538918"><span id="local-6989586621679538920"><span id="local-6989586621679538922"><span id="local-6989586621679538924"><span id="local-6989586621679538926"><span id="local-6989586621679538928"><span id="local-6989586621679538930"><span id="local-6989586621679538932"><span id="local-6989586621679538934"><span id="local-6989586621679538936"><span id="local-6989586621679538938"><span id="local-6989586621679538940"><span id="local-6989586621679538942"><span id="local-6989586621679538944"><span id="local-6989586621679538946"><span id="local-6989586621679538948"><span id="local-6989586621679538950"><span id="local-6989586621679538952"><span id="local-6989586621679538954"><span id="local-6989586621679538956"><span id="local-6989586621679538958"><span id="local-6989586621679538960"><span id="local-6989586621679538962"><span id="local-6989586621679538964"><span id="local-6989586621679538966"><span id="local-6989586621679538968"><span id="local-6989586621679538970"><span id="local-6989586621679538972"><span id="local-6989586621679538974"><span id="local-6989586621679538976"><span id="local-6989586621679538978"><span id="local-6989586621679538980"><span id="local-6989586621679538982"><span id="local-6989586621679538984"><span id="local-6989586621679538986"><span id="local-6989586621679538988"><span id="local-6989586621679538990"><span id="local-6989586621679538992"><span id="local-6989586621679538994"><span id="local-6989586621679538996"><span id="local-6989586621679538998"><span id="local-6989586621679539000"><span id="local-6989586621679539002"><span id="local-6989586621679539004"><span id="local-6989586621679539006"><span id="local-6989586621679539008"><span id="local-6989586621679539010"><span id="local-6989586621679539012"><span id="local-6989586621679539014"><span id="local-6989586621679539016"><span id="local-6989586621679539018"><span id="local-6989586621679539020"><span id="local-6989586621679539022"><span id="local-6989586621679539024"><span id="local-6989586621679539026"><span id="local-6989586621679539028"><span id="local-6989586621679539030"><span id="local-6989586621679539032"><span id="local-6989586621679539034"><span id="local-6989586621679539036"><span id="local-6989586621679539038"><span id="local-6989586621679539040"><span id="local-6989586621679539042"><span id="local-6989586621679539044"><span id="local-6989586621679539046"><span id="local-6989586621679539048"><span id="local-6989586621679539050"><span id="local-6989586621679539052"><span id="local-6989586621679539054"><span id="local-6989586621679539056"><span id="local-6989586621679539058"><span class="hs-identifier">reifyManyWithoutInstances</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">Store</span><span> </span><span class="hs-special">[</span><span class="hs-special">''</span><span class="hs-identifier">Info</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">const</span><span> </span><span class="hs-identifier">True</span><span class="hs-special">)</span><span> </span><span class="hs-operator">&gt;&gt;=</span><span>
</span><span id="line-894"></span><span>   </span><span class="hs-identifier">mapM</span><span> </span><span class="hs-identifier">deriveGenericInstanceFromName</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-895"></span></pre></body></html>