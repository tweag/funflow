<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-- | Generalized cursors to be applied to different nodes.</span><span>
</span><span id="line-2"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Text.XML.Cursor.Generic</span><span>
</span><span id="line-3"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- * Core</span></span><span>
</span><span id="line-4"></span><span>      </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier">Cursor</span></a></span><span>
</span><span id="line-5"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Axis"><span class="hs-identifier">Axis</span></a></span><span>
</span><span id="line-6"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#toCursor"><span class="hs-identifier">toCursor</span></a></span><span>
</span><span id="line-7"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#node"><span class="hs-identifier">node</span></a></span><span>
</span><span id="line-8"></span><span>      </span><span class="annot"><span class="hs-comment">-- * Axes</span></span><span>
</span><span id="line-9"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#child"><span class="hs-identifier">child</span></a></span><span>
</span><span id="line-10"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#parent"><span class="hs-identifier">parent</span></a></span><span>
</span><span id="line-11"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#precedingSibling"><span class="hs-identifier">precedingSibling</span></a></span><span>
</span><span id="line-12"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#followingSibling"><span class="hs-identifier">followingSibling</span></a></span><span>
</span><span id="line-13"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#ancestor"><span class="hs-identifier">ancestor</span></a></span><span>
</span><span id="line-14"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#descendant"><span class="hs-identifier">descendant</span></a></span><span>
</span><span id="line-15"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#orSelf"><span class="hs-identifier">orSelf</span></a></span><span>
</span><span id="line-16"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#preceding"><span class="hs-identifier">preceding</span></a></span><span>
</span><span id="line-17"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#following"><span class="hs-identifier">following</span></a></span><span>
</span><span id="line-18"></span><span>      </span><span class="annot"><span class="hs-comment">-- * Operators</span></span><span>
</span><span id="line-19"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#%26%7C"><span class="hs-operator">(&amp;|)</span></a></span><span>
</span><span id="line-20"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#%26%2F"><span class="hs-operator">(&amp;/)</span></a></span><span>
</span><span id="line-21"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#%26%2F%2F"><span class="hs-operator">(&amp;//)</span></a></span><span>
</span><span id="line-22"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#%26.%2F%2F"><span class="hs-operator">(&amp;.//)</span></a></span><span>
</span><span id="line-23"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#%24%7C"><span class="hs-operator">($|)</span></a></span><span>
</span><span id="line-24"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#%24%2F"><span class="hs-operator">($/)</span></a></span><span>
</span><span id="line-25"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#%24%2F%2F"><span class="hs-operator">($//)</span></a></span><span>
</span><span id="line-26"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#%24.%2F%2F"><span class="hs-operator">($.//)</span></a></span><span>
</span><span id="line-27"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(&gt;=&gt;)</span></span><span>
</span><span id="line-28"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-29"></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">maybeToList</span></span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.List</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">foldl'</span></span><span class="hs-special">)</span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(&gt;=&gt;)</span></span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span>
</span><span id="line-34"></span><span class="hs-keyword">type</span><span> </span><span id="DiffCursor"><span class="annot"><a href="Text.XML.Cursor.Generic.html#DiffCursor"><span class="hs-identifier hs-var">DiffCursor</span></a></span></span><span> </span><span id="local-6989586621679092254"><span class="annot"><a href="#local-6989586621679092254"><span class="hs-identifier hs-type">node</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092254"><span class="hs-identifier hs-type">node</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092254"><span class="hs-identifier hs-type">node</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-35"></span><span class="hs-keyword">type</span><span> </span><span id="Axis"><span class="annot"><a href="Text.XML.Cursor.Generic.html#Axis"><span class="hs-identifier hs-var">Axis</span></a></span></span><span> </span><span id="local-6989586621679092253"><span class="annot"><a href="#local-6989586621679092253"><span class="hs-identifier hs-type">node</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092253"><span class="hs-identifier hs-type">node</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092253"><span class="hs-identifier hs-type">node</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-36"></span><span>
</span><span id="line-37"></span><span class="hs-comment">-- | A cursor: contains an XML 'Node' and pointers to its children, ancestors and siblings.</span><span>
</span><span id="line-38"></span><span class="hs-keyword">data</span><span> </span><span id="Cursor"><span class="annot"><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-var">Cursor</span></a></span></span><span> </span><span id="local-6989586621679092342"><span class="annot"><a href="#local-6989586621679092342"><span class="hs-identifier hs-type">node</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Cursor"><span class="annot"><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-var">Cursor</span></a></span></span><span>
</span><span id="line-39"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="parent%27"><span class="annot"><span class="annottext">Cursor node -&gt; Maybe (Cursor node)
</span><a href="Text.XML.Cursor.Generic.html#parent%27"><span class="hs-identifier hs-var hs-var">parent'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092342"><span class="hs-identifier hs-type">node</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="precedingSibling%27"><span class="annot"><span class="annottext">Cursor node -&gt; DiffCursor node
</span><a href="Text.XML.Cursor.Generic.html#precedingSibling%27"><span class="hs-identifier hs-var hs-var">precedingSibling'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#DiffCursor"><span class="hs-identifier hs-type">DiffCursor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092342"><span class="hs-identifier hs-type">node</span></a></span><span>
</span><span id="line-41"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="followingSibling%27"><span class="annot"><span class="annottext">Cursor node -&gt; DiffCursor node
</span><a href="Text.XML.Cursor.Generic.html#followingSibling%27"><span class="hs-identifier hs-var hs-var">followingSibling'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#DiffCursor"><span class="hs-identifier hs-type">DiffCursor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092342"><span class="hs-identifier hs-type">node</span></a></span><span>
</span><span id="line-42"></span><span>    </span><span class="hs-comment">-- | The child axis. XPath:</span><span>
</span><span id="line-43"></span><span>    </span><span class="hs-comment">-- /the child axis contains the children of the context node/.</span><span>
</span><span id="line-44"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="child"><span class="annot"><span class="annottext">Cursor node -&gt; [Cursor node]
</span><a href="Text.XML.Cursor.Generic.html#child"><span class="hs-identifier hs-var hs-var">child</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092342"><span class="hs-identifier hs-type">node</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-45"></span><span>    </span><span class="hs-comment">-- | The current node.</span><span>
</span><span id="line-46"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="node"><span class="annot"><span class="annottext">Cursor node -&gt; node
</span><a href="Text.XML.Cursor.Generic.html#node"><span class="hs-identifier hs-var hs-var">node</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679092342"><span class="hs-identifier hs-type">node</span></a></span><span>
</span><span id="line-47"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-48"></span><span>
</span><span id="line-49"></span><span id="local-6989586621679092248"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679092243"><span id="local-6989586621679092246"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679092248"><span class="hs-identifier hs-type">node</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092248"><span class="hs-identifier hs-type">node</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-50"></span><span>    </span><span id="local-6989586621679092241"><span class="annot"><span class="annottext">show :: Cursor node -&gt; String
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></span></span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">node :: forall node. Cursor node -&gt; node
</span><a href="Text.XML.Cursor.Generic.html#node"><span class="hs-identifier hs-var">node</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679092239"><span class="annot"><span class="annottext">node
</span><a href="#local-6989586621679092239"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Cursor @ &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">node -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">node
</span><a href="#local-6989586621679092239"><span class="hs-identifier hs-var">n</span></a></span></span><span>
</span><span id="line-51"></span><span>
</span><span id="line-52"></span><span id="local-6989586621679092238"><span class="annot"><a href="Text.XML.Cursor.Generic.html#toCursor"><span class="hs-identifier hs-type">toCursor</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679092238"><span class="hs-identifier hs-type">node</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679092238"><span class="hs-identifier hs-type">node</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ get children</span><span>
</span><span id="line-53"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679092238"><span class="hs-identifier hs-type">node</span></a></span><span>
</span><span id="line-54"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092238"><span class="hs-identifier hs-type">node</span></a></span></span><span>
</span><span id="line-55"></span><span id="toCursor"><span class="annot"><span class="annottext">toCursor :: (node -&gt; [node]) -&gt; node -&gt; Cursor node
</span><a href="Text.XML.Cursor.Generic.html#toCursor"><span class="hs-identifier hs-var hs-var">toCursor</span></a></span></span><span> </span><span id="local-6989586621679092237"><span class="annot"><span class="annottext">node -&gt; [node]
</span><a href="#local-6989586621679092237"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(node -&gt; [node])
-&gt; Maybe (Cursor node)
-&gt; DiffCursor node
-&gt; DiffCursor node
-&gt; node
-&gt; Cursor node
forall node.
(node -&gt; [node])
-&gt; Maybe (Cursor node)
-&gt; DiffCursor node
-&gt; DiffCursor node
-&gt; node
-&gt; Cursor node
</span><a href="Text.XML.Cursor.Generic.html#toCursor%27"><span class="hs-identifier hs-var">toCursor'</span></a></span><span> </span><span class="annot"><span class="annottext">node -&gt; [node]
</span><a href="#local-6989586621679092237"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Cursor node)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">DiffCursor node
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span> </span><span class="annot"><span class="annottext">DiffCursor node
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-56"></span><span>
</span><span id="line-57"></span><span id="local-6989586621679092339"><span class="annot"><a href="Text.XML.Cursor.Generic.html#toCursor%27"><span class="hs-identifier hs-type">toCursor'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679092339"><span class="hs-identifier hs-type">node</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679092339"><span class="hs-identifier hs-type">node</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-58"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092339"><span class="hs-identifier hs-type">node</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#DiffCursor"><span class="hs-identifier hs-type">DiffCursor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092339"><span class="hs-identifier hs-type">node</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#DiffCursor"><span class="hs-identifier hs-type">DiffCursor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092339"><span class="hs-identifier hs-type">node</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679092339"><span class="hs-identifier hs-type">node</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092339"><span class="hs-identifier hs-type">node</span></a></span></span><span>
</span><span id="line-59"></span><span id="toCursor%27"><span class="annot"><span class="annottext">toCursor' :: (node -&gt; [node])
-&gt; Maybe (Cursor node)
-&gt; DiffCursor node
-&gt; DiffCursor node
-&gt; node
-&gt; Cursor node
</span><a href="Text.XML.Cursor.Generic.html#toCursor%27"><span class="hs-identifier hs-var hs-var">toCursor'</span></a></span></span><span> </span><span id="local-6989586621679092234"><span class="annot"><span class="annottext">node -&gt; [node]
</span><a href="#local-6989586621679092234"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span id="local-6989586621679092233"><span class="annot"><span class="annottext">Maybe (Cursor node)
</span><a href="#local-6989586621679092233"><span class="hs-identifier hs-var">par</span></a></span></span><span> </span><span id="local-6989586621679092232"><span class="annot"><span class="annottext">DiffCursor node
</span><a href="#local-6989586621679092232"><span class="hs-identifier hs-var">pre</span></a></span></span><span> </span><span id="local-6989586621679092231"><span class="annot"><span class="annottext">DiffCursor node
</span><a href="#local-6989586621679092231"><span class="hs-identifier hs-var">fol</span></a></span></span><span> </span><span id="local-6989586621679092230"><span class="annot"><span class="annottext">node
</span><a href="#local-6989586621679092230"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-60"></span><span>    </span><span class="annot"><span class="annottext">Cursor node
</span><a href="#local-6989586621679092229"><span class="hs-identifier hs-var">me</span></a></span><span>
</span><span id="line-61"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-62"></span><span>    </span><span id="local-6989586621679092229"><span class="annot"><span class="annottext">me :: Cursor node
</span><a href="#local-6989586621679092229"><span class="hs-identifier hs-var hs-var">me</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (Cursor node)
-&gt; DiffCursor node
-&gt; DiffCursor node
-&gt; [Cursor node]
-&gt; node
-&gt; Cursor node
forall node.
Maybe (Cursor node)
-&gt; DiffCursor node
-&gt; DiffCursor node
-&gt; [Cursor node]
-&gt; node
-&gt; Cursor node
</span><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-var">Cursor</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Cursor node)
</span><a href="#local-6989586621679092233"><span class="hs-identifier hs-var">par</span></a></span><span> </span><span class="annot"><span class="annottext">DiffCursor node
</span><a href="#local-6989586621679092232"><span class="hs-identifier hs-var">pre</span></a></span><span> </span><span class="annot"><span class="annottext">DiffCursor node
</span><a href="#local-6989586621679092231"><span class="hs-identifier hs-var">fol</span></a></span><span> </span><span class="annot"><span class="annottext">[Cursor node]
</span><a href="#local-6989586621679092228"><span class="hs-identifier hs-var">chi</span></a></span><span> </span><span class="annot"><span class="annottext">node
</span><a href="#local-6989586621679092230"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-63"></span><span>    </span><span id="local-6989586621679092227"><span class="annot"><span class="annottext">chi' :: [node]
</span><a href="#local-6989586621679092227"><span class="hs-identifier hs-var hs-var">chi'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">node -&gt; [node]
</span><a href="#local-6989586621679092234"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="annot"><span class="annottext">node
</span><a href="#local-6989586621679092230"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-64"></span><span>    </span><span id="local-6989586621679092228"><span class="annot"><span class="annottext">chi :: [Cursor node]
</span><a href="#local-6989586621679092228"><span class="hs-identifier hs-var hs-var">chi</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DiffCursor node -&gt; [node] -&gt; DiffCursor node
</span><a href="#local-6989586621679092226"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">DiffCursor node
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span> </span><span class="annot"><span class="annottext">[node]
</span><a href="#local-6989586621679092227"><span class="hs-identifier hs-var">chi'</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-65"></span><span>    </span><span id="local-6989586621679092226"><span class="annot"><span class="annottext">go :: DiffCursor node -&gt; [node] -&gt; DiffCursor node
</span><a href="#local-6989586621679092226"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="annot"><span class="annottext">DiffCursor node
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DiffCursor node
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-66"></span><span>    </span><span class="annot"><a href="#local-6989586621679092226"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621679092225"><span class="annot"><span class="annottext">DiffCursor node
</span><a href="#local-6989586621679092225"><span class="hs-identifier hs-var">pre'</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679092224"><span class="annot"><span class="annottext">node
</span><a href="#local-6989586621679092224"><span class="hs-identifier hs-var">n'</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679092223"><span class="annot"><span class="annottext">[node]
</span><a href="#local-6989586621679092223"><span class="hs-identifier hs-var">ns'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-67"></span><span>        </span><span class="hs-special">(</span><span class="hs-glyph">:</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Cursor node
</span><a href="#local-6989586621679092222"><span class="hs-identifier hs-var">me'</span></a></span><span> </span><span class="annot"><span class="annottext">DiffCursor node -&gt; DiffCursor node -&gt; DiffCursor node
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">DiffCursor node
</span><a href="#local-6989586621679092220"><span class="hs-identifier hs-var">fol'</span></a></span><span>
</span><span id="line-68"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-69"></span><span>        </span><span id="local-6989586621679092222"><span class="annot"><span class="annottext">me' :: Cursor node
</span><a href="#local-6989586621679092222"><span class="hs-identifier hs-var hs-var">me'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(node -&gt; [node])
-&gt; Maybe (Cursor node)
-&gt; DiffCursor node
-&gt; DiffCursor node
-&gt; node
-&gt; Cursor node
forall node.
(node -&gt; [node])
-&gt; Maybe (Cursor node)
-&gt; DiffCursor node
-&gt; DiffCursor node
-&gt; node
-&gt; Cursor node
</span><a href="Text.XML.Cursor.Generic.html#toCursor%27"><span class="hs-identifier hs-var">toCursor'</span></a></span><span> </span><span class="annot"><span class="annottext">node -&gt; [node]
</span><a href="#local-6989586621679092234"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Cursor node -&gt; Maybe (Cursor node)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Cursor node
</span><a href="#local-6989586621679092229"><span class="hs-identifier hs-var">me</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DiffCursor node
</span><a href="#local-6989586621679092225"><span class="hs-identifier hs-var">pre'</span></a></span><span> </span><span class="annot"><span class="annottext">DiffCursor node
</span><a href="#local-6989586621679092220"><span class="hs-identifier hs-var">fol'</span></a></span><span> </span><span class="annot"><span class="annottext">node
</span><a href="#local-6989586621679092224"><span class="hs-identifier hs-var">n'</span></a></span><span>
</span><span id="line-70"></span><span>        </span><span id="local-6989586621679092220"><span class="annot"><span class="annottext">fol' :: DiffCursor node
</span><a href="#local-6989586621679092220"><span class="hs-identifier hs-var hs-var">fol'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DiffCursor node -&gt; [node] -&gt; DiffCursor node
</span><a href="#local-6989586621679092226"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DiffCursor node
</span><a href="#local-6989586621679092225"><span class="hs-identifier hs-var">pre'</span></a></span><span> </span><span class="annot"><span class="annottext">DiffCursor node -&gt; DiffCursor node -&gt; DiffCursor node
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">:</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Cursor node
</span><a href="#local-6989586621679092222"><span class="hs-identifier hs-var">me'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[node]
</span><a href="#local-6989586621679092223"><span class="hs-identifier hs-var">ns'</span></a></span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span class="hs-comment">-- | The parent axis. As described in XPath:</span><span>
</span><span id="line-73"></span><span class="hs-comment">-- /the parent axis contains the parent of the context node, if there is one/.</span><span>
</span><span id="line-74"></span><span class="hs-comment">--</span><span>
</span><span id="line-75"></span><span class="hs-comment">-- Every node but the root element of the document has a parent. Parent nodes</span><span>
</span><span id="line-76"></span><span class="hs-comment">-- will always be 'NodeElement's.</span><span>
</span><span id="line-77"></span><span id="local-6989586621679092321"><span class="annot"><a href="Text.XML.Cursor.Generic.html#parent"><span class="hs-identifier hs-type">parent</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Axis"><span class="hs-identifier hs-type">Axis</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092321"><span class="hs-identifier hs-type">node</span></a></span></span><span>
</span><span id="line-78"></span><span id="parent"><span class="annot"><span class="annottext">parent :: Axis node
</span><a href="Text.XML.Cursor.Generic.html#parent"><span class="hs-identifier hs-var hs-var">parent</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (Cursor node) -&gt; [Cursor node]
forall a. Maybe a -&gt; [a]
</span><span class="hs-identifier hs-var">maybeToList</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (Cursor node) -&gt; [Cursor node])
-&gt; (Cursor node -&gt; Maybe (Cursor node)) -&gt; Axis node
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Cursor node -&gt; Maybe (Cursor node)
forall node. Cursor node -&gt; Maybe (Cursor node)
</span><a href="Text.XML.Cursor.Generic.html#parent%27"><span class="hs-identifier hs-var hs-var">parent'</span></a></span><span>
</span><span id="line-79"></span><span>
</span><span id="line-80"></span><span class="hs-comment">-- | The preceding-sibling axis. XPath:</span><span>
</span><span id="line-81"></span><span class="hs-comment">-- /the preceding-sibling axis contains all the preceding siblings of the context node [...]/.</span><span>
</span><span id="line-82"></span><span id="local-6989586621679092219"><span class="annot"><a href="Text.XML.Cursor.Generic.html#precedingSibling"><span class="hs-identifier hs-type">precedingSibling</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Axis"><span class="hs-identifier hs-type">Axis</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092219"><span class="hs-identifier hs-type">node</span></a></span></span><span>
</span><span id="line-83"></span><span id="precedingSibling"><span class="annot"><span class="annottext">precedingSibling :: Axis node
</span><a href="Text.XML.Cursor.Generic.html#precedingSibling"><span class="hs-identifier hs-var hs-var">precedingSibling</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">([Cursor node] -&gt; [Cursor node]) -&gt; [Cursor node] -&gt; [Cursor node]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(([Cursor node] -&gt; [Cursor node]) -&gt; [Cursor node])
-&gt; (Cursor node -&gt; [Cursor node] -&gt; [Cursor node]) -&gt; Axis node
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Cursor node -&gt; [Cursor node] -&gt; [Cursor node]
forall node. Cursor node -&gt; DiffCursor node
</span><a href="Text.XML.Cursor.Generic.html#precedingSibling%27"><span class="hs-identifier hs-var hs-var">precedingSibling'</span></a></span><span>
</span><span id="line-84"></span><span>
</span><span id="line-85"></span><span class="hs-comment">-- | The following-sibling axis. XPath:</span><span>
</span><span id="line-86"></span><span class="hs-comment">-- /the following-sibling axis contains all the following siblings of the context node [...]/.</span><span>
</span><span id="line-87"></span><span id="local-6989586621679092218"><span class="annot"><a href="Text.XML.Cursor.Generic.html#followingSibling"><span class="hs-identifier hs-type">followingSibling</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Axis"><span class="hs-identifier hs-type">Axis</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092218"><span class="hs-identifier hs-type">node</span></a></span></span><span>
</span><span id="line-88"></span><span id="followingSibling"><span class="annot"><span class="annottext">followingSibling :: Axis node
</span><a href="Text.XML.Cursor.Generic.html#followingSibling"><span class="hs-identifier hs-var hs-var">followingSibling</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">([Cursor node] -&gt; [Cursor node]) -&gt; [Cursor node] -&gt; [Cursor node]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(([Cursor node] -&gt; [Cursor node]) -&gt; [Cursor node])
-&gt; (Cursor node -&gt; [Cursor node] -&gt; [Cursor node]) -&gt; Axis node
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Cursor node -&gt; [Cursor node] -&gt; [Cursor node]
forall node. Cursor node -&gt; DiffCursor node
</span><a href="Text.XML.Cursor.Generic.html#followingSibling%27"><span class="hs-identifier hs-var hs-var">followingSibling'</span></a></span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span class="hs-comment">-- | The preceding axis. XPath:</span><span>
</span><span id="line-91"></span><span class="hs-comment">-- /the preceding axis contains all nodes in the same document as the context node that are before the context node in document order, excluding any ancestors and excluding attribute nodes and namespace nodes/.</span><span>
</span><span id="line-92"></span><span id="local-6989586621679092217"><span class="annot"><a href="Text.XML.Cursor.Generic.html#preceding"><span class="hs-identifier hs-type">preceding</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Axis"><span class="hs-identifier hs-type">Axis</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092217"><span class="hs-identifier hs-type">node</span></a></span></span><span>
</span><span id="line-93"></span><span id="preceding"><span class="annot"><span class="annottext">preceding :: Axis node
</span><a href="Text.XML.Cursor.Generic.html#preceding"><span class="hs-identifier hs-var hs-var">preceding</span></a></span></span><span> </span><span id="local-6989586621679092216"><span class="annot"><span class="annottext">Cursor node
</span><a href="#local-6989586621679092216"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-94"></span><span>    </span><span class="annot"><span class="annottext">[Cursor node] -&gt; [Cursor node] -&gt; [Cursor node]
forall (t :: * -&gt; *) node.
Foldable t =&gt;
t (Cursor node) -&gt; [Cursor node] -&gt; [Cursor node]
</span><a href="#local-6989586621679092215"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Cursor node -&gt; [Cursor node] -&gt; [Cursor node]
forall node. Cursor node -&gt; DiffCursor node
</span><a href="Text.XML.Cursor.Generic.html#precedingSibling%27"><span class="hs-identifier hs-var hs-var">precedingSibling'</span></a></span><span> </span><span class="annot"><span class="annottext">Cursor node
</span><a href="#local-6989586621679092216"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Axis node
forall node. Axis node
</span><a href="Text.XML.Cursor.Generic.html#parent"><span class="hs-identifier hs-var">parent</span></a></span><span> </span><span class="annot"><span class="annottext">Cursor node
</span><a href="#local-6989586621679092216"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">[Cursor node] -&gt; Axis node -&gt; [Cursor node]
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Axis node
forall node. Axis node
</span><a href="Text.XML.Cursor.Generic.html#preceding"><span class="hs-identifier hs-var">preceding</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-95"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-96"></span><span>    </span><span id="local-6989586621679092215"><span class="annot"><span class="annottext">go :: t (Cursor node) -&gt; [Cursor node] -&gt; [Cursor node]
</span><a href="#local-6989586621679092215"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679092214"><span class="annot"><span class="annottext">t (Cursor node)
</span><a href="#local-6989586621679092214"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679092213"><span class="annot"><span class="annottext">[Cursor node]
</span><a href="#local-6989586621679092213"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([Cursor node] -&gt; Cursor node -&gt; [Cursor node])
-&gt; [Cursor node] -&gt; t (Cursor node) -&gt; [Cursor node]
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl'</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Cursor node -&gt; [Cursor node] -&gt; [Cursor node])
-&gt; [Cursor node] -&gt; Cursor node -&gt; [Cursor node]
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">Cursor node -&gt; [Cursor node] -&gt; [Cursor node]
forall node. Cursor node -&gt; DiffCursor node
</span><a href="#local-6989586621679092211"><span class="hs-identifier hs-var">go'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Cursor node]
</span><a href="#local-6989586621679092213"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">t (Cursor node)
</span><a href="#local-6989586621679092214"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-97"></span><span>    </span><span id="local-6989586621679092211"><span class="annot"><span class="annottext">go' :: Cursor node -&gt; [Cursor node] -&gt; [Cursor node]
</span><a href="#local-6989586621679092211"><span class="hs-identifier hs-var hs-var">go'</span></a></span></span><span> </span><span id="local-6989586621679092210"><span class="annot"><span class="annottext">Cursor node
</span><a href="#local-6989586621679092210"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679092209"><span class="annot"><span class="annottext">[Cursor node]
</span><a href="#local-6989586621679092209"><span class="hs-identifier hs-var">rest</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([Cursor node] -&gt; Cursor node -&gt; [Cursor node])
-&gt; [Cursor node] -&gt; [Cursor node] -&gt; [Cursor node]
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl'</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Cursor node -&gt; [Cursor node] -&gt; [Cursor node])
-&gt; [Cursor node] -&gt; Cursor node -&gt; [Cursor node]
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span>  </span><span class="annot"><span class="annottext">Cursor node -&gt; [Cursor node] -&gt; [Cursor node]
</span><a href="#local-6989586621679092211"><span class="hs-identifier hs-var">go'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Cursor node
</span><a href="#local-6989586621679092210"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Cursor node -&gt; [Cursor node] -&gt; [Cursor node]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[Cursor node]
</span><a href="#local-6989586621679092209"><span class="hs-identifier hs-var">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Cursor node -&gt; [Cursor node]
forall node. Axis node
</span><a href="Text.XML.Cursor.Generic.html#child"><span class="hs-identifier hs-var hs-var">child</span></a></span><span> </span><span class="annot"><span class="annottext">Cursor node
</span><a href="#local-6989586621679092210"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span class="hs-comment">-- | The following axis. XPath:</span><span>
</span><span id="line-100"></span><span class="hs-comment">-- /the following axis contains all nodes in the same document as the context node that are after the context node in document order, excluding any descendants and excluding attribute nodes and namespace nodes/.</span><span>
</span><span id="line-101"></span><span id="local-6989586621679092208"><span class="annot"><a href="Text.XML.Cursor.Generic.html#following"><span class="hs-identifier hs-type">following</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Axis"><span class="hs-identifier hs-type">Axis</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092208"><span class="hs-identifier hs-type">node</span></a></span></span><span>
</span><span id="line-102"></span><span id="following"><span class="annot"><span class="annottext">following :: Axis node
</span><a href="Text.XML.Cursor.Generic.html#following"><span class="hs-identifier hs-var hs-var">following</span></a></span></span><span> </span><span id="local-6989586621679092207"><span class="annot"><span class="annottext">Cursor node
</span><a href="#local-6989586621679092207"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-103"></span><span>    </span><span class="annot"><span class="annottext">([Cursor node] -&gt; [Cursor node]) -&gt; [Cursor node] -&gt; [Cursor node]
forall (t :: * -&gt; *) a node.
Foldable t =&gt;
([a] -&gt; t (Cursor node)) -&gt; [Cursor node] -&gt; [Cursor node]
</span><a href="#local-6989586621679092206"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Cursor node -&gt; [Cursor node] -&gt; [Cursor node]
forall node. Cursor node -&gt; DiffCursor node
</span><a href="Text.XML.Cursor.Generic.html#followingSibling%27"><span class="hs-identifier hs-var hs-var">followingSibling'</span></a></span><span> </span><span class="annot"><span class="annottext">Cursor node
</span><a href="#local-6989586621679092207"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Axis node
forall node. Axis node
</span><a href="Text.XML.Cursor.Generic.html#parent"><span class="hs-identifier hs-var">parent</span></a></span><span> </span><span class="annot"><span class="annottext">Cursor node
</span><a href="#local-6989586621679092207"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">[Cursor node] -&gt; Axis node -&gt; [Cursor node]
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Axis node
forall node. Axis node
</span><a href="Text.XML.Cursor.Generic.html#following"><span class="hs-identifier hs-var">following</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-104"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-105"></span><span>    </span><span id="local-6989586621679092206"><span class="annot"><span class="annottext">go :: ([a] -&gt; t (Cursor node)) -&gt; [Cursor node] -&gt; [Cursor node]
</span><a href="#local-6989586621679092206"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679092205"><span class="annot"><span class="annottext">[a] -&gt; t (Cursor node)
</span><a href="#local-6989586621679092205"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679092204"><span class="annot"><span class="annottext">[Cursor node]
</span><a href="#local-6989586621679092204"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Cursor node -&gt; [Cursor node] -&gt; [Cursor node])
-&gt; [Cursor node] -&gt; t (Cursor node) -&gt; [Cursor node]
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldr</span></span><span> </span><span class="annot"><span class="annottext">Cursor node -&gt; [Cursor node] -&gt; [Cursor node]
forall node. Cursor node -&gt; DiffCursor node
</span><a href="#local-6989586621679092202"><span class="hs-identifier hs-var">go'</span></a></span><span> </span><span class="annot"><span class="annottext">[Cursor node]
</span><a href="#local-6989586621679092204"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[a] -&gt; t (Cursor node)
</span><a href="#local-6989586621679092205"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-106"></span><span>    </span><span id="local-6989586621679092202"><span class="annot"><span class="annottext">go' :: Cursor node -&gt; [Cursor node] -&gt; [Cursor node]
</span><a href="#local-6989586621679092202"><span class="hs-identifier hs-var hs-var">go'</span></a></span></span><span> </span><span id="local-6989586621679092201"><span class="annot"><span class="annottext">Cursor node
</span><a href="#local-6989586621679092201"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679092200"><span class="annot"><span class="annottext">[Cursor node]
</span><a href="#local-6989586621679092200"><span class="hs-identifier hs-var">rest</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cursor node
</span><a href="#local-6989586621679092201"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Cursor node -&gt; [Cursor node] -&gt; [Cursor node]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">(Cursor node -&gt; [Cursor node] -&gt; [Cursor node])
-&gt; [Cursor node] -&gt; [Cursor node] -&gt; [Cursor node]
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldr</span></span><span> </span><span class="annot"><span class="annottext">Cursor node -&gt; [Cursor node] -&gt; [Cursor node]
</span><a href="#local-6989586621679092202"><span class="hs-identifier hs-var">go'</span></a></span><span> </span><span class="annot"><span class="annottext">[Cursor node]
</span><a href="#local-6989586621679092200"><span class="hs-identifier hs-var">rest</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Cursor node -&gt; [Cursor node]
forall node. Axis node
</span><a href="Text.XML.Cursor.Generic.html#child"><span class="hs-identifier hs-var hs-var">child</span></a></span><span> </span><span class="annot"><span class="annottext">Cursor node
</span><a href="#local-6989586621679092201"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span class="hs-comment">-- | The ancestor axis. XPath:</span><span>
</span><span id="line-109"></span><span class="hs-comment">-- /the ancestor axis contains the ancestors of the context node; the ancestors of the context node consist of the parent of context node and the parent's parent and so on; thus, the ancestor axis will always include the root node, unless the context node is the root node/.</span><span>
</span><span id="line-110"></span><span id="local-6989586621679092199"><span class="annot"><a href="Text.XML.Cursor.Generic.html#ancestor"><span class="hs-identifier hs-type">ancestor</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Axis"><span class="hs-identifier hs-type">Axis</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092199"><span class="hs-identifier hs-type">node</span></a></span></span><span>
</span><span id="line-111"></span><span id="ancestor"><span class="annot"><span class="annottext">ancestor :: Axis node
</span><a href="Text.XML.Cursor.Generic.html#ancestor"><span class="hs-identifier hs-var hs-var">ancestor</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Axis node
forall node. Axis node
</span><a href="Text.XML.Cursor.Generic.html#parent"><span class="hs-identifier hs-var">parent</span></a></span><span> </span><span class="annot"><span class="annottext">Axis node -&gt; Axis node -&gt; Axis node
forall (m :: * -&gt; *) a b c.
Monad m =&gt;
(a -&gt; m b) -&gt; (b -&gt; m c) -&gt; a -&gt; m c
</span><span class="hs-operator hs-var">&gt;=&gt;</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679092198"><span class="annot"><span class="annottext">Cursor node
</span><a href="#local-6989586621679092198"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Cursor node
</span><a href="#local-6989586621679092198"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Cursor node -&gt; [Cursor node] -&gt; [Cursor node]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">Axis node
forall node. Axis node
</span><a href="Text.XML.Cursor.Generic.html#ancestor"><span class="hs-identifier hs-var">ancestor</span></a></span><span> </span><span class="annot"><span class="annottext">Cursor node
</span><a href="#local-6989586621679092198"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-112"></span><span>
</span><span id="line-113"></span><span class="hs-comment">-- | The descendant axis. XPath:</span><span>
</span><span id="line-114"></span><span class="hs-comment">-- /the descendant axis contains the descendants of the context node; a descendant is a child or a child of a child and so on; thus the descendant axis never contains attribute or namespace nodes/.</span><span>
</span><span id="line-115"></span><span id="local-6989586621679092197"><span class="annot"><a href="Text.XML.Cursor.Generic.html#descendant"><span class="hs-identifier hs-type">descendant</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Axis"><span class="hs-identifier hs-type">Axis</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092197"><span class="hs-identifier hs-type">node</span></a></span></span><span>
</span><span id="line-116"></span><span id="descendant"><span class="annot"><span class="annottext">descendant :: Axis node
</span><a href="Text.XML.Cursor.Generic.html#descendant"><span class="hs-identifier hs-var hs-var">descendant</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Axis node
forall node. Axis node
</span><a href="Text.XML.Cursor.Generic.html#child"><span class="hs-identifier hs-var hs-var">child</span></a></span><span> </span><span class="annot"><span class="annottext">Axis node -&gt; Axis node -&gt; Axis node
forall (m :: * -&gt; *) a b c.
Monad m =&gt;
(a -&gt; m b) -&gt; (b -&gt; m c) -&gt; a -&gt; m c
</span><span class="hs-operator hs-var">&gt;=&gt;</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679092196"><span class="annot"><span class="annottext">Cursor node
</span><a href="#local-6989586621679092196"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Cursor node
</span><a href="#local-6989586621679092196"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Cursor node -&gt; [Cursor node] -&gt; [Cursor node]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">Axis node
forall node. Axis node
</span><a href="Text.XML.Cursor.Generic.html#descendant"><span class="hs-identifier hs-var">descendant</span></a></span><span> </span><span class="annot"><span class="annottext">Cursor node
</span><a href="#local-6989586621679092196"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span class="hs-comment">-- | Modify an axis by adding the context node itself as the first element of the result list.</span><span>
</span><span id="line-119"></span><span id="local-6989586621679092285"><span class="annot"><a href="Text.XML.Cursor.Generic.html#orSelf"><span class="hs-identifier hs-type">orSelf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Axis"><span class="hs-identifier hs-type">Axis</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092285"><span class="hs-identifier hs-type">node</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Axis"><span class="hs-identifier hs-type">Axis</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092285"><span class="hs-identifier hs-type">node</span></a></span></span><span>
</span><span id="line-120"></span><span id="orSelf"><span class="annot"><span class="annottext">orSelf :: Axis node -&gt; Axis node
</span><a href="Text.XML.Cursor.Generic.html#orSelf"><span class="hs-identifier hs-var hs-var">orSelf</span></a></span></span><span> </span><span id="local-6989586621679092195"><span class="annot"><span class="annottext">Axis node
</span><a href="#local-6989586621679092195"><span class="hs-identifier hs-var">ax</span></a></span></span><span> </span><span id="local-6989586621679092194"><span class="annot"><span class="annottext">Cursor node
</span><a href="#local-6989586621679092194"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cursor node
</span><a href="#local-6989586621679092194"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Cursor node -&gt; [Cursor node] -&gt; [Cursor node]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">Axis node
</span><a href="#local-6989586621679092195"><span class="hs-identifier hs-var">ax</span></a></span><span> </span><span class="annot"><span class="annottext">Cursor node
</span><a href="#local-6989586621679092194"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-121"></span><span>
</span><span id="line-122"></span><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">1</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#%26%7C"><span class="hs-operator hs-type">&amp;|</span></a></span><span>
</span><span id="line-123"></span><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">1</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#%26%2F"><span class="hs-operator hs-type">&amp;/</span></a></span><span> </span><span>
</span><span id="line-124"></span><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">1</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#%26%2F%2F"><span class="hs-operator hs-type">&amp;//</span></a></span><span> </span><span>
</span><span id="line-125"></span><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">1</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#%26.%2F%2F"><span class="hs-operator hs-type">&amp;.//</span></a></span><span> </span><span>
</span><span id="line-126"></span><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">1</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#%24%7C"><span class="hs-operator hs-type">$|</span></a></span><span>
</span><span id="line-127"></span><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">1</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#%24%2F"><span class="hs-operator hs-type">$/</span></a></span><span>
</span><span id="line-128"></span><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">1</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#%24%2F%2F"><span class="hs-operator hs-type">$//</span></a></span><span>
</span><span id="line-129"></span><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">1</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#%24.%2F%2F"><span class="hs-operator hs-type">$.//</span></a></span><span>
</span><span id="line-130"></span><span>
</span><span id="line-131"></span><span class="hs-comment">-- | Apply a function to the result of an axis.</span><span>
</span><span id="line-132"></span><span id="local-6989586621679092191"><span id="local-6989586621679092192"><span id="local-6989586621679092193"><span class="annot"><a href="Text.XML.Cursor.Generic.html#%26%7C"><span class="hs-operator hs-type">(&amp;|)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092193"><span class="hs-identifier hs-type">node</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679092192"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679092192"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679092191"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092193"><span class="hs-identifier hs-type">node</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679092191"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-133"></span><span id="local-6989586621679092190"><span class="annot"><span class="annottext">Cursor node -&gt; [a]
</span><a href="#local-6989586621679092190"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="%26%7C"><span class="annot"><span class="annottext">&amp;| :: (Cursor node -&gt; [a]) -&gt; (a -&gt; b) -&gt; Cursor node -&gt; [b]
</span><a href="Text.XML.Cursor.Generic.html#%26%7C"><span class="hs-operator hs-var hs-var">&amp;|</span></a></span></span><span> </span><span id="local-6989586621679092189"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679092189"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; [a] -&gt; [b]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679092189"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; [b]) -&gt; (Cursor node -&gt; [a]) -&gt; Cursor node -&gt; [b]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Cursor node -&gt; [a]
</span><a href="#local-6989586621679092190"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-134"></span><span>
</span><span id="line-135"></span><span class="hs-comment">-- | Combine two axes so that the second works on the children of the results</span><span>
</span><span id="line-136"></span><span class="hs-comment">-- of the first.</span><span>
</span><span id="line-137"></span><span id="local-6989586621679092187"><span id="local-6989586621679092188"><span class="annot"><a href="Text.XML.Cursor.Generic.html#%26%2F"><span class="hs-operator hs-type">(&amp;/)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Axis"><span class="hs-identifier hs-type">Axis</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092188"><span class="hs-identifier hs-type">node</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092188"><span class="hs-identifier hs-type">node</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679092187"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092188"><span class="hs-identifier hs-type">node</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679092187"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-138"></span><span id="local-6989586621679092186"><span class="annot"><span class="annottext">Axis node
</span><a href="#local-6989586621679092186"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="%26%2F"><span class="annot"><span class="annottext">&amp;/ :: Axis node -&gt; (Cursor node -&gt; [a]) -&gt; Cursor node -&gt; [a]
</span><a href="Text.XML.Cursor.Generic.html#%26%2F"><span class="hs-operator hs-var hs-var">&amp;/</span></a></span></span><span> </span><span id="local-6989586621679092185"><span class="annot"><span class="annottext">Cursor node -&gt; [a]
</span><a href="#local-6989586621679092185"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Axis node
</span><a href="#local-6989586621679092186"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Axis node -&gt; (Cursor node -&gt; [a]) -&gt; Cursor node -&gt; [a]
forall (m :: * -&gt; *) a b c.
Monad m =&gt;
(a -&gt; m b) -&gt; (b -&gt; m c) -&gt; a -&gt; m c
</span><span class="hs-operator hs-var">&gt;=&gt;</span></span><span> </span><span class="annot"><span class="annottext">Axis node
forall node. Axis node
</span><a href="Text.XML.Cursor.Generic.html#child"><span class="hs-identifier hs-var hs-var">child</span></a></span><span> </span><span class="annot"><span class="annottext">Axis node -&gt; (Cursor node -&gt; [a]) -&gt; Cursor node -&gt; [a]
forall (m :: * -&gt; *) a b c.
Monad m =&gt;
(a -&gt; m b) -&gt; (b -&gt; m c) -&gt; a -&gt; m c
</span><span class="hs-operator hs-var">&gt;=&gt;</span></span><span> </span><span class="annot"><span class="annottext">Cursor node -&gt; [a]
</span><a href="#local-6989586621679092185"><span class="hs-identifier hs-var">g</span></a></span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span><span class="hs-comment">-- | Combine two axes so that the second works on the descendants of the results</span><span>
</span><span id="line-141"></span><span class="hs-comment">-- of the first.</span><span>
</span><span id="line-142"></span><span id="local-6989586621679092183"><span id="local-6989586621679092184"><span class="annot"><a href="Text.XML.Cursor.Generic.html#%26%2F%2F"><span class="hs-operator hs-type">(&amp;//)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Axis"><span class="hs-identifier hs-type">Axis</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092184"><span class="hs-identifier hs-type">node</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092184"><span class="hs-identifier hs-type">node</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679092183"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092184"><span class="hs-identifier hs-type">node</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679092183"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-143"></span><span id="local-6989586621679092182"><span class="annot"><span class="annottext">Axis node
</span><a href="#local-6989586621679092182"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="%26%2F%2F"><span class="annot"><span class="annottext">&amp;// :: Axis node -&gt; (Cursor node -&gt; [a]) -&gt; Cursor node -&gt; [a]
</span><a href="Text.XML.Cursor.Generic.html#%26%2F%2F"><span class="hs-operator hs-var hs-var">&amp;//</span></a></span></span><span> </span><span id="local-6989586621679092181"><span class="annot"><span class="annottext">Cursor node -&gt; [a]
</span><a href="#local-6989586621679092181"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Axis node
</span><a href="#local-6989586621679092182"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Axis node -&gt; (Cursor node -&gt; [a]) -&gt; Cursor node -&gt; [a]
forall (m :: * -&gt; *) a b c.
Monad m =&gt;
(a -&gt; m b) -&gt; (b -&gt; m c) -&gt; a -&gt; m c
</span><span class="hs-operator hs-var">&gt;=&gt;</span></span><span> </span><span class="annot"><span class="annottext">Axis node
forall node. Axis node
</span><a href="Text.XML.Cursor.Generic.html#descendant"><span class="hs-identifier hs-var">descendant</span></a></span><span> </span><span class="annot"><span class="annottext">Axis node -&gt; (Cursor node -&gt; [a]) -&gt; Cursor node -&gt; [a]
forall (m :: * -&gt; *) a b c.
Monad m =&gt;
(a -&gt; m b) -&gt; (b -&gt; m c) -&gt; a -&gt; m c
</span><span class="hs-operator hs-var">&gt;=&gt;</span></span><span> </span><span class="annot"><span class="annottext">Cursor node -&gt; [a]
</span><a href="#local-6989586621679092181"><span class="hs-identifier hs-var">g</span></a></span><span>
</span><span id="line-144"></span><span>
</span><span id="line-145"></span><span class="hs-comment">-- | Combine two axes so that the second works on both the result nodes, and their</span><span>
</span><span id="line-146"></span><span class="hs-comment">-- descendants.</span><span>
</span><span id="line-147"></span><span id="local-6989586621679092179"><span id="local-6989586621679092180"><span class="annot"><a href="Text.XML.Cursor.Generic.html#%26.%2F%2F"><span class="hs-operator hs-type">(&amp;.//)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Axis"><span class="hs-identifier hs-type">Axis</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092180"><span class="hs-identifier hs-type">node</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092180"><span class="hs-identifier hs-type">node</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679092179"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092180"><span class="hs-identifier hs-type">node</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679092179"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-148"></span><span id="local-6989586621679092178"><span class="annot"><span class="annottext">Axis node
</span><a href="#local-6989586621679092178"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="%26.%2F%2F"><span class="annot"><span class="annottext">&amp;.// :: Axis node -&gt; (Cursor node -&gt; [a]) -&gt; Cursor node -&gt; [a]
</span><a href="Text.XML.Cursor.Generic.html#%26.%2F%2F"><span class="hs-operator hs-var hs-var">&amp;.//</span></a></span></span><span> </span><span id="local-6989586621679092177"><span class="annot"><span class="annottext">Cursor node -&gt; [a]
</span><a href="#local-6989586621679092177"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Axis node
</span><a href="#local-6989586621679092178"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Axis node -&gt; (Cursor node -&gt; [a]) -&gt; Cursor node -&gt; [a]
forall (m :: * -&gt; *) a b c.
Monad m =&gt;
(a -&gt; m b) -&gt; (b -&gt; m c) -&gt; a -&gt; m c
</span><span class="hs-operator hs-var">&gt;=&gt;</span></span><span> </span><span class="annot"><span class="annottext">Axis node -&gt; Axis node
forall node. Axis node -&gt; Axis node
</span><a href="Text.XML.Cursor.Generic.html#orSelf"><span class="hs-identifier hs-var">orSelf</span></a></span><span> </span><span class="annot"><span class="annottext">Axis node
forall node. Axis node
</span><a href="Text.XML.Cursor.Generic.html#descendant"><span class="hs-identifier hs-var">descendant</span></a></span><span> </span><span class="annot"><span class="annottext">Axis node -&gt; (Cursor node -&gt; [a]) -&gt; Cursor node -&gt; [a]
forall (m :: * -&gt; *) a b c.
Monad m =&gt;
(a -&gt; m b) -&gt; (b -&gt; m c) -&gt; a -&gt; m c
</span><span class="hs-operator hs-var">&gt;=&gt;</span></span><span> </span><span class="annot"><span class="annottext">Cursor node -&gt; [a]
</span><a href="#local-6989586621679092177"><span class="hs-identifier hs-var">g</span></a></span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span class="hs-comment">-- | Apply an axis to a 'Cursor node'.</span><span>
</span><span id="line-151"></span><span id="local-6989586621679092175"><span id="local-6989586621679092176"><span class="annot"><a href="Text.XML.Cursor.Generic.html#%24%7C"><span class="hs-operator hs-type">($|)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092176"><span class="hs-identifier hs-type">node</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092176"><span class="hs-identifier hs-type">node</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679092175"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679092175"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-152"></span><span id="local-6989586621679092174"><span class="annot"><span class="annottext">Cursor node
</span><a href="#local-6989586621679092174"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="%24%7C"><span class="annot"><span class="annottext">$| :: Cursor node -&gt; (Cursor node -&gt; a) -&gt; a
</span><a href="Text.XML.Cursor.Generic.html#%24%7C"><span class="hs-operator hs-var hs-var">$|</span></a></span></span><span> </span><span id="local-6989586621679092173"><span class="annot"><span class="annottext">Cursor node -&gt; a
</span><a href="#local-6989586621679092173"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cursor node -&gt; a
</span><a href="#local-6989586621679092173"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Cursor node
</span><a href="#local-6989586621679092174"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-153"></span><span>
</span><span id="line-154"></span><span class="hs-comment">-- | Apply an axis to the children of a 'Cursor node'.</span><span>
</span><span id="line-155"></span><span id="local-6989586621679092171"><span id="local-6989586621679092172"><span class="annot"><a href="Text.XML.Cursor.Generic.html#%24%2F"><span class="hs-operator hs-type">($/)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092172"><span class="hs-identifier hs-type">node</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092172"><span class="hs-identifier hs-type">node</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679092171"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679092171"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-156"></span><span id="local-6989586621679092170"><span class="annot"><span class="annottext">Cursor node
</span><a href="#local-6989586621679092170"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="%24%2F"><span class="annot"><span class="annottext">$/ :: Cursor node -&gt; (Cursor node -&gt; [a]) -&gt; [a]
</span><a href="Text.XML.Cursor.Generic.html#%24%2F"><span class="hs-operator hs-var hs-var">$/</span></a></span></span><span> </span><span id="local-6989586621679092169"><span class="annot"><span class="annottext">Cursor node -&gt; [a]
</span><a href="#local-6989586621679092169"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cursor node -&gt; [Cursor node]
forall node. Axis node
</span><a href="Text.XML.Cursor.Generic.html#child"><span class="hs-identifier hs-var hs-var">child</span></a></span><span> </span><span class="annot"><span class="annottext">Cursor node
</span><a href="#local-6989586621679092170"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">[Cursor node] -&gt; (Cursor node -&gt; [a]) -&gt; [a]
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Cursor node -&gt; [a]
</span><a href="#local-6989586621679092169"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-157"></span><span>
</span><span id="line-158"></span><span class="hs-comment">-- | Apply an axis to the descendants of a 'Cursor node'.</span><span>
</span><span id="line-159"></span><span id="local-6989586621679092167"><span id="local-6989586621679092168"><span class="annot"><a href="Text.XML.Cursor.Generic.html#%24%2F%2F"><span class="hs-operator hs-type">($//)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092168"><span class="hs-identifier hs-type">node</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092168"><span class="hs-identifier hs-type">node</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679092167"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679092167"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-160"></span><span id="local-6989586621679092166"><span class="annot"><span class="annottext">Cursor node
</span><a href="#local-6989586621679092166"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="%24%2F%2F"><span class="annot"><span class="annottext">$// :: Cursor node -&gt; (Cursor node -&gt; [a]) -&gt; [a]
</span><a href="Text.XML.Cursor.Generic.html#%24%2F%2F"><span class="hs-operator hs-var hs-var">$//</span></a></span></span><span> </span><span id="local-6989586621679092165"><span class="annot"><span class="annottext">Cursor node -&gt; [a]
</span><a href="#local-6989586621679092165"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Axis node
forall node. Axis node
</span><a href="Text.XML.Cursor.Generic.html#descendant"><span class="hs-identifier hs-var">descendant</span></a></span><span> </span><span class="annot"><span class="annottext">Cursor node
</span><a href="#local-6989586621679092166"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">[Cursor node] -&gt; (Cursor node -&gt; [a]) -&gt; [a]
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Cursor node -&gt; [a]
</span><a href="#local-6989586621679092165"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-161"></span><span>
</span><span id="line-162"></span><span class="hs-comment">-- | Apply an axis to a 'Cursor node' as well as its descendants.</span><span>
</span><span id="line-163"></span><span id="local-6989586621679092163"><span id="local-6989586621679092164"><span class="annot"><a href="Text.XML.Cursor.Generic.html#%24.%2F%2F"><span class="hs-operator hs-type">($.//)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092164"><span class="hs-identifier hs-type">node</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679092164"><span class="hs-identifier hs-type">node</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679092163"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679092163"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-164"></span><span id="local-6989586621679092162"><span class="annot"><span class="annottext">Cursor node
</span><a href="#local-6989586621679092162"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="%24.%2F%2F"><span class="annot"><span class="annottext">$.// :: Cursor node -&gt; (Cursor node -&gt; [a]) -&gt; [a]
</span><a href="Text.XML.Cursor.Generic.html#%24.%2F%2F"><span class="hs-operator hs-var hs-var">$.//</span></a></span></span><span> </span><span id="local-6989586621679092161"><span class="annot"><span class="annottext">Cursor node -&gt; [a]
</span><a href="#local-6989586621679092161"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Axis node -&gt; Axis node
forall node. Axis node -&gt; Axis node
</span><a href="Text.XML.Cursor.Generic.html#orSelf"><span class="hs-identifier hs-var">orSelf</span></a></span><span> </span><span class="annot"><span class="annottext">Axis node
forall node. Axis node
</span><a href="Text.XML.Cursor.Generic.html#descendant"><span class="hs-identifier hs-var">descendant</span></a></span><span> </span><span class="annot"><span class="annottext">Cursor node
</span><a href="#local-6989586621679092162"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">[Cursor node] -&gt; (Cursor node -&gt; [a]) -&gt; [a]
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Cursor node -&gt; [a]
</span><a href="#local-6989586621679092161"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-165"></span></pre></body></html>