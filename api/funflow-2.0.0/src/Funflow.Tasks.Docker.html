<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE GADTs #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE InstanceSigs #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE NamedFieldPuns #-}</span><span>
</span><span id="line-5"></span><span>
</span><span id="line-6"></span><span class="hs-comment">-- | Run commands using Docker</span><span>
</span><span id="line-7"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Funflow.Tasks.Docker</span><span>
</span><span id="line-8"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Funflow.Tasks.Docker.html#DockerTaskConfig"><span class="hs-identifier">DockerTaskConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-9"></span><span>    </span><span class="annot"><a href="Funflow.Tasks.Docker.html#DockerTask"><span class="hs-identifier">DockerTask</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-10"></span><span>    </span><span class="annot"><a href="Funflow.Tasks.Docker.html#DockerTaskInput"><span class="hs-identifier">DockerTaskInput</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-11"></span><span>    </span><span class="annot"><a href="Funflow.Tasks.Docker.html#VolumeBinding"><span class="hs-identifier">VolumeBinding</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>    </span><span class="annot"><a href="Funflow.Tasks.Docker.html#Arg"><span class="hs-identifier">Arg</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>    </span><span class="annot"><a href="Funflow.Tasks.Docker.html#renderArg"><span class="hs-identifier">renderArg</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-14"></span><span>    </span><span class="annot"><a href="Funflow.Tasks.Docker.html#getIdFromArg"><span class="hs-identifier">getIdFromArg</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-15"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span class="hs-keyword">where</span><span>
</span><span id="line-17"></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.CAS.ContentStore</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">CS</span></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.List</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">foldl'</span></span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Set</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.String</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">IsString</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">fromString</span></span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Text</span></span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Funflow.Config.html"><span class="hs-identifier">Funflow.Config</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Funflow.Config.html#ConfigKeysBySource"><span class="hs-identifier">ConfigKeysBySource</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Funflow.Config.html#Configurable"><span class="hs-identifier">Configurable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Funflow.Config.html#Literal"><span class="hs-identifier">Literal</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Funflow.Config.html#ExternalConfig"><span class="hs-identifier">ExternalConfig</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Funflow.Config.html#configKeyBySource"><span class="hs-identifier">configKeyBySource</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Funflow.Config.html#render"><span class="hs-identifier">render</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Path</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Abs</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Dir</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Path</span></span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span>
</span><span id="line-28"></span><span class="hs-comment">-- | Configure what task to run in Docker</span><span>
</span><span id="line-29"></span><span class="hs-keyword">data</span><span> </span><span id="DockerTaskConfig"><span class="annot"><a href="Funflow.Tasks.Docker.html#DockerTaskConfig"><span class="hs-identifier hs-var">DockerTaskConfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="DockerTaskConfig"><span class="annot"><a href="Funflow.Tasks.Docker.html#DockerTaskConfig"><span class="hs-identifier hs-var">DockerTaskConfig</span></a></span></span><span>
</span><span id="line-30"></span><span>  </span><span class="hs-special">{</span><span> </span><span class="hs-comment">-- | The name of the docker image</span><span>
</span><span id="line-31"></span><span>    </span><span id="image"><span class="annot"><span class="annottext">DockerTaskConfig -&gt; Text
</span><a href="Funflow.Tasks.Docker.html#image"><span class="hs-identifier hs-var hs-var">image</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>    </span><span class="hs-comment">-- | The command to run</span><span>
</span><span id="line-33"></span><span>    </span><span id="command"><span class="annot"><span class="annottext">DockerTaskConfig -&gt; Text
</span><a href="Funflow.Tasks.Docker.html#command"><span class="hs-identifier hs-var hs-var">command</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>    </span><span class="hs-comment">-- | The arguments to pass to the command run inside of the container</span><span>
</span><span id="line-35"></span><span>    </span><span id="args"><span class="annot"><span class="annottext">DockerTaskConfig -&gt; [Arg]
</span><a href="Funflow.Tasks.Docker.html#args"><span class="hs-identifier hs-var hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Funflow.Tasks.Docker.html#Arg"><span class="hs-identifier hs-type">Arg</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-36"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-37"></span><span>
</span><span id="line-38"></span><span class="hs-comment">-- | Represent an argument to pass to the command run inside of a Docker container</span><span>
</span><span id="line-39"></span><span class="hs-keyword">data</span><span> </span><span id="Arg"><span class="annot"><a href="Funflow.Tasks.Docker.html#Arg"><span class="hs-identifier hs-var">Arg</span></a></span></span><span>
</span><span id="line-40"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-comment">-- | Raw text argument</span><span>
</span><span id="line-41"></span><span>    </span><span id="Arg"><span class="annot"><a href="Funflow.Tasks.Docker.html#Arg"><span class="hs-identifier hs-var">Arg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Funflow.Config.html#Configurable"><span class="hs-identifier hs-type">Configurable</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">)</span><span>
</span><span id="line-42"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | A placeholder for an argument to be passed as runtime input to the task (filled by @argsVals@)</span><span>
</span><span id="line-43"></span><span>    </span><span id="Placeholder"><span class="annot"><a href="Funflow.Tasks.Docker.html#Placeholder"><span class="hs-identifier hs-var">Placeholder</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IsString</span></span><span> </span><span class="annot"><a href="Funflow.Tasks.Docker.html#Arg"><span class="hs-identifier hs-type">Arg</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-46"></span><span>  </span><span id="local-6989586621679182566"><span class="annot"><span class="annottext">fromString :: String -&gt; Arg
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fromString</span></span></span><span> </span><span id="local-6989586621679182565"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679182565"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Configurable Text -&gt; Arg
</span><a href="Funflow.Tasks.Docker.html#Arg"><span class="hs-identifier hs-var">Arg</span></a></span><span> </span><span class="annot"><span class="annottext">(Configurable Text -&gt; Arg) -&gt; Configurable Text -&gt; Arg
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Configurable Text
forall a. a -&gt; Configurable a
</span><a href="Funflow.Config.html#Literal"><span class="hs-identifier hs-var">Literal</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Configurable Text) -&gt; Text -&gt; Configurable Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679182565"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-47"></span><span>
</span><span id="line-48"></span><span class="hs-comment">-- | Extracts a ConfigKey from an Arg, if it exists.</span><span>
</span><span id="line-49"></span><span class="annot"><a href="Funflow.Tasks.Docker.html#getIdFromArg"><span class="hs-identifier hs-type">getIdFromArg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Funflow.Tasks.Docker.html#Arg"><span class="hs-identifier hs-type">Arg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Funflow.Config.html#ConfigKeysBySource"><span class="hs-identifier hs-type">ConfigKeysBySource</span></a></span><span>
</span><span id="line-50"></span><span id="getIdFromArg"><span class="annot"><span class="annottext">getIdFromArg :: Arg -&gt; Maybe ConfigKeysBySource
</span><a href="Funflow.Tasks.Docker.html#getIdFromArg"><span class="hs-identifier hs-var hs-var">getIdFromArg</span></a></span></span><span> </span><span id="local-6989586621679182563"><span class="annot"><span class="annottext">Arg
</span><a href="#local-6989586621679182563"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Arg
</span><a href="#local-6989586621679182563"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-51"></span><span>  </span><span class="annot"><a href="Funflow.Tasks.Docker.html#Arg"><span class="hs-identifier hs-type">Arg</span></a></span><span> </span><span id="local-6989586621679182562"><span class="annot"><span class="annottext">Configurable Text
</span><a href="#local-6989586621679182562"><span class="hs-identifier hs-var">configurable</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConfigKeysBySource -&gt; Maybe ConfigKeysBySource
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(ConfigKeysBySource -&gt; Maybe ConfigKeysBySource)
-&gt; ConfigKeysBySource -&gt; Maybe ConfigKeysBySource
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Configurable Text -&gt; ConfigKeysBySource
forall a. Configurable a -&gt; ConfigKeysBySource
</span><a href="Funflow.Config.html#configKeyBySource"><span class="hs-identifier hs-var">configKeyBySource</span></a></span><span> </span><span class="annot"><span class="annottext">Configurable Text
</span><a href="#local-6989586621679182562"><span class="hs-identifier hs-var">configurable</span></a></span><span>
</span><span id="line-52"></span><span>  </span><span class="annot"><span class="annottext">Arg
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe ConfigKeysBySource
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span class="hs-comment">-- | Renders an Arg with external configurations</span><span>
</span><span id="line-55"></span><span class="annot"><a href="Funflow.Tasks.Docker.html#renderArg"><span class="hs-identifier hs-type">renderArg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Funflow.Config.html#ExternalConfig"><span class="hs-identifier hs-type">ExternalConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Funflow.Tasks.Docker.html#Arg"><span class="hs-identifier hs-type">Arg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><a href="Funflow.Tasks.Docker.html#Arg"><span class="hs-identifier hs-type">Arg</span></a></span><span>
</span><span id="line-56"></span><span id="renderArg"><span class="annot"><span class="annottext">renderArg :: ExternalConfig -&gt; Arg -&gt; Either String Arg
</span><a href="Funflow.Tasks.Docker.html#renderArg"><span class="hs-identifier hs-var hs-var">renderArg</span></a></span></span><span> </span><span id="local-6989586621679182561"><span class="annot"><span class="annottext">ExternalConfig
</span><a href="#local-6989586621679182561"><span class="hs-identifier hs-var">external</span></a></span></span><span> </span><span id="local-6989586621679182560"><span class="annot"><span class="annottext">Arg
</span><a href="#local-6989586621679182560"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Arg
</span><a href="#local-6989586621679182560"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-57"></span><span>  </span><span class="annot"><a href="Funflow.Tasks.Docker.html#Arg"><span class="hs-identifier hs-type">Arg</span></a></span><span> </span><span id="local-6989586621679182559"><span class="annot"><span class="annottext">Configurable Text
</span><a href="#local-6989586621679182559"><span class="hs-identifier hs-var">configurable</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Configurable Text
-&gt; ExternalConfig -&gt; Either String (Configurable Text)
forall a.
Configurable a -&gt; ExternalConfig -&gt; Either String (Configurable a)
</span><a href="Funflow.Config.html#render"><span class="hs-identifier hs-var">render</span></a></span><span> </span><span class="annot"><span class="annottext">Configurable Text
</span><a href="#local-6989586621679182559"><span class="hs-identifier hs-var">configurable</span></a></span><span> </span><span class="annot"><span class="annottext">ExternalConfig
</span><a href="#local-6989586621679182561"><span class="hs-identifier hs-var">external</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-58"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679182558"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679182558"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Either String Arg
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679182558"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-59"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679182557"><span class="annot"><span class="annottext">Configurable Text
</span><a href="#local-6989586621679182557"><span class="hs-identifier hs-var">renderedConfig</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Arg -&gt; Either String Arg
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Arg -&gt; Either String Arg) -&gt; Arg -&gt; Either String Arg
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Configurable Text -&gt; Arg
</span><a href="Funflow.Tasks.Docker.html#Arg"><span class="hs-identifier hs-var">Arg</span></a></span><span> </span><span class="annot"><span class="annottext">Configurable Text
</span><a href="#local-6989586621679182557"><span class="hs-identifier hs-var">renderedConfig</span></a></span><span>
</span><span id="line-60"></span><span>  </span><span class="annot"><span class="annottext">Arg
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Arg -&gt; Either String Arg
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">Arg
</span><a href="#local-6989586621679182560"><span class="hs-identifier hs-var">arg</span></a></span><span>
</span><span id="line-61"></span><span>
</span><span id="line-62"></span><span class="hs-comment">-- | Input to a Docker task to finalize its configuration</span><span>
</span><span id="line-63"></span><span class="hs-keyword">data</span><span> </span><span id="DockerTaskInput"><span class="annot"><a href="Funflow.Tasks.Docker.html#DockerTaskInput"><span class="hs-identifier hs-var">DockerTaskInput</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="DockerTaskInput"><span class="annot"><a href="Funflow.Tasks.Docker.html#DockerTaskInput"><span class="hs-identifier hs-var">DockerTaskInput</span></a></span></span><span>
</span><span id="line-64"></span><span>  </span><span class="hs-special">{</span><span> </span><span class="hs-comment">-- | Input items to mount on the container</span><span>
</span><span id="line-65"></span><span>    </span><span id="inputBindings"><span class="annot"><span class="annottext">DockerTaskInput -&gt; [VolumeBinding]
</span><a href="Funflow.Tasks.Docker.html#inputBindings"><span class="hs-identifier hs-var hs-var">inputBindings</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Funflow.Tasks.Docker.html#VolumeBinding"><span class="hs-identifier hs-type">VolumeBinding</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-66"></span><span>    </span><span class="hs-comment">-- | A map representing how to fill the argument placeholders (placeholder label -&gt; argument value)</span><span>
</span><span id="line-67"></span><span>    </span><span id="argsVals"><span class="annot"><span class="annottext">DockerTaskInput -&gt; Map String Text
</span><a href="Funflow.Tasks.Docker.html#argsVals"><span class="hs-identifier hs-var hs-var">argsVals</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map.Map</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-68"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-69"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679182550"><span id="local-6989586621679182552"><span class="annot"><span class="annottext">DockerTaskInput -&gt; DockerTaskInput -&gt; Bool
(DockerTaskInput -&gt; DockerTaskInput -&gt; Bool)
-&gt; (DockerTaskInput -&gt; DockerTaskInput -&gt; Bool)
-&gt; Eq DockerTaskInput
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: DockerTaskInput -&gt; DockerTaskInput -&gt; Bool
$c/= :: DockerTaskInput -&gt; DockerTaskInput -&gt; Bool
== :: DockerTaskInput -&gt; DockerTaskInput -&gt; Bool
$c== :: DockerTaskInput -&gt; DockerTaskInput -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679182543"><span id="local-6989586621679182545"><span id="local-6989586621679182547"><span class="annot"><span class="annottext">Int -&gt; DockerTaskInput -&gt; ShowS
[DockerTaskInput] -&gt; ShowS
DockerTaskInput -&gt; String
(Int -&gt; DockerTaskInput -&gt; ShowS)
-&gt; (DockerTaskInput -&gt; String)
-&gt; ([DockerTaskInput] -&gt; ShowS)
-&gt; Show DockerTaskInput
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [DockerTaskInput] -&gt; ShowS
$cshowList :: [DockerTaskInput] -&gt; ShowS
show :: DockerTaskInput -&gt; String
$cshow :: DockerTaskInput -&gt; String
showsPrec :: Int -&gt; DockerTaskInput -&gt; ShowS
$cshowsPrec :: Int -&gt; DockerTaskInput -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span>
</span><span id="line-71"></span><span class="hs-comment">-- | Combine task inputs by combining the collections they contain.</span><span>
</span><span id="line-72"></span><span class="hs-comment">--</span><span>
</span><span id="line-73"></span><span class="hs-comment">-- This treats @inputBindings@ as a &quot;priority list&quot;-like structure in case of repeat occurrence</span><span>
</span><span id="line-74"></span><span class="hs-comment">-- of the same mount path. Specifically, the item associated with a particular path will be the</span><span>
</span><span id="line-75"></span><span class="hs-comment">-- first one, left-to-right, from the @inputBinding@s being combined. Analogous for @argsVals@,</span><span>
</span><span id="line-76"></span><span class="hs-comment">-- in accordance with ordinary @Semigroup Map@.</span><span>
</span><span id="line-77"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679182537"><span id="local-6989586621679182539"><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="annot"><a href="Funflow.Tasks.Docker.html#DockerTaskInput"><span class="hs-identifier hs-type">DockerTaskInput</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-78"></span><span>  </span><span class="annot"><a href="Funflow.Tasks.Docker.html#DockerTaskInput"><span class="hs-identifier hs-type">DockerTaskInput</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">inputBindings :: DockerTaskInput -&gt; [VolumeBinding]
</span><a href="Funflow.Tasks.Docker.html#inputBindings"><span class="hs-identifier hs-var">inputBindings</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679182535"><span class="annot"><span class="annottext">[VolumeBinding]
</span><a href="#local-6989586621679182535"><span class="hs-identifier hs-var">vols1</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">argsVals :: DockerTaskInput -&gt; Map String Text
</span><a href="Funflow.Tasks.Docker.html#argsVals"><span class="hs-identifier hs-var">argsVals</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679182534"><span class="annot"><span class="annottext">Map String Text
</span><a href="#local-6989586621679182534"><span class="hs-identifier hs-var">args1</span></a></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621679182533"><span class="annot"><span class="annottext">&lt;&gt; :: DockerTaskInput -&gt; DockerTaskInput -&gt; DockerTaskInput
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;&gt;</span></span></span><span> </span><span class="annot"><a href="Funflow.Tasks.Docker.html#DockerTaskInput"><span class="hs-identifier hs-type">DockerTaskInput</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">inputBindings :: DockerTaskInput -&gt; [VolumeBinding]
</span><a href="Funflow.Tasks.Docker.html#inputBindings"><span class="hs-identifier hs-var">inputBindings</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679182532"><span class="annot"><span class="annottext">[VolumeBinding]
</span><a href="#local-6989586621679182532"><span class="hs-identifier hs-var">vols2</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">argsVals :: DockerTaskInput -&gt; Map String Text
</span><a href="Funflow.Tasks.Docker.html#argsVals"><span class="hs-identifier hs-var">argsVals</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679182531"><span class="annot"><span class="annottext">Map String Text
</span><a href="#local-6989586621679182531"><span class="hs-identifier hs-var">args2</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-79"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679182530"><span class="annot"><span class="annottext">agg :: (Set (Path Abs Dir), [VolumeBinding])
-&gt; VolumeBinding -&gt; (Set (Path Abs Dir), [VolumeBinding])
</span><a href="#local-6989586621679182530"><span class="hs-identifier hs-var hs-var">agg</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679182529"><span class="annot"><span class="annottext">Set (Path Abs Dir)
</span><a href="#local-6989586621679182529"><span class="hs-identifier hs-var">ms</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679182528"><span class="annot"><span class="annottext">[VolumeBinding]
</span><a href="#local-6989586621679182528"><span class="hs-identifier hs-var">vs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679182527"><span class="annot"><span class="annottext">VolumeBinding
</span><a href="#local-6989586621679182527"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Path Abs Dir -&gt; Set (Path Abs Dir) -&gt; Bool
forall a. Ord a =&gt; a -&gt; Set a -&gt; Bool
</span><span class="hs-identifier hs-var">Set.member</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">VolumeBinding -&gt; Path Abs Dir
</span><a href="Funflow.Tasks.Docker.html#mount"><span class="hs-identifier hs-var hs-var">mount</span></a></span><span> </span><span class="annot"><span class="annottext">VolumeBinding
</span><a href="#local-6989586621679182527"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Set (Path Abs Dir)
</span><a href="#local-6989586621679182529"><span class="hs-identifier hs-var">ms</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set (Path Abs Dir)
</span><a href="#local-6989586621679182529"><span class="hs-identifier hs-var">ms</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[VolumeBinding]
</span><a href="#local-6989586621679182528"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">else</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Path Abs Dir -&gt; Set (Path Abs Dir) -&gt; Set (Path Abs Dir)
forall a. Ord a =&gt; a -&gt; Set a -&gt; Set a
</span><span class="hs-identifier hs-var">Set.insert</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">VolumeBinding -&gt; Path Abs Dir
</span><a href="Funflow.Tasks.Docker.html#mount"><span class="hs-identifier hs-var hs-var">mount</span></a></span><span> </span><span class="annot"><span class="annottext">VolumeBinding
</span><a href="#local-6989586621679182527"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Set (Path Abs Dir)
</span><a href="#local-6989586621679182529"><span class="hs-identifier hs-var">ms</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">VolumeBinding
</span><a href="#local-6989586621679182527"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">VolumeBinding -&gt; [VolumeBinding] -&gt; [VolumeBinding]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[VolumeBinding]
</span><a href="#local-6989586621679182528"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-80"></span><span>        </span><span id="local-6989586621679182523"><span class="annot"><span class="annottext">combVols :: [VolumeBinding]
</span><a href="#local-6989586621679182523"><span class="hs-identifier hs-var hs-var">combVols</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[VolumeBinding] -&gt; [VolumeBinding]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="annot"><span class="annottext">([VolumeBinding] -&gt; [VolumeBinding])
-&gt; ((Set (Path Abs Dir), [VolumeBinding]) -&gt; [VolumeBinding])
-&gt; (Set (Path Abs Dir), [VolumeBinding])
-&gt; [VolumeBinding]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Set (Path Abs Dir), [VolumeBinding]) -&gt; [VolumeBinding]
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">((Set (Path Abs Dir), [VolumeBinding]) -&gt; [VolumeBinding])
-&gt; (Set (Path Abs Dir), [VolumeBinding]) -&gt; [VolumeBinding]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">((Set (Path Abs Dir), [VolumeBinding])
 -&gt; VolumeBinding -&gt; (Set (Path Abs Dir), [VolumeBinding]))
-&gt; (Set (Path Abs Dir), [VolumeBinding])
-&gt; [VolumeBinding]
-&gt; (Set (Path Abs Dir), [VolumeBinding])
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl'</span></span><span> </span><span class="annot"><span class="annottext">(Set (Path Abs Dir), [VolumeBinding])
-&gt; VolumeBinding -&gt; (Set (Path Abs Dir), [VolumeBinding])
</span><a href="#local-6989586621679182530"><span class="hs-identifier hs-var">agg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set (Path Abs Dir)
forall a. Set a
</span><span class="hs-identifier hs-var">Set.empty</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[VolumeBinding]
</span><a href="#local-6989586621679182535"><span class="hs-identifier hs-var">vols1</span></a></span><span> </span><span class="annot"><span class="annottext">[VolumeBinding] -&gt; [VolumeBinding] -&gt; [VolumeBinding]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[VolumeBinding]
</span><a href="#local-6989586621679182532"><span class="hs-identifier hs-var">vols2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span>     </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">DockerTaskInput :: [VolumeBinding] -&gt; Map String Text -&gt; DockerTaskInput
</span><a href="Funflow.Tasks.Docker.html#DockerTaskInput"><span class="hs-identifier hs-type">DockerTaskInput</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">inputBindings :: [VolumeBinding]
</span><a href="Funflow.Tasks.Docker.html#inputBindings"><span class="hs-identifier hs-var">inputBindings</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[VolumeBinding]
</span><a href="#local-6989586621679182523"><span class="hs-identifier hs-var">combVols</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">argsVals :: Map String Text
</span><a href="Funflow.Tasks.Docker.html#argsVals"><span class="hs-identifier hs-var">argsVals</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map String Text
</span><a href="#local-6989586621679182534"><span class="hs-identifier hs-var">args1</span></a></span><span> </span><span class="annot"><span class="annottext">Map String Text -&gt; Map String Text -&gt; Map String Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Map String Text
</span><a href="#local-6989586621679182531"><span class="hs-identifier hs-var">args2</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-82"></span><span>
</span><span id="line-83"></span><span class="hs-comment">-- | An empty task input is one with fields of empty collections.</span><span>
</span><span id="line-84"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679182514"><span id="local-6989586621679182516"><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="Funflow.Tasks.Docker.html#DockerTaskInput"><span class="hs-identifier hs-type">DockerTaskInput</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-85"></span><span>  </span><span id="local-6989586621679182512"><span class="annot"><span class="annottext">mempty :: DockerTaskInput
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">mempty</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DockerTaskInput :: [VolumeBinding] -&gt; Map String Text -&gt; DockerTaskInput
</span><a href="Funflow.Tasks.Docker.html#DockerTaskInput"><span class="hs-identifier hs-type">DockerTaskInput</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">inputBindings :: [VolumeBinding]
</span><a href="Funflow.Tasks.Docker.html#inputBindings"><span class="hs-identifier hs-var">inputBindings</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">argsVals :: Map String Text
</span><a href="Funflow.Tasks.Docker.html#argsVals"><span class="hs-identifier hs-var">argsVals</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map String Text
forall k a. Map k a
</span><span class="hs-identifier hs-var">Map.empty</span></span><span class="hs-special">}</span><span>
</span><span id="line-86"></span><span>
</span><span id="line-87"></span><span class="hs-comment">-- | Represent how to bind a directory from cas-store (@CS.Item@) to a container internal file system</span><span>
</span><span id="line-88"></span><span class="hs-keyword">data</span><span> </span><span id="VolumeBinding"><span class="annot"><a href="Funflow.Tasks.Docker.html#VolumeBinding"><span class="hs-identifier hs-var">VolumeBinding</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="VolumeBinding"><span class="annot"><a href="Funflow.Tasks.Docker.html#VolumeBinding"><span class="hs-identifier hs-var">VolumeBinding</span></a></span></span><span> </span><span class="hs-special">{</span><span id="item"><span class="annot"><span class="annottext">VolumeBinding -&gt; Item
</span><a href="Funflow.Tasks.Docker.html#item"><span class="hs-identifier hs-var hs-var">item</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CS.Item</span></span><span class="hs-special">,</span><span> </span><span id="mount"><span class="annot"><span class="annottext">VolumeBinding -&gt; Path Abs Dir
</span><a href="Funflow.Tasks.Docker.html#mount"><span class="hs-identifier hs-var hs-var">mount</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Path</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Abs</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Dir</span></span><span class="hs-special">}</span><span>
</span><span id="line-89"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679182505"><span id="local-6989586621679182507"><span class="annot"><span class="annottext">VolumeBinding -&gt; VolumeBinding -&gt; Bool
(VolumeBinding -&gt; VolumeBinding -&gt; Bool)
-&gt; (VolumeBinding -&gt; VolumeBinding -&gt; Bool) -&gt; Eq VolumeBinding
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: VolumeBinding -&gt; VolumeBinding -&gt; Bool
$c/= :: VolumeBinding -&gt; VolumeBinding -&gt; Bool
== :: VolumeBinding -&gt; VolumeBinding -&gt; Bool
$c== :: VolumeBinding -&gt; VolumeBinding -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679182490"><span id="local-6989586621679182492"><span id="local-6989586621679182494"><span id="local-6989586621679182496"><span id="local-6989586621679182498"><span id="local-6989586621679182500"><span id="local-6989586621679182502"><span class="annot"><span class="annottext">Eq VolumeBinding
Eq VolumeBinding
-&gt; (VolumeBinding -&gt; VolumeBinding -&gt; Ordering)
-&gt; (VolumeBinding -&gt; VolumeBinding -&gt; Bool)
-&gt; (VolumeBinding -&gt; VolumeBinding -&gt; Bool)
-&gt; (VolumeBinding -&gt; VolumeBinding -&gt; Bool)
-&gt; (VolumeBinding -&gt; VolumeBinding -&gt; Bool)
-&gt; (VolumeBinding -&gt; VolumeBinding -&gt; VolumeBinding)
-&gt; (VolumeBinding -&gt; VolumeBinding -&gt; VolumeBinding)
-&gt; Ord VolumeBinding
VolumeBinding -&gt; VolumeBinding -&gt; Bool
VolumeBinding -&gt; VolumeBinding -&gt; Ordering
VolumeBinding -&gt; VolumeBinding -&gt; VolumeBinding
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: VolumeBinding -&gt; VolumeBinding -&gt; VolumeBinding
$cmin :: VolumeBinding -&gt; VolumeBinding -&gt; VolumeBinding
max :: VolumeBinding -&gt; VolumeBinding -&gt; VolumeBinding
$cmax :: VolumeBinding -&gt; VolumeBinding -&gt; VolumeBinding
&gt;= :: VolumeBinding -&gt; VolumeBinding -&gt; Bool
$c&gt;= :: VolumeBinding -&gt; VolumeBinding -&gt; Bool
&gt; :: VolumeBinding -&gt; VolumeBinding -&gt; Bool
$c&gt; :: VolumeBinding -&gt; VolumeBinding -&gt; Bool
&lt;= :: VolumeBinding -&gt; VolumeBinding -&gt; Bool
$c&lt;= :: VolumeBinding -&gt; VolumeBinding -&gt; Bool
&lt; :: VolumeBinding -&gt; VolumeBinding -&gt; Bool
$c&lt; :: VolumeBinding -&gt; VolumeBinding -&gt; Bool
compare :: VolumeBinding -&gt; VolumeBinding -&gt; Ordering
$ccompare :: VolumeBinding -&gt; VolumeBinding -&gt; Ordering
$cp1Ord :: Eq VolumeBinding
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679182483"><span id="local-6989586621679182485"><span id="local-6989586621679182487"><span class="annot"><span class="annottext">Int -&gt; VolumeBinding -&gt; ShowS
[VolumeBinding] -&gt; ShowS
VolumeBinding -&gt; String
(Int -&gt; VolumeBinding -&gt; ShowS)
-&gt; (VolumeBinding -&gt; String)
-&gt; ([VolumeBinding] -&gt; ShowS)
-&gt; Show VolumeBinding
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [VolumeBinding] -&gt; ShowS
$cshowList :: [VolumeBinding] -&gt; ShowS
show :: VolumeBinding -&gt; String
$cshow :: VolumeBinding -&gt; String
showsPrec :: Int -&gt; VolumeBinding -&gt; ShowS
$cshowsPrec :: Int -&gt; VolumeBinding -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span class="hs-comment">-- Docker tasks to perform external tasks</span><span>
</span><span id="line-92"></span><span class="hs-keyword">data</span><span> </span><span id="DockerTask"><span class="annot"><a href="Funflow.Tasks.Docker.html#DockerTask"><span class="hs-identifier hs-var">DockerTask</span></a></span></span><span> </span><span id="local-6989586621679182482"><span class="annot"><a href="#local-6989586621679182482"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621679182481"><span class="annot"><a href="#local-6989586621679182481"><span class="hs-identifier hs-type">o</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-93"></span><span>  </span><span id="DockerTask"><span class="annot"><a href="Funflow.Tasks.Docker.html#DockerTask"><span class="hs-identifier hs-var">DockerTask</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Funflow.Tasks.Docker.html#DockerTaskConfig"><span class="hs-identifier hs-type">DockerTaskConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Funflow.Tasks.Docker.html#DockerTask"><span class="hs-identifier hs-type">DockerTask</span></a></span><span> </span><span class="annot"><a href="Funflow.Tasks.Docker.html#DockerTaskInput"><span class="hs-identifier hs-type">DockerTaskInput</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CS.Item</span></span><span>
</span><span id="line-94"></span></pre></body></html>