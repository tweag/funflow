<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<!-- Generated by HsColour, http://code.haskell.org/~malcolm/hscolour/ -->
<title>System/Process/Internals.hs</title>
<link type='text/css' rel='stylesheet' href='hscolour.css' />
</head>
<body>
<pre><a name="line-1"></a><span class='hs-comment'>{-# LANGUAGE CPP #-}</span>
<a name="line-2"></a><span class='hs-comment'>{-# OPTIONS_HADDOCK not-home #-}</span>
<a name="line-3"></a><span class='hs-comment'>{-# LANGUAGE Trustworthy #-}</span>
<a name="line-4"></a><span class='hs-comment'>{-# LANGUAGE InterruptibleFFI #-}</span>
<a name="line-5"></a>
<a name="line-6"></a><span class='hs-comment'>-----------------------------------------------------------------------------</span>
<a name="line-7"></a><span class='hs-comment'>-- |</span>
<a name="line-8"></a><span class='hs-comment'>-- Module      :  System.Process.Internals</span>
<a name="line-9"></a><span class='hs-comment'>-- Copyright   :  (c) The University of Glasgow 2004</span>
<a name="line-10"></a><span class='hs-comment'>-- License     :  BSD-style (see the file libraries/base/LICENSE)</span>
<a name="line-11"></a><span class='hs-comment'>--</span>
<a name="line-12"></a><span class='hs-comment'>-- Maintainer  :  libraries@haskell.org</span>
<a name="line-13"></a><span class='hs-comment'>-- Stability   :  experimental</span>
<a name="line-14"></a><span class='hs-comment'>-- Portability :  portable</span>
<a name="line-15"></a><span class='hs-comment'>--</span>
<a name="line-16"></a><span class='hs-comment'>-- __Note:__ This module exports internal implementation details that may</span>
<a name="line-17"></a><span class='hs-comment'>-- change anytime.  If you want a more stable API, use "System.Process"</span>
<a name="line-18"></a><span class='hs-comment'>-- instead.</span>
<a name="line-19"></a><span class='hs-comment'>--</span>
<a name="line-20"></a><span class='hs-comment'>-----------------------------------------------------------------------------</span>
<a name="line-21"></a>
<a name="line-22"></a><span class='hs-keyword'>module</span> <span class='hs-conid'>System.Process.Internals</span> <span class='hs-layout'>(</span>
<a name="line-23"></a>    <span class='hs-conid'>ProcessHandle</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-conid'>ProcessHandle__</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-24"></a>    <span class='hs-conid'>PHANDLE</span><span class='hs-layout'>,</span> <span class='hs-varid'>closePHANDLE</span><span class='hs-layout'>,</span> <span class='hs-varid'>mkProcessHandle</span><span class='hs-layout'>,</span>
<a name="line-25"></a><span class='hs-cpp'>#ifdef WINDOWS</span>
<a name="line-26"></a>    <span class='hs-conid'>CGid</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-27"></a><span class='hs-cpp'>#else</span>
<a name="line-28"></a>    <span class='hs-conid'>CGid</span><span class='hs-layout'>,</span>
<a name="line-29"></a><span class='hs-cpp'>#endif</span>
<a name="line-30"></a>    <span class='hs-conid'>GroupID</span><span class='hs-layout'>,</span>
<a name="line-31"></a>    <span class='hs-conid'>UserID</span><span class='hs-layout'>,</span>
<a name="line-32"></a>    <span class='hs-varid'>modifyProcessHandle</span><span class='hs-layout'>,</span> <span class='hs-varid'>withProcessHandle</span><span class='hs-layout'>,</span>
<a name="line-33"></a>    <span class='hs-conid'>CreateProcess</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-34"></a>    <span class='hs-conid'>CmdSpec</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-conid'>StdStream</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-conid'>ProcRetHandles</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-35"></a>    <span class='hs-varid'>createProcess_</span><span class='hs-layout'>,</span>
<a name="line-36"></a>    <span class='hs-varid'>runGenProcess_</span><span class='hs-layout'>,</span> <span class='hs-varop'>--deprecated</span>
<a name="line-37"></a>    <span class='hs-varid'>fdToHandle</span><span class='hs-layout'>,</span>
<a name="line-38"></a>    <span class='hs-varid'>startDelegateControlC</span><span class='hs-layout'>,</span>
<a name="line-39"></a>    <span class='hs-varid'>endDelegateControlC</span><span class='hs-layout'>,</span>
<a name="line-40"></a>    <span class='hs-varid'>stopDelegateControlC</span><span class='hs-layout'>,</span>
<a name="line-41"></a>    <span class='hs-varid'>unwrapHandles</span><span class='hs-layout'>,</span>
<a name="line-42"></a><span class='hs-cpp'>#ifdef WINDOWS</span>
<a name="line-43"></a>    <span class='hs-varid'>terminateJob</span><span class='hs-layout'>,</span>
<a name="line-44"></a>    <span class='hs-varid'>terminateJobUnsafe</span><span class='hs-layout'>,</span>
<a name="line-45"></a>    <span class='hs-varid'>waitForJobCompletion</span><span class='hs-layout'>,</span>
<a name="line-46"></a>    <span class='hs-varid'>timeout_Infinite</span><span class='hs-layout'>,</span>
<a name="line-47"></a><span class='hs-cpp'>#else</span>
<a name="line-48"></a>    <span class='hs-varid'>pPrPr_disableITimers</span><span class='hs-layout'>,</span> <span class='hs-varid'>c_execvpe</span><span class='hs-layout'>,</span>
<a name="line-49"></a>    <span class='hs-varid'>ignoreSignal</span><span class='hs-layout'>,</span> <span class='hs-varid'>defaultSignal</span><span class='hs-layout'>,</span>
<a name="line-50"></a>    <span class='hs-varid'>runInteractiveProcess_lock</span><span class='hs-layout'>,</span>
<a name="line-51"></a><span class='hs-cpp'>#endif</span>
<a name="line-52"></a>    <span class='hs-varid'>withFilePathException</span><span class='hs-layout'>,</span> <span class='hs-varid'>withCEnvironment</span><span class='hs-layout'>,</span>
<a name="line-53"></a>    <span class='hs-varid'>translate</span><span class='hs-layout'>,</span>
<a name="line-54"></a>    <span class='hs-varid'>createPipe</span><span class='hs-layout'>,</span>
<a name="line-55"></a>    <span class='hs-varid'>createPipeFd</span><span class='hs-layout'>,</span>
<a name="line-56"></a>    <span class='hs-varid'>interruptProcessGroupOf</span><span class='hs-layout'>,</span>
<a name="line-57"></a>    <span class='hs-layout'>)</span> <span class='hs-keyword'>where</span>
<a name="line-58"></a>
<a name="line-59"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Foreign.C</span>
<a name="line-60"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>System.IO</span>
<a name="line-61"></a>
<a name="line-62"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>GHC.IO.Handle.FD</span> <span class='hs-layout'>(</span><span class='hs-varid'>fdToHandle</span><span class='hs-layout'>)</span>
<a name="line-63"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>System.Posix.Internals</span> <span class='hs-layout'>(</span><span class='hs-conid'>FD</span><span class='hs-layout'>)</span>
<a name="line-64"></a>
<a name="line-65"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>System.Process.Common</span>
<a name="line-66"></a>
<a name="line-67"></a><span class='hs-cpp'>#ifdef WINDOWS</span>
<a name="line-68"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>System.Process.Windows</span>
<a name="line-69"></a><span class='hs-cpp'>#else</span>
<a name="line-70"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>System.Process.Posix</span>
<a name="line-71"></a><span class='hs-cpp'>#endif</span>
<a name="line-72"></a>
<a name="line-73"></a><a name="createProcess_"></a><span class='hs-comment'>-- ----------------------------------------------------------------------------</span>
<a name="line-74"></a><span class='hs-comment'>-- | This function is almost identical to</span>
<a name="line-75"></a><span class='hs-comment'>-- 'System.Process.createProcess'. The only differences are:</span>
<a name="line-76"></a><span class='hs-comment'>--</span>
<a name="line-77"></a><span class='hs-comment'>-- * 'Handle's provided via 'UseHandle' are not closed automatically.</span>
<a name="line-78"></a><span class='hs-comment'>--</span>
<a name="line-79"></a><span class='hs-comment'>-- * This function takes an extra @String@ argument to be used in creating</span>
<a name="line-80"></a><span class='hs-comment'>--   error messages.</span>
<a name="line-81"></a><span class='hs-comment'>--</span>
<a name="line-82"></a><span class='hs-comment'>-- This function has been available from the "System.Process.Internals" module</span>
<a name="line-83"></a><span class='hs-comment'>-- for some time, and is part of the "System.Process" module since version</span>
<a name="line-84"></a><span class='hs-comment'>-- 1.2.1.0.</span>
<a name="line-85"></a><span class='hs-comment'>--</span>
<a name="line-86"></a><span class='hs-comment'>-- @since 1.2.1.0</span>
<a name="line-87"></a><span class='hs-definition'>createProcess_</span>
<a name="line-88"></a>  <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span>                     <span class='hs-comment'>-- ^ function name (for error messages)</span>
<a name="line-89"></a>  <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>CreateProcess</span>
<a name="line-90"></a>  <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>IO</span> <span class='hs-layout'>(</span><span class='hs-conid'>Maybe</span> <span class='hs-conid'>Handle</span><span class='hs-layout'>,</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Handle</span><span class='hs-layout'>,</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Handle</span><span class='hs-layout'>,</span> <span class='hs-conid'>ProcessHandle</span><span class='hs-layout'>)</span>
<a name="line-91"></a><span class='hs-definition'>createProcess_</span> <span class='hs-varid'>msg</span> <span class='hs-varid'>proc_</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>unwrapHandles</span> <span class='hs-varop'>`fmap`</span> <span class='hs-varid'>createProcess_Internal</span> <span class='hs-varid'>msg</span> <span class='hs-varid'>proc_</span>
<a name="line-92"></a><span class='hs-comment'>{-# INLINE createProcess_ #-}</span>
<a name="line-93"></a>
<a name="line-94"></a><span class='hs-comment'>-- ------------------------------------------------------------------------</span>
<a name="line-95"></a><span class='hs-comment'>-- Escaping commands for shells</span>
<a name="line-96"></a>
<a name="line-97"></a><span class='hs-comment'>{-
<a name="line-98"></a>On Windows we also use this for running commands.  We use CreateProcess,
<a name="line-99"></a>passing a single command-line string (lpCommandLine) as its argument.
<a name="line-100"></a>(CreateProcess is well documented on <a href="http://msdn.microsoft.com.)">http://msdn.microsoft.com.)</a>
<a name="line-101"></a>
<a name="line-102"></a>      - It parses the beginning of the string to find the command. If the
<a name="line-103"></a>        file name has embedded spaces, it must be quoted, using double
<a name="line-104"></a>        quotes thus
<a name="line-105"></a>                "foo\this that\cmd" arg1 arg2
<a name="line-106"></a>
<a name="line-107"></a>      - The invoked command can in turn access the entire lpCommandLine string,
<a name="line-108"></a>        and the C runtime does indeed do so, parsing it to generate the
<a name="line-109"></a>        traditional argument vector argv[0], argv[1], etc.  It does this
<a name="line-110"></a>        using a complex and arcane set of rules which are described here:
<a name="line-111"></a>
<a name="line-112"></a>           https://msdn.microsoft.com/en-us/library/a1y7w461.aspx
<a name="line-113"></a>
<a name="line-114"></a>        (if this URL stops working, you might be able to find it by
<a name="line-115"></a>        searching for "Parsing C Command-Line Arguments" on MSDN.  Also,
<a name="line-116"></a>        the code in the Microsoft C runtime that does this translation
<a name="line-117"></a>        is shipped with VC++).
<a name="line-118"></a>
<a name="line-119"></a>Our goal in runProcess is to take a command filename and list of
<a name="line-120"></a>arguments, and construct a string which inverts the translatsions
<a name="line-121"></a>described above, such that the program at the other end sees exactly
<a name="line-122"></a>the same arguments in its argv[] that we passed to rawSystem.
<a name="line-123"></a>
<a name="line-124"></a>This inverse translation is implemented by 'translate' below.
<a name="line-125"></a>
<a name="line-126"></a>Here are some pages that give informations on Windows-related
<a name="line-127"></a>limitations and deviations from Unix conventions:
<a name="line-128"></a>
<a name="line-129"></a>    <a href="http://support.microsoft.com/default.aspx?scid=kb;en-us;830473">http://support.microsoft.com/default.aspx?scid=kb;en-us;830473</a>
<a name="line-130"></a>    Command lines and environment variables effectively limited to 8191
<a name="line-131"></a>    characters on Win XP, 2047 on NT/2000 (probably even less on Win 9x):
<a name="line-132"></a>
<a name="line-133"></a>    <a href="http://www.microsoft.com/windowsxp/home/using/productdoc/en/default.asp?url=/WINDOWSXP/home/using/productdoc/en/percent.asp">http://www.microsoft.com/windowsxp/home/using/productdoc/en/default.asp?url=/WINDOWSXP/home/using/productdoc/en/percent.asp</a>
<a name="line-134"></a>    Command-line substitution under Windows XP. IIRC these facilities (or at
<a name="line-135"></a>    least a large subset of them) are available on Win NT and 2000. Some
<a name="line-136"></a>    might be available on Win 9x.
<a name="line-137"></a>
<a name="line-138"></a>    <a href="http://www.microsoft.com/windowsxp/home/using/productdoc/en/default.asp?url=/WINDOWSXP/home/using/productdoc/en/Cmd.asp">http://www.microsoft.com/windowsxp/home/using/productdoc/en/default.asp?url=/WINDOWSXP/home/using/productdoc/en/Cmd.asp</a>
<a name="line-139"></a>    How CMD.EXE processes command lines.
<a name="line-140"></a>
<a name="line-141"></a>
<a name="line-142"></a>Note: CreateProcess does have a separate argument (lpApplicationName)
<a name="line-143"></a>with which you can specify the command, but we have to slap the
<a name="line-144"></a>command into lpCommandLine anyway, so that argv[0] is what a C program
<a name="line-145"></a>expects (namely the application name).  So it seems simpler to just
<a name="line-146"></a>use lpCommandLine alone, which CreateProcess supports.
<a name="line-147"></a>-}</span>
<a name="line-148"></a>
<a name="line-149"></a><a name="translate"></a><span class='hs-definition'>translate</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-150"></a><span class='hs-definition'>translate</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>translateInternal</span>
<a name="line-151"></a><span class='hs-comment'>{-# INLINE translate #-}</span>
<a name="line-152"></a>
<a name="line-153"></a><a name="unwrapHandles"></a><span class='hs-comment'>-- ---------------------------------------------------------------------------</span>
<a name="line-154"></a><span class='hs-comment'>-- unwrapHandles</span>
<a name="line-155"></a><span class='hs-definition'>unwrapHandles</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>ProcRetHandles</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>Maybe</span> <span class='hs-conid'>Handle</span><span class='hs-layout'>,</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Handle</span><span class='hs-layout'>,</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Handle</span><span class='hs-layout'>,</span> <span class='hs-conid'>ProcessHandle</span><span class='hs-layout'>)</span>
<a name="line-156"></a><span class='hs-definition'>unwrapHandles</span> <span class='hs-varid'>r</span> <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>hStdInput</span> <span class='hs-varid'>r</span><span class='hs-layout'>,</span> <span class='hs-varid'>hStdOutput</span> <span class='hs-varid'>r</span><span class='hs-layout'>,</span> <span class='hs-varid'>hStdError</span> <span class='hs-varid'>r</span><span class='hs-layout'>,</span> <span class='hs-varid'>procHandle</span> <span class='hs-varid'>r</span><span class='hs-layout'>)</span>
<a name="line-157"></a>
<a name="line-158"></a><span class='hs-comment'>-- ----------------------------------------------------------------------------</span>
<a name="line-159"></a><span class='hs-comment'>-- Deprecated / compat</span>
<a name="line-160"></a>
<a name="line-161"></a><a name="runGenProcess_"></a><span class='hs-comment'>{-# DEPRECATED runGenProcess_
<a name="line-162"></a>      "Please do not use this anymore, use the ordinary 'System.Process.createProcess'. If you need the SIGINT handling, use delegate_ctlc = True (runGenProcess_ is now just an imperfectly emulated stub that probably duplicates or overrides your own signal handling)." #-}</span>
<a name="line-163"></a><span class='hs-definition'>runGenProcess_</span>
<a name="line-164"></a> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span>                     <span class='hs-comment'>-- ^ function name (for error messages)</span>
<a name="line-165"></a> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>CreateProcess</span>
<a name="line-166"></a> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>CLong</span>                <span class='hs-comment'>-- ^ handler for SIGINT</span>
<a name="line-167"></a> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>CLong</span>                <span class='hs-comment'>-- ^ handler for SIGQUIT</span>
<a name="line-168"></a> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>IO</span> <span class='hs-layout'>(</span><span class='hs-conid'>Maybe</span> <span class='hs-conid'>Handle</span><span class='hs-layout'>,</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Handle</span><span class='hs-layout'>,</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Handle</span><span class='hs-layout'>,</span> <span class='hs-conid'>ProcessHandle</span><span class='hs-layout'>)</span>
<a name="line-169"></a><span class='hs-comment'>-- On Windows, setting delegate_ctlc has no impact</span>
<a name="line-170"></a><span class='hs-definition'>runGenProcess_</span> <span class='hs-varid'>fun</span> <span class='hs-varid'>c</span> <span class='hs-layout'>(</span><span class='hs-conid'>Just</span> <span class='hs-varid'>sig</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-conid'>Just</span> <span class='hs-varid'>sig'</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>isDefaultSignal</span> <span class='hs-varid'>sig</span> <span class='hs-varop'>&amp;&amp;</span> <span class='hs-varid'>sig</span> <span class='hs-varop'>==</span> <span class='hs-varid'>sig'</span>
<a name="line-171"></a>                         <span class='hs-keyglyph'>=</span> <span class='hs-varid'>createProcess_</span> <span class='hs-varid'>fun</span> <span class='hs-varid'>c</span> <span class='hs-layout'>{</span> <span class='hs-varid'>delegate_ctlc</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span> <span class='hs-layout'>}</span>
<a name="line-172"></a><span class='hs-definition'>runGenProcess_</span> <span class='hs-varid'>fun</span> <span class='hs-varid'>c</span> <span class='hs-keyword'>_</span> <span class='hs-keyword'>_</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>createProcess_</span> <span class='hs-varid'>fun</span> <span class='hs-varid'>c</span>
<a name="line-173"></a>
<a name="line-174"></a><span class='hs-comment'>-- ---------------------------------------------------------------------------</span>
<a name="line-175"></a><span class='hs-comment'>-- createPipe</span>
<a name="line-176"></a>
<a name="line-177"></a><a name="createPipe"></a><span class='hs-comment'>-- | Create a pipe for interprocess communication and return a</span>
<a name="line-178"></a><span class='hs-comment'>-- @(readEnd, writeEnd)@ `Handle` pair.</span>
<a name="line-179"></a><span class='hs-comment'>--</span>
<a name="line-180"></a><span class='hs-comment'>-- @since 1.2.1.0</span>
<a name="line-181"></a><span class='hs-definition'>createPipe</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>IO</span> <span class='hs-layout'>(</span><span class='hs-conid'>Handle</span><span class='hs-layout'>,</span> <span class='hs-conid'>Handle</span><span class='hs-layout'>)</span>
<a name="line-182"></a><span class='hs-definition'>createPipe</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>createPipeInternal</span>
<a name="line-183"></a><span class='hs-comment'>{-# INLINE createPipe #-}</span>
<a name="line-184"></a>
<a name="line-185"></a><span class='hs-comment'>-- ---------------------------------------------------------------------------</span>
<a name="line-186"></a><span class='hs-comment'>-- createPipeFd</span>
<a name="line-187"></a>
<a name="line-188"></a><a name="createPipeFd"></a><span class='hs-comment'>-- | Create a pipe for interprocess communication and return a</span>
<a name="line-189"></a><span class='hs-comment'>-- @(readEnd, writeEnd)@ `FD` pair.</span>
<a name="line-190"></a><span class='hs-comment'>--</span>
<a name="line-191"></a><span class='hs-comment'>-- @since 1.4.2.0</span>
<a name="line-192"></a><span class='hs-definition'>createPipeFd</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>IO</span> <span class='hs-layout'>(</span><span class='hs-conid'>FD</span><span class='hs-layout'>,</span> <span class='hs-conid'>FD</span><span class='hs-layout'>)</span>
<a name="line-193"></a><span class='hs-definition'>createPipeFd</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>createPipeInternalFd</span>
<a name="line-194"></a><span class='hs-comment'>{-# INLINE createPipeFd #-}</span>
<a name="line-195"></a>
<a name="line-196"></a>
<a name="line-197"></a><span class='hs-comment'>-- ----------------------------------------------------------------------------</span>
<a name="line-198"></a><span class='hs-comment'>-- interruptProcessGroupOf</span>
<a name="line-199"></a>
<a name="line-200"></a><span class='hs-comment'>-- | Sends an interrupt signal to the process group of the given process.</span>
<a name="line-201"></a><span class='hs-comment'>--</span>
<a name="line-202"></a><span class='hs-comment'>-- On Unix systems, it sends the group the SIGINT signal.</span>
<a name="line-203"></a><span class='hs-comment'>--</span>
<a name="line-204"></a><span class='hs-comment'>-- On Windows systems, it generates a CTRL_BREAK_EVENT and will only work for</span>
<a name="line-205"></a><span class='hs-comment'>-- processes created using 'createProcess' and setting the 'create_group' flag</span>
<a name="line-206"></a>
<a name="line-207"></a><a name="interruptProcessGroupOf"></a><span class='hs-definition'>interruptProcessGroupOf</span>
<a name="line-208"></a>    <span class='hs-keyglyph'>::</span> <span class='hs-conid'>ProcessHandle</span>    <span class='hs-comment'>-- ^ A process in the process group</span>
<a name="line-209"></a>    <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>IO</span> <span class='hs-conid'>()</span>
<a name="line-210"></a><span class='hs-definition'>interruptProcessGroupOf</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>interruptProcessGroupOfInternal</span>
</pre></body>
</html>
