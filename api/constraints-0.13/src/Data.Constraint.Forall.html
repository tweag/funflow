<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE CPP #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE FunctionalDependencies #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE ConstraintKinds #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE TypeOperators #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE Trustworthy #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE PolyKinds #-}</span><span class="hs-cpp">
#if __GLASGOW_HASKELL__ &gt;= 800
</span><span class="hs-pragma">{-# LANGUAGE UndecidableSuperClasses #-}</span><span class="hs-cpp">
#endif
</span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-17"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-18"></span><span class="hs-comment">-- Module      :  Data.Constraint.Forall</span><span>
</span><span id="line-19"></span><span class="hs-comment">-- Copyright   :  (C) 2011-2015 Edward Kmett,</span><span>
</span><span id="line-20"></span><span class="hs-comment">--                (C) 2015 &#216;rjan Johansen,</span><span>
</span><span id="line-21"></span><span class="hs-comment">--                (C) 2016 David Feuer</span><span>
</span><span id="line-22"></span><span class="hs-comment">-- License     :  BSD-style (see the file LICENSE)</span><span>
</span><span id="line-23"></span><span class="hs-comment">--</span><span>
</span><span id="line-24"></span><span class="hs-comment">-- Maintainer  :  Edward Kmett &lt;ekmett@gmail.com&gt;</span><span>
</span><span id="line-25"></span><span class="hs-comment">-- Stability   :  experimental</span><span>
</span><span id="line-26"></span><span class="hs-comment">-- Portability :  non-portable</span><span>
</span><span id="line-27"></span><span class="hs-comment">--</span><span>
</span><span id="line-28"></span><span class="hs-comment">-- This module uses a trick to provide quantification over constraints.</span><span>
</span><span id="line-29"></span><span class="hs-comment">----------------------------------------------------------------------------</span><span>
</span><span id="line-30"></span><span>
</span><span id="line-31"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Data.Constraint.Forall</span><span>
</span><span id="line-32"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#Forall"><span class="hs-identifier">Forall</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#inst"><span class="hs-identifier">inst</span></a></span><span>
</span><span id="line-33"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#ForallF"><span class="hs-identifier">ForallF</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#instF"><span class="hs-identifier">instF</span></a></span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#Forall1"><span class="hs-identifier">Forall1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#inst1"><span class="hs-identifier">inst1</span></a></span><span>
</span><span id="line-35"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#ForallT"><span class="hs-identifier">ForallT</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#instT"><span class="hs-identifier">instT</span></a></span><span>
</span><span id="line-36"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#ForallV"><span class="hs-identifier">ForallV</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#InstV"><span class="hs-identifier">InstV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Constraint.Forall.html#instV"><span class="hs-identifier">instV</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#forall"><span class="hs-keyword">forall</span></a></span><span>
</span><span id="line-38"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.Constraint.html"><span class="hs-identifier">Data.Constraint</span></a></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Unsafe.Coerce</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">unsafeCoerce</span></span><span class="hs-special">)</span><span class="hs-cpp">

#if __GLASGOW_HASKELL__ &gt;= 806
</span><span class="hs-cpp"># define KVS(kvs) kvs
</span><span class="hs-cpp">#else
</span><span class="hs-cpp"># define KVS(kvs)
</span><span class="hs-cpp">#endif
</span><span>
</span><span id="line-49"></span><span class="hs-comment">{- The basic trick of this module is to use &quot;skolem&quot; types as test candidates
 - for whether a class predicate holds, and if so assume that it holds for all
 - types, unsafely coercing the typeclass dictionary.
 -
 - The particular technique used to implement 'Forall' appears to have been
 - discovered first by Nicolas Frisby and is
 - &lt;https://csks.wordpress.com/2012/10/22/safe-polykinded-universally-quantified-constraints-part-3-of-3/ discussed in some detail&gt;
 - on his blog.
 -
 - However, his discovery did not directly affect the development of this
 - module.
 -
 - A previous version of this module used concrete, unexported types as the
 - skolems. This turned out to be unsound in the presence of type families.
 - There were 3 somewhat distinct issues:
 -
 - 1. Using closed type families, it is possible to test whether two concrete
 - types are equal, even if one of them is not directly importable.
 -
 - 2. Using just open type families, it is possible to test &quot;at least 2 of
 - these n+1 types are equal&quot;, thus using the pigeonhole principle to thwart
 - any scheme based on having only a finite number of shared skolem types.
 -
 - 3. Using just pattern matching of types by unification, it is possible
 - to extract the skolem types from the application the `Forall p` expands
 - to. (Although type families are probably still needed to exploit this.)
 -
 - Andr&#225;s Kov&#225;cs and &#216;rjan Johansen independently realized that skolems
 - themselves made as type family applications can be used to solve the first
 - two problems (and discovered the third problem in the process). As a bonus,
 - the resulting code is easy to make polykinded.
 -
 - Problem 1 is solved by making the type family have no instances, forcing
 - GHC to make no assumption about what type a skolem is.
 -
 - Problem 2 is solved by parametrizing the skolem on the predicate tested
 - for. (This is a known trick in predicate logic.)
 -
 - Problem 3 is solved by making the `Forall p` application expand to a type
 - class, and have the *actual* test constraint be a superclass constraint on
 - that type class, thus preventing the user directly accessing it.
 -
 - An unfortunate side effect of the new method is that it tends to trigger
 - spurious errors from GHC test for cycles in superclass constraints. Andr&#225;s
 - Kov&#225;cs discovered that these can be silenced by yet another use of a type
 - family.
 -
 - David Feuer points out a remaining doubt about the soundness of this scheme:
 - GHC *does* know that the skolems created from a single predicate `p` are
 - equal. This could in theory apply even if the skolems come from two
 - *distinct* invocations of `Forall p`.
 -
 - However, we don't know any way of bringing two such skolems in contact with
 - each other to create an actual exploit. It would seem to require `p` to
 - already contain its own skolem, despite there being (hopefully) no way to
 - extract it from `Forall p` in order to tie the knot.
 -}</span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span class="hs-comment">-- The `Skolem` type family represents skolem variables; do not export!</span><span>
</span><span id="line-108"></span><span class="hs-comment">-- If GHC supports it, these might be made closed with no instances.</span><span>
</span><span id="line-109"></span><span>
</span><span id="line-110"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="Skolem"><span class="annot"><a href="Data.Constraint.Forall.html#Skolem"><span class="hs-identifier hs-var">Skolem</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075045"><span class="annot"><a href="#local-6989586621679075045"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679075044"><span class="annot"><a href="#local-6989586621679075044"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Constraint</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679075044"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-111"></span><span>
</span><span id="line-112"></span><span class="hs-comment">-- The outer `Forall` type family prevents GHC from giving a spurious</span><span>
</span><span id="line-113"></span><span class="hs-comment">-- superclass cycle error.</span><span>
</span><span id="line-114"></span><span class="hs-comment">-- The inner `Forall_` class prevents the skolem from leaking to the user,</span><span>
</span><span id="line-115"></span><span class="hs-comment">-- which would be disastrous.</span><span>
</span><span id="line-116"></span><span>
</span><span id="line-117"></span><span class="hs-comment">-- | A representation of the quantified constraint @forall a. p a@.</span><span>
</span><span id="line-118"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="Forall"><span class="annot"><a href="Data.Constraint.Forall.html#Forall"><span class="hs-identifier hs-var">Forall</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075043"><span class="annot"><a href="#local-6989586621679075043"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679075042"><span class="annot"><a href="#local-6989586621679075042"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Constraint</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Constraint</span></span><span>
</span><span id="line-119"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Forall"><span class="annot"><a href="Data.Constraint.Forall.html#Forall"><span class="hs-identifier hs-var">Forall</span></a></span></span><span> </span><span id="local-6989586621679075041"><span class="annot"><a href="#local-6989586621679075041"><span class="hs-identifier hs-type hs-type">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#Forall_"><span class="hs-identifier hs-type">Forall_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075041"><span class="hs-identifier hs-type">p</span></a></span><span>
</span><span id="line-120"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="#local-6989586621679075178"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Constraint.Forall.html#Skolem"><span class="hs-identifier hs-type">Skolem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075178"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="Forall_"><span class="annot"><a href="Data.Constraint.Forall.html#Forall_"><span class="hs-identifier hs-var">Forall_</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075178"><span class="annot"><a href="#local-6989586621679075178"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679075179"><span class="annot"><a href="#local-6989586621679075179"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Constraint</span></span><span class="hs-special">)</span><span>
</span><span id="line-121"></span><span id="local-6989586621679075039"><span id="local-6989586621679075040"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="#local-6989586621679075040"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Constraint.Forall.html#Skolem"><span class="hs-identifier hs-type">Skolem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075040"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#Forall_"><span class="hs-identifier hs-type">Forall_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075040"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679075039"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Constraint</span></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-122"></span><span>
</span><span id="line-123"></span><span class="hs-comment">-- | Instantiate a quantified @'Forall' p@ constraint at type @a@.</span><span>
</span><span id="line-124"></span><span class="annot"><a href="Data.Constraint.Forall.html#inst"><span class="hs-identifier hs-type">inst</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679075137"><span class="annot"><a href="#local-6989586621679075137"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span id="local-6989586621679075136"><span class="annot"><a href="#local-6989586621679075136"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#Forall"><span class="hs-identifier hs-type">Forall</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075137"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="Data.Constraint.html#%3A-"><span class="hs-operator hs-type">:-</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075137"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075136"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-125"></span><span id="inst"><span class="annot"><span class="annottext">inst :: Forall p :- p a
</span><a href="Data.Constraint.Forall.html#inst"><span class="hs-identifier hs-var hs-var">inst</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Forall_ p :- p (Skolem p)) -&gt; Forall_ p :- p a
forall a b. a -&gt; b
</span><span class="hs-identifier hs-var">unsafeCoerce</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Forall_ p =&gt; Dict (p (Skolem p))) -&gt; Forall_ p :- p (Skolem p)
forall (a :: Constraint) (b :: Constraint). (a =&gt; Dict b) -&gt; a :- b
</span><a href="Data.Constraint.html#Sub"><span class="hs-identifier hs-var">Sub</span></a></span><span> </span><span class="annot"><span class="annottext">Forall_ p =&gt; Dict (p (Skolem p))
forall (a :: Constraint). a =&gt; Dict a
</span><a href="Data.Constraint.html#Dict"><span class="hs-identifier hs-var">Dict</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#Forall"><span class="hs-identifier hs-type">Forall</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075137"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="Data.Constraint.html#%3A-"><span class="hs-operator hs-type">:-</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075137"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Constraint.Forall.html#Skolem"><span class="hs-identifier hs-type">Skolem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075137"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-126"></span><span>
</span><span id="line-127"></span><span class="hs-comment">-- | Composition for constraints.</span><span>
</span><span id="line-128"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="#local-6989586621679075158"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075157"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075156"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="ComposeC"><span class="annot"><a href="Data.Constraint.Forall.html#ComposeC"><span class="hs-identifier hs-var">ComposeC</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075158"><span class="annot"><a href="#local-6989586621679075158"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679075160"><span class="annot"><a href="#local-6989586621679075160"><span class="hs-identifier hs-type hs-type">k2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Constraint</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075157"><span class="annot"><a href="#local-6989586621679075157"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679075159"><span class="annot"><a href="#local-6989586621679075159"><span class="hs-identifier hs-type hs-type">k1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075160"><span class="hs-identifier hs-type">k2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075156"><span class="annot"><a href="#local-6989586621679075156"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679075159"><span class="hs-identifier hs-type">k1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-129"></span><span id="local-6989586621679075032"><span id="local-6989586621679075033"><span id="local-6989586621679075034"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="#local-6989586621679075034"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075033"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075032"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#ComposeC"><span class="hs-identifier hs-type">ComposeC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075034"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075033"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075032"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-130"></span><span>
</span><span id="line-131"></span><span class="hs-comment">-- | A representation of the quantified constraint @forall a. p (f a)@.</span><span>
</span><span id="line-132"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#Forall"><span class="hs-identifier hs-type">Forall</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Constraint.Forall.html#ComposeC"><span class="hs-identifier hs-type">ComposeC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075148"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075147"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="ForallF"><span class="annot"><a href="Data.Constraint.Forall.html#ForallF"><span class="hs-identifier hs-var">ForallF</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075148"><span class="annot"><a href="#local-6989586621679075148"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679075150"><span class="annot"><a href="#local-6989586621679075150"><span class="hs-identifier hs-type hs-type">k2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Constraint</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075147"><span class="annot"><a href="#local-6989586621679075147"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679075149"><span class="annot"><a href="#local-6989586621679075149"><span class="hs-identifier hs-type hs-type">k1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075150"><span class="hs-identifier hs-type">k2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-133"></span><span id="local-6989586621679075028"><span id="local-6989586621679075029"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#Forall"><span class="hs-identifier hs-type">Forall</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Constraint.Forall.html#ComposeC"><span class="hs-identifier hs-type">ComposeC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075029"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075028"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#ForallF"><span class="hs-identifier hs-type">ForallF</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075029"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075028"><span class="hs-identifier hs-type">f</span></a></span></span></span><span>
</span><span id="line-134"></span><span>
</span><span id="line-135"></span><span class="hs-comment">-- | Instantiate a quantified @'ForallF' p f@ constraint at type @a@.</span><span>
</span><span id="line-136"></span><span class="annot"><a href="Data.Constraint.Forall.html#instF"><span class="hs-identifier hs-type">instF</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679075059"><span class="annot"><a href="#local-6989586621679075059"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span id="local-6989586621679075058"><span class="annot"><a href="#local-6989586621679075058"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679075057"><span class="annot"><a href="#local-6989586621679075057"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#ForallF"><span class="hs-identifier hs-type">ForallF</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075059"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075058"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="Data.Constraint.html#%3A-"><span class="hs-operator hs-type">:-</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075059"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075058"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075057"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-137"></span><span id="instF"><span class="annot"><span class="annottext">instF :: ForallF p f :- p (f a)
</span><a href="Data.Constraint.Forall.html#instF"><span class="hs-identifier hs-var hs-var">instF</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ForallF p f =&gt; Dict (p (f a))) -&gt; ForallF p f :- p (f a)
forall (a :: Constraint) (b :: Constraint). (a =&gt; Dict b) -&gt; a :- b
</span><a href="Data.Constraint.html#Sub"><span class="hs-identifier hs-var">Sub</span></a></span><span> </span><span class="annot"><span class="annottext">((ForallF p f =&gt; Dict (p (f a))) -&gt; ForallF p f :- p (f a))
-&gt; (ForallF p f =&gt; Dict (p (f a))) -&gt; ForallF p f :- p (f a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-138"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Forall (ComposeC p f) :- ComposeC p f a
forall k (p :: k -&gt; Constraint) (a :: k). Forall p :- p a
</span><a href="Data.Constraint.Forall.html#inst"><span class="hs-identifier hs-var">inst</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#Forall"><span class="hs-identifier hs-type">Forall</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Constraint.Forall.html#ComposeC"><span class="hs-identifier hs-type">ComposeC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075059"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075058"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Data.Constraint.html#%3A-"><span class="hs-operator hs-type">:-</span></a></span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#ComposeC"><span class="hs-identifier hs-type">ComposeC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075059"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075058"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075057"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-139"></span><span>    </span><span class="annot"><a href="Data.Constraint.html#Sub"><span class="hs-identifier hs-type">Sub</span></a></span><span> </span><span class="annot"><span class="annottext">Forall (ComposeC p f) =&gt; Dict (ComposeC p f a)
</span><a href="Data.Constraint.html#Dict"><span class="hs-identifier hs-var">Dict</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Dict (p (f a))
forall (a :: Constraint). a =&gt; Dict a
</span><a href="Data.Constraint.html#Dict"><span class="hs-identifier hs-var">Dict</span></a></span><span>
</span><span id="line-140"></span><span>
</span><span id="line-141"></span><span class="hs-comment">-- Classes building up to ForallT</span><span>
</span><span id="line-142"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="#local-6989586621679075124"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075123"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075122"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075121"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="R"><span class="annot"><a href="Data.Constraint.Forall.html#R"><span class="hs-identifier hs-var">R</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075124"><span class="annot"><a href="#local-6989586621679075124"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679075127"><span class="annot"><a href="#local-6989586621679075127"><span class="hs-identifier hs-type hs-type">k3</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Constraint</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075123"><span class="annot"><a href="#local-6989586621679075123"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679075126"><span class="annot"><a href="#local-6989586621679075126"><span class="hs-identifier hs-type hs-type">k1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span id="local-6989586621679075125"><span class="annot"><a href="#local-6989586621679075125"><span class="hs-identifier hs-type hs-type">k2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075127"><span class="hs-identifier hs-type">k3</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075122"><span class="annot"><a href="#local-6989586621679075122"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679075126"><span class="hs-identifier hs-type">k1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075121"><span class="annot"><a href="#local-6989586621679075121"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679075125"><span class="hs-identifier hs-type">k2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-143"></span><span id="local-6989586621679075022"><span id="local-6989586621679075023"><span id="local-6989586621679075024"><span id="local-6989586621679075025"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="#local-6989586621679075025"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075024"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075023"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075022"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075025"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075024"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075023"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075022"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span><span>
</span><span id="line-144"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#Forall"><span class="hs-identifier hs-type">Forall</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Constraint.Forall.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075110"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075109"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075108"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="Q"><span class="annot"><a href="Data.Constraint.Forall.html#Q"><span class="hs-identifier hs-var">Q</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075110"><span class="annot"><a href="#local-6989586621679075110"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679075113"><span class="annot"><a href="#local-6989586621679075113"><span class="hs-identifier hs-type hs-type">k3</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Constraint</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075109"><span class="annot"><a href="#local-6989586621679075109"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679075112"><span class="annot"><a href="#local-6989586621679075112"><span class="hs-identifier hs-type hs-type">k1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span id="local-6989586621679075111"><span class="annot"><a href="#local-6989586621679075111"><span class="hs-identifier hs-type hs-type">k2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075113"><span class="hs-identifier hs-type">k3</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075108"><span class="annot"><a href="#local-6989586621679075108"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679075112"><span class="hs-identifier hs-type">k1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-145"></span><span id="local-6989586621679075017"><span id="local-6989586621679075018"><span id="local-6989586621679075019"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#Forall"><span class="hs-identifier hs-type">Forall</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Constraint.Forall.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075019"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075018"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075017"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#Q"><span class="hs-identifier hs-type">Q</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075019"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075018"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075017"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-146"></span><span>
</span><span id="line-147"></span><span class="hs-comment">-- | A representation of the quantified constraint @forall f a. p (t f a)@.</span><span>
</span><span id="line-148"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#Forall"><span class="hs-identifier hs-type">Forall</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Constraint.Forall.html#Q"><span class="hs-identifier hs-type">Q</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075096"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075095"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="ForallT"><span class="annot"><a href="Data.Constraint.Forall.html#ForallT"><span class="hs-identifier hs-var">ForallT</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075096"><span class="annot"><a href="#local-6989586621679075096"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679075100"><span class="annot"><a href="#local-6989586621679075100"><span class="hs-identifier hs-type hs-type">k4</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Constraint</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075095"><span class="annot"><a href="#local-6989586621679075095"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075099"><span class="annot"><a href="#local-6989586621679075099"><span class="hs-identifier hs-type hs-type">k1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span id="local-6989586621679075098"><span class="annot"><a href="#local-6989586621679075098"><span class="hs-identifier hs-type hs-type">k2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span id="local-6989586621679075097"><span class="annot"><a href="#local-6989586621679075097"><span class="hs-identifier hs-type hs-type">k3</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075100"><span class="hs-identifier hs-type">k4</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-149"></span><span id="local-6989586621679075013"><span id="local-6989586621679075014"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#Forall"><span class="hs-identifier hs-type">Forall</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Constraint.Forall.html#Q"><span class="hs-identifier hs-type">Q</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075014"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075013"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#ForallT"><span class="hs-identifier hs-type">ForallT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075014"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075013"><span class="hs-identifier hs-type">t</span></a></span></span></span><span>
</span><span id="line-150"></span><span>
</span><span id="line-151"></span><span class="hs-comment">-- | Instantiate a quantified @'ForallT' p t@ constraint at types @f@ and @a@.</span><span>
</span><span id="line-152"></span><span class="annot"><a href="Data.Constraint.Forall.html#instT"><span class="hs-identifier hs-type">instT</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679075010"></span><span class="hs-identifier">KVS</span><span id="local-6989586621679075009"><span class="hs-special">(</span></span><span class="hs-identifier">k1</span><span id="local-6989586621679075008"><span> </span></span><span class="hs-identifier">k2</span><span id="local-6989586621679075007"><span> </span></span><span class="hs-identifier">k3</span><span> </span><span id="local-6989586621679075006"></span><span class="hs-identifier">k4</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">p</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">k4</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Constraint</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">t</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">k1</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">k2</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">k3</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span id="local-6989586621679075004"></span><span class="hs-identifier">k4</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">k1</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span id="local-6989586621679075003"></span><span class="hs-identifier">k2</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">k3</span><span class="hs-special">)</span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">ForallT</span><span> </span><span class="hs-identifier">p</span><span> </span><span class="annot"><a href="#local-6989586621679075006"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-operator">:-</span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">t</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">)</span><span>
</span><span id="line-153"></span><span id="instT"><span class="annot"><span class="annottext">instT :: ForallT p t :- p (t f a)
</span><a href="Data.Constraint.Forall.html#instT"><span class="hs-identifier hs-var hs-var">instT</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ForallT p t =&gt; Dict (p (t f a))) -&gt; ForallT p t :- p (t f a)
forall (a :: Constraint) (b :: Constraint). (a =&gt; Dict b) -&gt; a :- b
</span><a href="Data.Constraint.html#Sub"><span class="hs-identifier hs-var">Sub</span></a></span><span> </span><span class="annot"><span class="annottext">((ForallT p t =&gt; Dict (p (t f a))) -&gt; ForallT p t :- p (t f a))
-&gt; (ForallT p t =&gt; Dict (p (t f a))) -&gt; ForallT p t :- p (t f a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-154"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Forall (Q p t) :- Q p t f
forall k (p :: k -&gt; Constraint) (a :: k). Forall p :- p a
</span><a href="Data.Constraint.Forall.html#inst"><span class="hs-identifier hs-var">inst</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#Forall"><span class="hs-identifier hs-type">Forall</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Constraint.Forall.html#Q"><span class="hs-identifier hs-type">Q</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075006"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075005"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Data.Constraint.html#%3A-"><span class="hs-operator hs-type">:-</span></a></span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#Q"><span class="hs-identifier hs-type">Q</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075006"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075005"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075004"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">of</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Data.Constraint.html#Sub"><span class="hs-identifier hs-type">Sub</span></a></span><span> </span><span class="annot"><span class="annottext">Forall (Q p t) =&gt; Dict (Q p t f)
</span><a href="Data.Constraint.html#Dict"><span class="hs-identifier hs-var">Dict</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-155"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Forall (R p t f) :- R p t f a
forall k (p :: k -&gt; Constraint) (a :: k). Forall p :- p a
</span><a href="Data.Constraint.Forall.html#inst"><span class="hs-identifier hs-var">inst</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#Forall"><span class="hs-identifier hs-type">Forall</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Constraint.Forall.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075006"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075005"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075004"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Data.Constraint.html#%3A-"><span class="hs-operator hs-type">:-</span></a></span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075006"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075005"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075004"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075003"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-156"></span><span>    </span><span class="annot"><a href="Data.Constraint.html#Sub"><span class="hs-identifier hs-type">Sub</span></a></span><span> </span><span class="annot"><span class="annottext">Forall (R p t f) =&gt; Dict (R p t f a)
</span><a href="Data.Constraint.html#Dict"><span class="hs-identifier hs-var">Dict</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Dict (p (t f a))
forall (a :: Constraint). a =&gt; Dict a
</span><a href="Data.Constraint.html#Dict"><span class="hs-identifier hs-var">Dict</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-157"></span><span>
</span><span id="line-158"></span><span class="hs-keyword">type</span><span> </span><span id="Forall1"><span class="annot"><a href="Data.Constraint.Forall.html#Forall1"><span class="hs-identifier hs-var">Forall1</span></a></span></span><span> </span><span id="local-6989586621679075002"><span class="annot"><a href="#local-6989586621679075002"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#Forall"><span class="hs-identifier hs-type">Forall</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075002"><span class="hs-identifier hs-type">p</span></a></span><span>
</span><span id="line-159"></span><span class="hs-comment">-- | Instantiate a quantified constraint on kind @* -&gt; *@.</span><span>
</span><span id="line-160"></span><span class="hs-comment">-- This is now redundant since @'inst'@ became polykinded.</span><span>
</span><span id="line-161"></span><span class="annot"><a href="Data.Constraint.Forall.html#inst1"><span class="hs-identifier hs-type">inst1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075001"><span class="annot"><a href="#local-6989586621679075001"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Constraint</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075000"><span class="annot"><a href="#local-6989586621679075000"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#Forall"><span class="hs-identifier hs-type">Forall</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075001"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="Data.Constraint.html#%3A-"><span class="hs-operator hs-type">:-</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075001"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075000"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-162"></span><span id="inst1"><span class="annot"><span class="annottext">inst1 :: Forall p :- p f
</span><a href="Data.Constraint.Forall.html#inst1"><span class="hs-identifier hs-var hs-var">inst1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Forall p :- p f
forall k (p :: k -&gt; Constraint) (a :: k). Forall p :- p a
</span><a href="Data.Constraint.Forall.html#inst"><span class="hs-identifier hs-var">inst</span></a></span><span>
</span><span id="line-163"></span><span>
</span><span id="line-164"></span><span class="hs-comment">-- | A representation of the quantified constraint</span><span>
</span><span id="line-165"></span><span class="hs-comment">-- @forall a1 a2 ... an . p a1 a2 ... an@, supporting a variable number of</span><span>
</span><span id="line-166"></span><span class="hs-comment">-- parameters.</span><span>
</span><span id="line-167"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="ForallV"><span class="annot"><a href="Data.Constraint.Forall.html#ForallV"><span class="hs-identifier hs-var">ForallV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679074999"><span class="annot"><a href="#local-6989586621679074999"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Constraint</span></span><span>
</span><span id="line-168"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="ForallV"><span class="annot"><a href="Data.Constraint.Forall.html#ForallV"><span class="hs-identifier hs-var">ForallV</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#ForallV_"><span class="hs-identifier hs-type">ForallV_</span></a></span><span>
</span><span id="line-169"></span><span>
</span><span id="line-170"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#ForallV%27"><span class="hs-identifier hs-type">ForallV'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075079"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="ForallV_"><span class="annot"><a href="Data.Constraint.Forall.html#ForallV_"><span class="hs-identifier hs-var">ForallV_</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075079"><span class="annot"><a href="#local-6989586621679075079"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679075080"><span class="annot"><a href="#local-6989586621679075080"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-171"></span><span id="local-6989586621679074998"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#ForallV%27"><span class="hs-identifier hs-type">ForallV'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074998"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#ForallV_"><span class="hs-identifier hs-type">ForallV_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074998"><span class="hs-identifier hs-type">p</span></a></span></span><span>
</span><span id="line-172"></span><span>
</span><span id="line-173"></span><span class="hs-comment">-- | Instantiate a quantified @'ForallV' p@ constraint as @c@, where</span><span>
</span><span id="line-174"></span><span class="hs-comment">-- @c ~ p a1 a2 ... an@.</span><span>
</span><span id="line-175"></span><span class="hs-keyword">class</span><span> </span><span id="InstV"><span class="annot"><a href="Data.Constraint.Forall.html#InstV"><span class="hs-identifier hs-var">InstV</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075073"><span class="annot"><a href="#local-6989586621679075073"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679075074"><span class="annot"><a href="#local-6989586621679075074"><span class="hs-identifier hs-type hs-type hs-type">k</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679075072"><span class="annot"><a href="#local-6989586621679075072"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679075074"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075072"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075073"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-176"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span id="ForallV%27"><span class="annot"><a href="Data.Constraint.Forall.html#ForallV%27"><span class="hs-identifier hs-var">ForallV'</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679075073"><span class="annot"><a href="#local-6989586621679075073"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679075074"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Constraint</span></span><span>
</span><span id="line-177"></span><span>    </span><span id="instV"><span class="annot"><a href="Data.Constraint.Forall.html#instV"><span class="hs-identifier hs-type">instV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#ForallV"><span class="hs-identifier hs-type">ForallV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075073"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="Data.Constraint.html#%3A-"><span class="hs-operator hs-type">:-</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075072"><span class="hs-identifier hs-type">c</span></a></span><span>
</span><span id="line-178"></span><span>
</span><span id="line-179"></span><span id="local-6989586621679074994"><span id="local-6989586621679074995"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="#local-6989586621679074995"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679074994"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#InstV"><span class="hs-identifier hs-type">InstV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679074995"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Constraint</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679074994"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-180"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span id="ForallV%27"><span class="annot"><a href="Data.Constraint.Forall.html#ForallV%27"><span class="hs-identifier hs-var">ForallV'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679074995"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Constraint</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679074995"><span class="hs-identifier hs-type">p</span></a></span><span>
</span><span id="line-181"></span><span>    </span><span id="local-6989586621679074991"><span class="annot"><span class="annottext">instV :: ForallV p :- c
</span><a href="#local-6989586621679074991"><span class="hs-identifier hs-var hs-var hs-var hs-var">instV</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ForallV_ c =&gt; Dict c) -&gt; ForallV_ c :- c
forall (a :: Constraint) (b :: Constraint). (a =&gt; Dict b) -&gt; a :- b
</span><a href="Data.Constraint.html#Sub"><span class="hs-identifier hs-var">Sub</span></a></span><span> </span><span class="annot"><span class="annottext">ForallV_ c =&gt; Dict c
forall (a :: Constraint). a =&gt; Dict a
</span><a href="Data.Constraint.html#Dict"><span class="hs-identifier hs-var">Dict</span></a></span></span></span><span>
</span><span id="line-182"></span><span>
</span><span id="line-183"></span><span class="hs-comment">-- Treating 1 argument specially rather than recursing as a bit of (premature?)</span><span>
</span><span id="line-184"></span><span class="hs-comment">-- optimization</span><span>
</span><span id="line-185"></span><span id="local-6989586621679074987"><span id="local-6989586621679074988"><span id="local-6989586621679074989"><span id="local-6989586621679074990"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="#local-6989586621679074990"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074989"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679074988"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#InstV"><span class="hs-identifier hs-type">InstV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679074990"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679074987"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Constraint</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679074988"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-186"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span id="ForallV%27"><span class="annot"><a href="Data.Constraint.Forall.html#ForallV%27"><span class="hs-identifier hs-var">ForallV'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679074990"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679074987"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Constraint</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#Forall"><span class="hs-identifier hs-type">Forall</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074990"><span class="hs-identifier hs-type">p</span></a></span><span>
</span><span id="line-187"></span><span>    </span><span id="local-6989586621679074985"><span class="annot"><span class="annottext">instV :: ForallV p :- c
</span><a href="#local-6989586621679074985"><span class="hs-identifier hs-var hs-var hs-var hs-var">instV</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ForallV_ p =&gt; Dict c) -&gt; ForallV_ p :- c
forall (a :: Constraint) (b :: Constraint). (a =&gt; Dict b) -&gt; a :- b
</span><a href="Data.Constraint.html#Sub"><span class="hs-identifier hs-var">Sub</span></a></span><span> </span><span class="annot"><span class="annottext">((ForallV_ p =&gt; Dict c) -&gt; ForallV_ p :- c)
-&gt; (ForallV_ p =&gt; Dict c) -&gt; ForallV_ p :- c
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Forall p :- c
forall k (p :: k -&gt; Constraint) (a :: k). Forall p :- p a
</span><a href="Data.Constraint.Forall.html#inst"><span class="hs-identifier hs-var">inst</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#Forall"><span class="hs-identifier hs-type">Forall</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074990"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="Data.Constraint.html#%3A-"><span class="hs-operator hs-type">:-</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074988"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-188"></span><span>        </span><span class="annot"><a href="Data.Constraint.html#Sub"><span class="hs-identifier hs-type">Sub</span></a></span><span> </span><span class="annot"><span class="annottext">Forall p =&gt; Dict c
</span><a href="Data.Constraint.html#Dict"><span class="hs-identifier hs-var">Dict</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Dict c
forall (a :: Constraint). a =&gt; Dict a
</span><a href="Data.Constraint.html#Dict"><span class="hs-identifier hs-var">Dict</span></a></span></span></span></span></span><span>
</span><span id="line-189"></span><span>
</span><span id="line-190"></span><span id="local-6989586621679074979"><span id="local-6989586621679074980"><span id="local-6989586621679074981"><span id="local-6989586621679074982"><span id="local-6989586621679074983"><span id="local-6989586621679074984"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#InstV"><span class="hs-identifier hs-type">InstV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679074984"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074983"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679074982"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#InstV"><span class="hs-identifier hs-type">InstV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679074984"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679074981"><span class="hs-identifier hs-type">k1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679074980"><span class="hs-identifier hs-type">k2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679074979"><span class="hs-identifier hs-type">k3</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679074982"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-191"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span id="ForallV%27"><span class="annot"><a href="Data.Constraint.Forall.html#ForallV%27"><span class="hs-identifier hs-var">ForallV'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679074984"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679074981"><span class="hs-identifier hs-type">k1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679074980"><span class="hs-identifier hs-type">k2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679074979"><span class="hs-identifier hs-type">k3</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#ForallF"><span class="hs-identifier hs-type">ForallF</span></a></span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#ForallV"><span class="hs-identifier hs-type">ForallV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074984"><span class="hs-identifier hs-type">p</span></a></span><span>
</span><span id="line-192"></span><span>    </span><span id="local-6989586621679074977"><span class="annot"><span class="annottext">instV :: ForallV p :- c
</span><a href="#local-6989586621679074977"><span class="hs-identifier hs-var hs-var hs-var hs-var">instV</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ForallV_ p =&gt; Dict c) -&gt; ForallV_ p :- c
forall (a :: Constraint) (b :: Constraint). (a =&gt; Dict b) -&gt; a :- b
</span><a href="Data.Constraint.html#Sub"><span class="hs-identifier hs-var">Sub</span></a></span><span> </span><span class="annot"><span class="annottext">((ForallV_ p =&gt; Dict c) -&gt; ForallV_ p :- c)
-&gt; (ForallV_ p =&gt; Dict c) -&gt; ForallV_ p :- c
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ForallF ForallV p :- ForallV (p a)
forall k2 k1 (p :: k2 -&gt; Constraint) (f :: k1 -&gt; k2) (a :: k1).
ForallF p f :- p (f a)
</span><a href="Data.Constraint.Forall.html#instF"><span class="hs-identifier hs-var">instF</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#ForallF"><span class="hs-identifier hs-type">ForallF</span></a></span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#ForallV"><span class="hs-identifier hs-type">ForallV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074984"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="Data.Constraint.html#%3A-"><span class="hs-operator hs-type">:-</span></a></span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#ForallV"><span class="hs-identifier hs-type">ForallV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679074984"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074983"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-193"></span><span>        </span><span class="annot"><a href="Data.Constraint.html#Sub"><span class="hs-identifier hs-type">Sub</span></a></span><span> </span><span class="annot"><span class="annottext">ForallF ForallV p =&gt; Dict (ForallV (p a))
</span><a href="Data.Constraint.html#Dict"><span class="hs-identifier hs-var">Dict</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ForallV (p a) :- c
forall k (p :: k) (c :: Constraint). InstV p c =&gt; ForallV p :- c
</span><a href="Data.Constraint.Forall.html#instV"><span class="hs-identifier hs-var">instV</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Constraint.Forall.html#ForallV"><span class="hs-identifier hs-type">ForallV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679074984"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074983"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Data.Constraint.html#%3A-"><span class="hs-operator hs-type">:-</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074982"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-194"></span><span>            </span><span class="annot"><a href="Data.Constraint.html#Sub"><span class="hs-identifier hs-type">Sub</span></a></span><span> </span><span class="annot"><span class="annottext">ForallV (p a) =&gt; Dict c
</span><a href="Data.Constraint.html#Dict"><span class="hs-identifier hs-var">Dict</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Dict c
forall (a :: Constraint). a =&gt; Dict a
</span><a href="Data.Constraint.html#Dict"><span class="hs-identifier hs-var">Dict</span></a></span></span></span></span></span></span></span><span>
</span><span id="line-195"></span><span>
</span><span id="line-196"></span><span class="annot"><a href="Data.Constraint.Forall.html#forall"><span class="hs-keyword hs-type">forall</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679074976"><span class="annot"><a href="#local-6989586621679074976"><span class="hs-identifier hs-type">p</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679075054"><span class="annot"><a href="#local-6989586621679075054"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.Constraint.html#Dict"><span class="hs-identifier hs-type">Dict</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679074976"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075054"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Constraint.html#Dict"><span class="hs-identifier hs-type">Dict</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Constraint.Forall.html#Forall"><span class="hs-identifier hs-type">Forall</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074976"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-197"></span><span id="forall"><span class="annot"><span class="annottext">forall :: (forall (a :: k). Dict (p a)) -&gt; Dict (Forall p)
</span><a href="Data.Constraint.Forall.html#forall"><span class="hs-keyword hs-var hs-var">forall</span></a></span></span><span> </span><span id="local-6989586621679074975"><span class="annot"><span class="annottext">forall (a :: k). Dict (p a)
</span><a href="#local-6989586621679074975"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Dict (p (Skolem p))
forall (a :: k). Dict (p a)
</span><a href="#local-6989586621679074975"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Constraint.html#Dict"><span class="hs-identifier hs-type">Dict</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679074976"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Constraint.Forall.html#Skolem"><span class="hs-identifier hs-type">Skolem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074976"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span> </span><span class="annot"><span class="annottext">Dict (p (Skolem p))
</span><a href="Data.Constraint.html#Dict"><span class="hs-identifier hs-var">Dict</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Dict (Forall p)
forall (a :: Constraint). a =&gt; Dict a
</span><a href="Data.Constraint.html#Dict"><span class="hs-identifier hs-var">Dict</span></a></span><span>
</span><span id="line-198"></span></pre></body></html>